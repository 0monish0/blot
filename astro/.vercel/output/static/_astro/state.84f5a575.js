import{b as Ko,l as Jt,y as oh,k as Mm,S as sf,D as _m}from"./preact.module.5538535e.js";import{p as oc,s as Rk,h as Lk,F as Tm,T as Nk}from"./hooks.module.81959310.js";import{g as dr,h as Ha}from"./editor.19beca6a.a6416c6a.js";function Dk(i,e){for(var t in e)i[t]=e[t];return i}function Qm(i,e){for(var t in i)if(t!=="__source"&&!(t in e))return!0;for(var n in e)if(n!=="__source"&&i[n]!==e[n])return!0;return!1}function Rm(i){this.props=i}(Rm.prototype=new Ko).isPureReactComponent=!0,Rm.prototype.shouldComponentUpdate=function(i,e){return Qm(this.props,i)||Qm(this.state,e)};var Lm=Jt.__b;Jt.__b=function(i){i.type&&i.type.__f&&i.ref&&(i.props.ref=i.ref,i.ref=null),Lm&&Lm(i)};var Vk=Jt.__e;Jt.__e=function(i,e,t,n){if(i.then){for(var s,r=e;r=r.__;)if((s=r.__c)&&s.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),s.__c(i,e)}Vk(i,e,t,n)};var Nm=Jt.unmount;function K0(i,e,t){return i&&(i.__c&&i.__c.__H&&(i.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),i.__c.__H=null),(i=Dk({},i)).__c!=null&&(i.__c.__P===t&&(i.__c.__P=e),i.__c=null),i.__k=i.__k&&i.__k.map(function(n){return K0(n,e,t)})),i}function J0(i,e,t){return i&&(i.__v=null,i.__k=i.__k&&i.__k.map(function(n){return J0(n,e,t)}),i.__c&&i.__c.__P===e&&(i.__e&&t.insertBefore(i.__e,i.__d),i.__c.__e=!0,i.__c.__P=t)),i}function Wc(){this.__u=0,this.t=null,this.__b=null}function ev(i){var e=i.__.__c;return e&&e.__a&&e.__a(i)}function Ka(){this.u=null,this.o=null}Jt.unmount=function(i){var e=i.__c;e&&e.__R&&e.__R(),e&&i.__h===!0&&(i.type=null),Nm&&Nm(i)},(Wc.prototype=new Ko).__c=function(i,e){var t=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(t);var s=ev(n.__v),r=!1,o=function(){r||(r=!0,t.__R=null,s?s(a):a())};t.__R=o;var a=function(){if(!--n.__u){if(n.state.__a){var h=n.state.__a;n.__v.__k[0]=J0(h,h.__c.__P,h.__c.__O)}var c;for(n.setState({__a:n.__b=null});c=n.t.pop();)c.forceUpdate()}},l=e.__h===!0;n.__u++||l||n.setState({__a:n.__b=n.__v.__k[0]}),i.then(o,o)},Wc.prototype.componentWillUnmount=function(){this.t=[]},Wc.prototype.render=function(i,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=K0(this.__b,t,n.__O=n.__P)}this.__b=null}var s=e.__a&&oh(Mm,null,i.fallback);return s&&(s.__h=null),[oh(Mm,null,e.__a?null:i.children),s]};var Dm=function(i,e,t){if(++t[1]===t[0]&&i.o.delete(e),i.props.revealOrder&&(i.props.revealOrder[0]!=="t"||!i.o.size))for(t=i.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;i.u=t=t[2]}};(Ka.prototype=new Ko).__a=function(i){var e=this,t=ev(e.__v),n=e.o.get(i);return n[0]++,function(s){var r=function(){e.props.revealOrder?(n.push(s),Dm(e,i,n)):s()};t?t(r):r()}},Ka.prototype.render=function(i){this.u=null,this.o=new Map;var e=sf(i.children);i.revealOrder&&i.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return i.children},Ka.prototype.componentDidUpdate=Ka.prototype.componentDidMount=function(){var i=this;this.o.forEach(function(e,t){Dm(i,t,e)})};var Bk=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Xk=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,zk=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Zk=/[A-Z0-9]/g,Uk=typeof document<"u",jk=function(i){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(i)};Ko.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(i){Object.defineProperty(Ko.prototype,i,{configurable:!0,get:function(){return this["UNSAFE_"+i]},set:function(e){Object.defineProperty(this,i,{configurable:!0,writable:!0,value:e})}})});var Vm=Jt.event;function Fk(){}function Wk(){return this.cancelBubble}function Yk(){return this.defaultPrevented}Jt.event=function(i){return Vm&&(i=Vm(i)),i.persist=Fk,i.isPropagationStopped=Wk,i.isDefaultPrevented=Yk,i.nativeEvent=i};var Gk={enumerable:!1,configurable:!0,get:function(){return this.class}},Bm=Jt.vnode;Jt.vnode=function(i){typeof i.type=="string"&&function(e){var t=e.props,n=e.type,s={};for(var r in t){var o=t[r];if(!(r==="value"&&"defaultValue"in t&&o==null||Uk&&r==="children"&&n==="noscript"||r==="class"||r==="className")){var a=r.toLowerCase();r==="defaultValue"&&"value"in t&&t.value==null?r="value":r==="download"&&o===!0?o="":a==="ondoubleclick"?r="ondblclick":a!=="onchange"||n!=="input"&&n!=="textarea"||jk(t.type)?a==="onfocus"?r="onfocusin":a==="onblur"?r="onfocusout":zk.test(r)?r=a:n.indexOf("-")===-1&&Xk.test(r)?r=r.replace(Zk,"-$&").toLowerCase():o===null&&(o=void 0):a=r="oninput",a==="oninput"&&s[r=a]&&(r="oninputCapture"),s[r]=o}}n=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=sf(t.children).forEach(function(l){l.props.selected=s.value.indexOf(l.props.value)!=-1})),n=="select"&&s.defaultValue!=null&&(s.value=sf(t.children).forEach(function(l){l.props.selected=s.multiple?s.defaultValue.indexOf(l.props.value)!=-1:s.defaultValue==l.props.value})),t.class&&!t.className?(s.class=t.class,Object.defineProperty(s,"className",Gk)):(t.className&&!t.class||t.class&&t.className)&&(s.class=s.className=t.className),e.props=s}(i),i.$$typeof=Bk,Bm&&Bm(i)};var Xm=Jt.__r;Jt.__r=function(i){Xm&&Xm(i),i.__c};var zm=Jt.diffed;Jt.diffed=function(i){zm&&zm(i);var e=i.props,t=i.__e;t!=null&&i.type==="textarea"&&"value"in e&&e.value!==t.value&&(t.value=e.value==null?"":e.value)};let Zm=0;const qk="_n",ac=()=>{const i=qk+Zm;return Zm++,[(e,t)=>{oc(()=>{const n=s=>{e(s.detail)};return document.addEventListener(i,n),()=>{document.removeEventListener(i,n)}},t)},e=>{const t=new CustomEvent(i,{detail:e});document.dispatchEvent(t)}]},Hk=()=>Rk(i=>({}),0)[1],tv=i=>{let e=i,t={...i};const[n,s]=ac();return[r=>{if(r!==null){const o=Hk();n(a=>{(!r||a.some(l=>r.includes(l)))&&o()},[])}return e},(r,o)=>{if(Array.isArray(r)&&(o=r,r=void 0),r)for(const a in r)e[a]=r[a];o??(o=Object.entries(e).filter(([a,l])=>l!==t[a]).map(([a])=>a));for(const a of o)t[a]=e[a];s(o)},()=>e]},[FN,Kk]=ac();class ze{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){let s=[];return this.decompose(0,e,s,2),n.length&&n.decompose(0,n.length,s,3),this.decompose(t,this.length,s,1),xn.from(s,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let n=[];return this.decompose(e,t,n,0),xn.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),s=new Bo(this),r=new Bo(e);for(let o=t,a=t;;){if(s.next(o),r.next(o),o=0,s.lineBreak!=r.lineBreak||s.done!=r.done||s.value!=r.value)return!1;if(a+=s.value.length,s.done||a>=n)return!0}}iter(e=1){return new Bo(this,e)}iterRange(e,t=this.length){return new iv(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t==null&&(t=this.lines+1);let s=this.line(e).from;n=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new nv(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?ze.empty:e.length<=32?new Ot(e):xn.from(Ot.split(e,[]))}}class Ot extends ze{constructor(e,t=Jk(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,s){for(let r=0;;r++){let o=this.text[r],a=s+o.length;if((t?n:a)>=e)return new eC(s,a,n,o);s=a+1,n++}}decompose(e,t,n,s){let r=e<=0&&t>=this.length?this:new Ot(Um(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(s&1){let o=n.pop(),a=Zl(r.text,o.text.slice(),0,r.length);if(a.length<=32)n.push(new Ot(a,o.length+r.length));else{let l=a.length>>1;n.push(new Ot(a.slice(0,l)),new Ot(a.slice(l)))}}else n.push(r)}replace(e,t,n){if(!(n instanceof Ot))return super.replace(e,t,n);let s=Zl(this.text,Zl(n.text,Um(this.text,0,e)),t),r=this.length+n.length-(t-e);return s.length<=32?new Ot(s,r):xn.from(Ot.split(s,[]),r)}sliceString(e,t=this.length,n=`
`){let s="";for(let r=0,o=0;r<=t&&o<this.text.length;o++){let a=this.text[o],l=r+a.length;r>e&&o&&(s+=n),e<l&&t>r&&(s+=a.slice(Math.max(0,e-r),t-r)),r=l+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],s=-1;for(let r of e)n.push(r),s+=r.length+1,n.length==32&&(t.push(new Ot(n,s)),n=[],s=-1);return s>-1&&t.push(new Ot(n,s)),t}}class xn extends ze{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,s){for(let r=0;;r++){let o=this.children[r],a=s+o.length,l=n+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,n,s);s=a+1,n=l+1}}decompose(e,t,n,s){for(let r=0,o=0;o<=t&&r<this.children.length;r++){let a=this.children[r],l=o+a.length;if(e<=l&&t>=o){let h=s&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!h?n.push(a):a.decompose(e-o,t-o,n,h)}o=l+1}}replace(e,t,n){if(n.lines<this.lines)for(let s=0,r=0;s<this.children.length;s++){let o=this.children[s],a=r+o.length;if(e>=r&&t<=a){let l=o.replace(e-r,t-r,n),h=this.lines-o.lines+l.lines;if(l.lines<h>>5-1&&l.lines>h>>5+1){let c=this.children.slice();return c[s]=l,new xn(c,this.length-(t-e)+n.length)}return super.replace(r,a,l)}r=a+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n=`
`){let s="";for(let r=0,o=0;r<this.children.length&&o<=t;r++){let a=this.children[r],l=o+a.length;o>e&&r&&(s+=n),e<l&&t>o&&(s+=a.sliceString(e-o,t-o,n)),o=l+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof xn))return 0;let n=0,[s,r,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,r+=t){if(s==o||r==a)return n;let l=this.children[s],h=e.children[r];if(l!=h)return n+l.scanIdentical(h,t);n+=l.length+1}}static from(e,t=e.reduce((n,s)=>n+s.length+1,-1)){let n=0;for(let g of e)n+=g.lines;if(n<32){let g=[];for(let y of e)y.flatten(g);return new Ot(g,t)}let s=Math.max(32,n>>5),r=s<<1,o=s>>1,a=[],l=0,h=-1,c=[];function f(g){let y;if(g.lines>r&&g instanceof xn)for(let v of g.children)f(v);else g.lines>o&&(l>o||!l)?(p(),a.push(g)):g instanceof Ot&&l&&(y=c[c.length-1])instanceof Ot&&g.lines+y.lines<=32?(l+=g.lines,h+=g.length+1,c[c.length-1]=new Ot(y.text.concat(g.text),y.length+1+g.length)):(l+g.lines>s&&p(),l+=g.lines,h+=g.length+1,c.push(g))}function p(){l!=0&&(a.push(c.length==1?c[0]:xn.from(c,h)),h=-1,l=c.length=0)}for(let g of e)f(g);return p(),a.length==1?a[0]:new xn(a,t)}}ze.empty=new Ot([""],0);function Jk(i){let e=-1;for(let t of i)e+=t.length+1;return e}function Zl(i,e,t=0,n=1e9){for(let s=0,r=0,o=!0;r<i.length&&s<=n;r++){let a=i[r],l=s+a.length;l>=t&&(l>n&&(a=a.slice(0,n-s)),s<t&&(a=a.slice(t-s)),o?(e[e.length-1]+=a,o=!1):e.push(a)),s=l+1}return e}function Um(i,e,t){return Zl(i,[""],e,t)}class Bo{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Ot?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,s=this.nodes[n],r=this.offsets[n],o=r>>1,a=s instanceof Ot?s.text.length:s.children.length;if(o==(t>0?a:0)){if(n==0)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((r&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof Ot){let l=s.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=s.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Ot?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class iv{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new Bo(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=n?s:t<0?s.slice(s.length-n):s.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class nv{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:s}=this.inner.next(e);return t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(ze.prototype[Symbol.iterator]=function(){return this.iter()},Bo.prototype[Symbol.iterator]=iv.prototype[Symbol.iterator]=nv.prototype[Symbol.iterator]=function(){return this});class eC{constructor(e,t,n,s){this.from=e,this.to=t,this.number=n,this.text=s}get length(){return this.to-this.from}}let Mr="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(i=>i?parseInt(i,36):1);for(let i=1;i<Mr.length;i++)Mr[i]+=Mr[i-1];function tC(i){for(let e=1;e<Mr.length;e+=2)if(Mr[e]>i)return Mr[e-1]<=i;return!1}function jm(i){return i>=127462&&i<=127487}const Fm=8205;function Kt(i,e,t=!0,n=!0){return(t?sv:iC)(i,e,n)}function sv(i,e,t){if(e==i.length)return e;e&&rv(i.charCodeAt(e))&&ov(i.charCodeAt(e-1))&&e--;let n=Ft(i,e);for(e+=Di(n);e<i.length;){let s=Ft(i,e);if(n==Fm||s==Fm||t&&tC(s))e+=Di(s),n=s;else if(jm(s)){let r=0,o=e-2;for(;o>=0&&jm(Ft(i,o));)r++,o-=2;if(r%2==0)break;e+=2}else break}return e}function iC(i,e,t){for(;e>0;){let n=sv(i,e-2,t);if(n<e)return n;e--}return 0}function rv(i){return i>=56320&&i<57344}function ov(i){return i>=55296&&i<56320}function Ft(i,e){let t=i.charCodeAt(e);if(!ov(t)||e+1==i.length)return t;let n=i.charCodeAt(e+1);return rv(n)?(t-55296<<10)+(n-56320)+65536:t}function Ed(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i>>10)+55296,(i&1023)+56320))}function Di(i){return i<65536?1:2}const rf=/\r\n?|\n/;var Dt=function(i){return i[i.Simple=0]="Simple",i[i.TrackDel=1]="TrackDel",i[i.TrackBefore=2]="TrackBefore",i[i.TrackAfter=3]="TrackAfter",i}(Dt||(Dt={}));class $n{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,s=0;t<this.sections.length;){let r=this.sections[t++],o=this.sections[t++];o<0?(e(n,s,r),s+=r):s+=o,n+=r}}iterChangedRanges(e,t=!1){of(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],s=this.sections[t++];s<0?e.push(n,s):e.push(s,n)}return new $n(e)}composeDesc(e){return this.empty?e:e.empty?this:av(this,e)}mapDesc(e,t=!1){return e.empty?this:af(this,e,t)}mapPos(e,t=-1,n=Dt.Simple){let s=0,r=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],h=s+a;if(l<0){if(h>e)return r+(e-s);r+=a}else{if(n!=Dt.Simple&&h>=e&&(n==Dt.TrackDel&&s<e&&h>e||n==Dt.TrackBefore&&s<e||n==Dt.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!a)return e==s||t<0?r:r+l;r+=l}s=h}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return r}touchesRange(e,t=e){for(let n=0,s=0;n<this.sections.length&&s<=t;){let r=this.sections[n++],o=this.sections[n++],a=s+r;if(o>=0&&s<=t&&a>=e)return s<e&&a>t?"cover":!0;s=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+n+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new $n(e)}static create(e){return new $n(e)}}class Rt extends $n{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return of(this,(t,n,s,r,o)=>e=e.replace(s,s+(n-t),o),!1),e}mapDesc(e,t=!1){return af(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let s=0,r=0;s<t.length;s+=2){let o=t[s],a=t[s+1];if(a>=0){t[s]=a,t[s+1]=o;let l=s>>1;for(;n.length<l;)n.push(ze.empty);n.push(o?e.slice(r,r+o):ze.empty)}r+=o}return new Rt(t,n)}compose(e){return this.empty?e:e.empty?this:av(this,e,!0)}map(e,t=!1){return e.empty?this:af(this,e,t,!0)}iterChanges(e,t=!1){of(this,e,t)}get desc(){return $n.create(this.sections)}filter(e){let t=[],n=[],s=[],r=new Jo(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&r.len==0;){if(r.done)break e;let c=Math.min(r.len,l-a);Ht(s,c,-1);let f=r.ins==-1?-1:r.off==0?r.ins:0;Ht(t,c,f),f>0&&ls(n,t,r.text),r.forward(c),a+=c}let h=e[o++];for(;a<h;){if(r.done)break e;let c=Math.min(r.len,h-a);Ht(t,c,-1),Ht(s,c,r.ins==-1?-1:r.off==0?r.ins:0),r.forward(c),a+=c}}return{changes:new Rt(t,n),filtered:$n.create(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],s=this.sections[t+1];s<0?e.push(n):s==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let s=[],r=[],o=0,a=null;function l(c=!1){if(!c&&!s.length)return;o<t&&Ht(s,t-o,-1);let f=new Rt(s,r);a=a?a.compose(f.map(a)):f,s=[],r=[],o=0}function h(c){if(Array.isArray(c))for(let f of c)h(f);else if(c instanceof Rt){if(c.length!=t)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${t})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:f,to:p=f,insert:g}=c;if(f>p||f<0||p>t)throw new RangeError(`Invalid change range ${f} to ${p} (in doc of length ${t})`);let y=g?typeof g=="string"?ze.of(g.split(n||rf)):g:ze.empty,v=y.length;if(f==p&&v==0)return;f<o&&l(),f>o&&Ht(s,f-o,-1),Ht(s,p-f,v),ls(r,s,y),o=p}}return h(e),l(!a),a}static empty(e){return new Rt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let s=0;s<e.length;s++){let r=e[s];if(typeof r=="number")t.push(r,-1);else{if(!Array.isArray(r)||typeof r[0]!="number"||r.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(r.length==1)t.push(r[0],0);else{for(;n.length<s;)n.push(ze.empty);n[s]=ze.of(r.slice(1)),t.push(r[0],n[s].length)}}}return new Rt(t,n)}static createSet(e,t){return new Rt(e,t)}}function Ht(i,e,t,n=!1){if(e==0&&t<=0)return;let s=i.length-2;s>=0&&t<=0&&t==i[s+1]?i[s]+=e:e==0&&i[s]==0?i[s+1]+=t:n?(i[s]+=e,i[s+1]+=t):i.push(e,t)}function ls(i,e,t){if(t.length==0)return;let n=e.length-2>>1;if(n<i.length)i[i.length-1]=i[i.length-1].append(t);else{for(;i.length<n;)i.push(ze.empty);i.push(t)}}function of(i,e,t){let n=i.inserted;for(let s=0,r=0,o=0;o<i.sections.length;){let a=i.sections[o++],l=i.sections[o++];if(l<0)s+=a,r+=a;else{let h=s,c=r,f=ze.empty;for(;h+=a,c+=l,l&&n&&(f=f.append(n[o-2>>1])),!(t||o==i.sections.length||i.sections[o+1]<0);)a=i.sections[o++],l=i.sections[o++];e(s,h,r,c,f),s=h,r=c}}}function af(i,e,t,n=!1){let s=[],r=n?[]:null,o=new Jo(i),a=new Jo(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let h=Math.min(o.len,a.len);Ht(s,h,-1),o.forward(h),a.forward(h)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let h=a.len;for(Ht(s,a.ins,-1);h;){let c=Math.min(o.len,h);o.ins>=0&&l<o.i&&o.len<=c&&(Ht(s,0,o.ins),r&&ls(r,s,o.text),l=o.i),o.forward(c),h-=c}a.next()}else if(o.ins>=0){let h=0,c=o.len;for(;c;)if(a.ins==-1){let f=Math.min(c,a.len);h+=f,c-=f,a.forward(f)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;Ht(s,h,l<o.i?o.ins:0),r&&l<o.i&&ls(r,s,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&a.done)return r?Rt.createSet(s,r):$n.create(s);throw new Error("Mismatched change set lengths")}}function av(i,e,t=!1){let n=[],s=t?[]:null,r=new Jo(i),o=new Jo(e);for(let a=!1;;){if(r.done&&o.done)return s?Rt.createSet(n,s):$n.create(n);if(r.ins==0)Ht(n,r.len,0,a),r.next();else if(o.len==0&&!o.done)Ht(n,0,o.ins,a),s&&ls(s,n,o.text),o.next();else{if(r.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(r.len2,o.len),h=n.length;if(r.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;Ht(n,l,c,a),s&&c&&ls(s,n,o.text)}else o.ins==-1?(Ht(n,r.off?0:r.len,l,a),s&&ls(s,n,r.textBit(l))):(Ht(n,r.off?0:r.len,o.off?0:o.ins,a),s&&!o.off&&ls(s,n,o.text));a=(r.ins>l||o.ins>=0&&o.len>l)&&(a||n.length>h),r.forward2(l),o.forward(l)}}}}class Jo{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?ze.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?ze.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Bs{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,t=-1){let n,s;return this.empty?n=s=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),n==this.from&&s==this.to?this:new Bs(n,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return F.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return F.range(this.anchor,n)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return F.range(e.anchor,e.head)}static create(e,t,n){return new Bs(e,t,n)}}class F{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:F.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new F([this.main],0)}addRange(e,t=!0){return F.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,F.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new F(e.ranges.map(t=>Bs.fromJSON(t)),e.main)}static single(e,t=e){return new F([F.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,s=0;s<e.length;s++){let r=e[s];if(r.empty?r.from<=n:r.from<n)return F.normalized(e.slice(),t);n=r.to}return new F(e,t)}static cursor(e,t=0,n,s){return Bs.create(e,e,(t==0?0:t<0?4:8)|(n==null?3:Math.min(2,n))|(s??33554431)<<5)}static range(e,t,n,s){let r=(n??33554431)<<5|(s==null?3:Math.min(2,s));return t<e?Bs.create(t,e,24|r):Bs.create(e,t,(t>e?4:0)|r)}static normalized(e,t=0){let n=e[t];e.sort((s,r)=>s.from-r.from),t=e.indexOf(n);for(let s=1;s<e.length;s++){let r=e[s],o=e[s-1];if(r.empty?r.from<=o.to:r.from<o.to){let a=o.from,l=Math.max(r.to,o.to);s<=t&&t--,e.splice(--s,2,r.anchor>r.head?F.range(l,a):F.range(a,l))}}return new F(e,t)}}function lv(i,e){for(let t of i.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Ad=0;class pe{constructor(e,t,n,s,r){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=s,this.id=Ad++,this.default=e([]),this.extensions=typeof r=="function"?r(this):r}static define(e={}){return new pe(e.combine||(t=>t),e.compareInput||((t,n)=>t===n),e.compare||(e.combine?(t,n)=>t===n:Id),!!e.static,e.enables)}of(e){return new Ul([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ul(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ul(e,this,2,t)}from(e,t){return t||(t=n=>n),this.compute([e],n=>t(n.field(e)))}}function Id(i,e){return i==e||i.length==e.length&&i.every((t,n)=>t===e[n])}class Ul{constructor(e,t,n,s){this.dependencies=e,this.facet=t,this.type=n,this.value=s,this.id=Ad++}dynamicSlot(e){var t;let n=this.value,s=this.facet.compareInput,r=this.id,o=e[r]>>1,a=this.type==2,l=!1,h=!1,c=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?h=!0:((t=e[f.id])!==null&&t!==void 0?t:1)&1||c.push(e[f.id]);return{create(f){return f.values[o]=n(f),1},update(f,p){if(l&&p.docChanged||h&&(p.docChanged||p.selection)||lf(f,c)){let g=n(f);if(a?!Wm(g,f.values[o],s):!s(g,f.values[o]))return f.values[o]=g,1}return 0},reconfigure:(f,p)=>{let g,y=p.config.address[r];if(y!=null){let v=lh(p,y);if(this.dependencies.every(w=>w instanceof pe?p.facet(w)===f.facet(w):w instanceof It?p.field(w,!1)==f.field(w,!1):!0)||(a?Wm(g=n(f),v,s):s(g=n(f),v)))return f.values[o]=v,0}else g=n(f);return f.values[o]=g,1}}}}function Wm(i,e,t){if(i.length!=e.length)return!1;for(let n=0;n<i.length;n++)if(!t(i[n],e[n]))return!1;return!0}function lf(i,e){let t=!1;for(let n of e)Xo(i,n)&1&&(t=!0);return t}function nC(i,e,t){let n=t.map(l=>i[l.id]),s=t.map(l=>l.type),r=n.filter(l=>!(l&1)),o=i[e.id]>>1;function a(l){let h=[];for(let c=0;c<n.length;c++){let f=lh(l,n[c]);if(s[c]==2)for(let p of f)h.push(p);else h.push(f)}return e.combine(h)}return{create(l){for(let h of n)Xo(l,h);return l.values[o]=a(l),1},update(l,h){if(!lf(l,r))return 0;let c=a(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,h){let c=lf(l,n),f=h.config.facets[e.id],p=h.facet(e);if(f&&!c&&Id(t,f))return l.values[o]=p,0;let g=a(l);return e.compare(g,p)?(l.values[o]=p,0):(l.values[o]=g,1)}}}const Ym=pe.define({static:!0});class It{constructor(e,t,n,s,r){this.id=e,this.createF=t,this.updateF=n,this.compareF=s,this.spec=r,this.provides=void 0}static define(e){let t=new It(Ad++,e.create,e.update,e.compare||((n,s)=>n===s),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Ym).find(n=>n.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:n=>(n.values[t]=this.create(n),1),update:(n,s)=>{let r=n.values[t],o=this.updateF(r,s);return this.compareF(r,o)?0:(n.values[t]=o,1)},reconfigure:(n,s)=>s.config.address[this.id]!=null?(n.values[t]=s.field(this),0):(n.values[t]=this.create(n),1)}}init(e){return[this,Ym.of({field:this,create:e})]}get extension(){return this}}const Ls={lowest:4,low:3,default:2,high:1,highest:0};function uo(i){return e=>new hv(e,i)}const $s={highest:uo(Ls.highest),high:uo(Ls.high),default:uo(Ls.default),low:uo(Ls.low),lowest:uo(Ls.lowest)};class hv{constructor(e,t){this.inner=e,this.prec=t}}class Jr{of(e){return new hf(this,e)}reconfigure(e){return Jr.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class hf{constructor(e,t){this.compartment=e,this.inner=t}}class ah{constructor(e,t,n,s,r,o){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=s,this.staticValues=r,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let s=[],r=Object.create(null),o=new Map;for(let p of sC(e,t,o))p instanceof It?s.push(p):(r[p.facet.id]||(r[p.facet.id]=[])).push(p);let a=Object.create(null),l=[],h=[];for(let p of s)a[p.id]=h.length<<1,h.push(g=>p.slot(g));let c=n?.config.facets;for(let p in r){let g=r[p],y=g[0].facet,v=c&&c[p]||[];if(g.every(w=>w.type==0))if(a[y.id]=l.length<<1|1,Id(v,g))l.push(n.facet(y));else{let w=y.combine(g.map(k=>k.value));l.push(n&&y.compare(w,n.facet(y))?n.facet(y):w)}else{for(let w of g)w.type==0?(a[w.id]=l.length<<1|1,l.push(w.value)):(a[w.id]=h.length<<1,h.push(k=>w.dynamicSlot(k)));a[y.id]=h.length<<1,h.push(w=>nC(w,y,g))}}let f=h.map(p=>p(a));return new ah(e,o,f,a,l,r)}}function sC(i,e,t){let n=[[],[],[],[],[]],s=new Map;function r(o,a){let l=s.get(o);if(l!=null){if(l<=a)return;let h=n[l].indexOf(o);h>-1&&n[l].splice(h,1),o instanceof hf&&t.delete(o.compartment)}if(s.set(o,a),Array.isArray(o))for(let h of o)r(h,a);else if(o instanceof hf){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(o.compartment)||o.inner;t.set(o.compartment,h),r(h,a)}else if(o instanceof hv)r(o.inner,o.prec);else if(o instanceof It)n[a].push(o),o.provides&&r(o.provides,a);else if(o instanceof Ul)n[a].push(o),o.facet.extensions&&r(o.facet.extensions,Ls.default);else{let h=o.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);r(h,a)}}return r(i,Ls.default),n.reduce((o,a)=>o.concat(a))}function Xo(i,e){if(e&1)return 2;let t=e>>1,n=i.status[t];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;i.status[t]=4;let s=i.computeSlot(i,i.config.dynamicSlots[t]);return i.status[t]=2|s}function lh(i,e){return e&1?i.config.staticValues[e>>1]:i.values[e>>1]}const cv=pe.define(),uv=pe.define({combine:i=>i.some(e=>e),static:!0}),fv=pe.define({combine:i=>i.length?i[0]:void 0,static:!0}),dv=pe.define(),pv=pe.define(),mv=pe.define(),gv=pe.define({combine:i=>i.length?i[0]:!1});class qn{constructor(e,t){this.type=e,this.value=t}static define(){return new rC}}class rC{of(e){return new qn(this,e)}}class oC{constructor(e){this.map=e}of(e){return new $e(this,e)}}class $e{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new $e(this.type,t)}is(e){return this.type==e}static define(e={}){return new oC(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let s of e){let r=s.map(t);r&&n.push(r)}return n}}$e.reconfigure=$e.define();$e.appendConfig=$e.define();class $t{constructor(e,t,n,s,r,o){this.startState=e,this.changes=t,this.selection=n,this.effects=s,this.annotations=r,this.scrollIntoView=o,this._doc=null,this._state=null,n&&lv(n,t.newLength),r.some(a=>a.type==$t.time)||(this.annotations=r.concat($t.time.of(Date.now())))}static create(e,t,n,s,r,o){return new $t(e,t,n,s,r,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation($t.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}$t.time=qn.define();$t.userEvent=qn.define();$t.addToHistory=qn.define();$t.remote=qn.define();function aC(i,e){let t=[];for(let n=0,s=0;;){let r,o;if(n<i.length&&(s==e.length||e[s]>=i[n]))r=i[n++],o=i[n++];else if(s<e.length)r=e[s++],o=e[s++];else return t;!t.length||t[t.length-1]<r?t.push(r,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function Ov(i,e,t){var n;let s,r,o;return t?(s=e.changes,r=Rt.empty(e.changes.length),o=i.changes.compose(e.changes)):(s=e.changes.map(i.changes),r=i.changes.mapDesc(e.changes,!0),o=i.changes.compose(s)),{changes:o,selection:e.selection?e.selection.map(r):(n=i.selection)===null||n===void 0?void 0:n.map(s),effects:$e.mapEffects(i.effects,s).concat($e.mapEffects(e.effects,r)),annotations:i.annotations.length?i.annotations.concat(e.annotations):e.annotations,scrollIntoView:i.scrollIntoView||e.scrollIntoView}}function cf(i,e,t){let n=e.selection,s=_r(e.annotations);return e.userEvent&&(s=s.concat($t.userEvent.of(e.userEvent))),{changes:e.changes instanceof Rt?e.changes:Rt.of(e.changes||[],t,i.facet(fv)),selection:n&&(n instanceof F?n:F.single(n.anchor,n.head)),effects:_r(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function yv(i,e,t){let n=cf(i,e.length?e[0]:{},i.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let r=1;r<e.length;r++){e[r].filter===!1&&(t=!1);let o=!!e[r].sequential;n=Ov(n,cf(i,e[r],o?n.changes.newLength:i.doc.length),o)}let s=$t.create(i,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return hC(t?lC(s):s)}function lC(i){let e=i.startState,t=!0;for(let s of e.facet(dv)){let r=s(i);if(r===!1){t=!1;break}Array.isArray(r)&&(t=t===!0?r:aC(t,r))}if(t!==!0){let s,r;if(t===!1)r=i.changes.invertedDesc,s=Rt.empty(e.doc.length);else{let o=i.changes.filter(t);s=o.changes,r=o.filtered.mapDesc(o.changes).invertedDesc}i=$t.create(e,s,i.selection&&i.selection.map(r),$e.mapEffects(i.effects,r),i.annotations,i.scrollIntoView)}let n=e.facet(pv);for(let s=n.length-1;s>=0;s--){let r=n[s](i);r instanceof $t?i=r:Array.isArray(r)&&r.length==1&&r[0]instanceof $t?i=r[0]:i=yv(e,_r(r),!1)}return i}function hC(i){let e=i.startState,t=e.facet(mv),n=i;for(let s=t.length-1;s>=0;s--){let r=t[s](i);r&&Object.keys(r).length&&(n=Ov(n,cf(e,r,i.changes.newLength),!0))}return n==i?i:$t.create(e,i.changes,i.selection,n.effects,n.annotations,n.scrollIntoView)}const cC=[];function _r(i){return i==null?cC:Array.isArray(i)?i:[i]}var at=function(i){return i[i.Word=0]="Word",i[i.Space=1]="Space",i[i.Other=2]="Other",i}(at||(at={}));const uC=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let uf;try{uf=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function fC(i){if(uf)return uf.test(i);for(let e=0;e<i.length;e++){let t=i[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||uC.test(t)))return!0}return!1}function dC(i){return e=>{if(!/\S/.test(e))return at.Space;if(fC(e))return at.Word;for(let t=0;t<i.length;t++)if(e.indexOf(i[t])>-1)return at.Word;return at.Other}}class Ve{constructor(e,t,n,s,r,o){this.config=e,this.doc=t,this.selection=n,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=r,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Xo(this,a<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw new RangeError("Field is not present in this state");return}return Xo(this,n),lh(this,n)}update(...e){return yv(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:s}=t;for(let o of e.effects)o.is(Jr.reconfigure)?(t&&(s=new Map,t.compartments.forEach((a,l)=>s.set(l,a)),t=null),s.set(o.value.compartment,o.value.extension)):o.is($e.reconfigure)?(t=null,n=o.value):o.is($e.appendConfig)&&(t=null,n=_r(n).concat(o.value));let r;t?r=e.startState.values.slice():(t=ah.resolve(n,s,this),r=new Ve(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(a,l)=>l.reconfigure(a,this),null).values),new Ve(t,e.newDoc,e.newSelection,r,(o,a)=>a.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:F.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),s=this.changes(n.changes),r=[n.range],o=_r(n.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),h=this.changes(l.changes),c=h.map(s);for(let p=0;p<a;p++)r[p]=r[p].map(c);let f=s.mapDesc(h,!0);r.push(l.range.map(f)),s=s.compose(c),o=$e.mapEffects(o,c).concat($e.mapEffects(_r(l.effects),f))}return{changes:s,selection:F.create(r,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Rt?e:Rt.of(e,this.doc.length,this.facet(Ve.lineSeparator))}toText(e){return ze.of(e.split(this.facet(Ve.lineSeparator)||rf))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Xo(this,t),lh(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let s=e[n];s instanceof It&&this.config.address[s.id]!=null&&(t[n]=s.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(n){for(let r in n)if(Object.prototype.hasOwnProperty.call(e,r)){let o=n[r],a=e[r];s.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Ve.create({doc:e.doc,selection:F.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let t=ah.resolve(e.extensions||[],new Map),n=e.doc instanceof ze?e.doc:ze.of((e.doc||"").split(t.staticFacet(Ve.lineSeparator)||rf)),s=e.selection?e.selection instanceof F?e.selection:F.single(e.selection.anchor,e.selection.head):F.single(0);return lv(s,n.length),t.staticFacet(uv)||(s=s.asSingle()),new Ve(t,n,s,t.dynamicSlots.map(()=>null),(r,o)=>o.create(r),null)}get tabSize(){return this.facet(Ve.tabSize)}get lineBreak(){return this.facet(Ve.lineSeparator)||`
`}get readOnly(){return this.facet(gv)}phrase(e,...t){for(let n of this.facet(Ve.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(n,s)=>{if(s=="$")return"$";let r=+(s||1);return!r||r>t.length?n:t[r-1]})),e}languageDataAt(e,t,n=-1){let s=[];for(let r of this.facet(cv))for(let o of r(this,t,n))Object.prototype.hasOwnProperty.call(o,e)&&s.push(o[e]);return s}charCategorizer(e){return dC(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:s}=this.doc.lineAt(e),r=this.charCategorizer(e),o=e-n,a=e-n;for(;o>0;){let l=Kt(t,o,!1);if(r(t.slice(l,o))!=at.Word)break;o=l}for(;a<s;){let l=Kt(t,a);if(r(t.slice(a,l))!=at.Word)break;a=l}return o==a?null:F.range(o+n,a+n)}}Ve.allowMultipleSelections=uv;Ve.tabSize=pe.define({combine:i=>i.length?i[0]:4});Ve.lineSeparator=fv;Ve.readOnly=gv;Ve.phrases=pe.define({compare(i,e){let t=Object.keys(i),n=Object.keys(e);return t.length==n.length&&t.every(s=>i[s]==e[s])}});Ve.languageData=cv;Ve.changeFilter=dv;Ve.transactionFilter=pv;Ve.transactionExtender=mv;Jr.reconfigure=$e.define();function Mn(i,e,t={}){let n={};for(let s of i)for(let r of Object.keys(s)){let o=s[r],a=n[r];if(a===void 0)n[r]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,r))n[r]=t[r](a,o);else throw new Error("Config merge conflict for field "+r)}for(let s in e)n[s]===void 0&&(n[s]=e[s]);return n}class Hs{eq(e){return this==e}range(e,t=e){return ff.create(e,t,this)}}Hs.prototype.startSide=Hs.prototype.endSide=0;Hs.prototype.point=!1;Hs.prototype.mapMode=Dt.TrackDel;let ff=class vv{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new vv(e,t,n)}};function df(i,e){return i.from-e.from||i.value.startSide-e.value.startSide}class Md{constructor(e,t,n,s){this.from=e,this.to=t,this.value=n,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,s=0){let r=n?this.to:this.from;for(let o=s,a=r.length;;){if(o==a)return o;let l=o+a>>1,h=r[l]-e||(n?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return h>=0?o:a;h>=0?a=l:o=l+1}}between(e,t,n,s){for(let r=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,r);r<o;r++)if(s(this.from[r]+e,this.to[r]+e,this.value[r])===!1)return!1}map(e,t){let n=[],s=[],r=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let h=this.value[l],c=this.from[l]+e,f=this.to[l]+e,p,g;if(c==f){let y=t.mapPos(c,h.startSide,h.mapMode);if(y==null||(p=g=y,h.startSide!=h.endSide&&(g=t.mapPos(c,h.endSide),g<p)))continue}else if(p=t.mapPos(c,h.startSide),g=t.mapPos(f,h.endSide),p>g||p==g&&h.startSide>0&&h.endSide<=0)continue;(g-p||h.endSide-h.startSide)<0||(o<0&&(o=p),h.point&&(a=Math.max(a,g-p)),n.push(h),s.push(p-o),r.push(g-o))}return{mapped:n.length?new Md(s,r,n,a):null,pos:o}}}class Ze{constructor(e,t,n,s){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=s}static create(e,t,n,s){return new Ze(e,t,n,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:s=0,filterTo:r=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(n&&(t=t.slice().sort(df)),this.isEmpty)return t.length?Ze.of(t):this;let a=new xv(this,null,-1).goto(0),l=0,h=[],c=new Un;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let f=t[l++];c.addInner(f.from,f.to,f.value)||h.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||s>this.chunkEnd(a.chunkIndex)||r<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||s>a.to||r<a.from||o(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||h.push(ff.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!h.length?Ze.empty:this.nextLayer.update({add:h,filter:o,filterFrom:s,filterTo:r}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],s=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],h=e.touchesRange(a,a+l.length);if(h===!1)s=Math.max(s,l.maxPoint),t.push(l),n.push(e.mapPos(a));else if(h===!0){let{mapped:c,pos:f}=l.map(a,e);c&&(s=Math.max(s,c.maxPoint),t.push(c),n.push(f))}}let r=this.nextLayer.map(e);return t.length==0?r:new Ze(n,t,r||Ze.empty,s)}between(e,t,n){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let r=this.chunkPos[s],o=this.chunk[s];if(t>=r&&e<=r+o.length&&o.between(r,e-r,t-r,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return ea.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return ea.from(e).goto(t)}static compare(e,t,n,s,r=-1){let o=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=r),a=t.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=r),l=Gm(o,a,n),h=new fo(o,l,r),c=new fo(a,l,r);n.iterGaps((f,p,g)=>qm(h,f,c,p,g,s)),n.empty&&n.length==0&&qm(h,0,c,0,0,s)}static eq(e,t,n=0,s){s==null&&(s=1e9-1);let r=e.filter(c=>!c.isEmpty&&t.indexOf(c)<0),o=t.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(r.length!=o.length)return!1;if(!r.length)return!0;let a=Gm(r,o),l=new fo(r,a,0).goto(n),h=new fo(o,a,0).goto(n);for(;;){if(l.to!=h.to||!pf(l.active,h.active)||l.point&&(!h.point||!l.point.eq(h.point)))return!1;if(l.to>s)return!0;l.next(),h.next()}}static spans(e,t,n,s,r=-1){let o=new fo(e,null,r).goto(t),a=t,l=o.openStart;for(;;){let h=Math.min(o.to,n);if(o.point){let c=o.activeForPoint(o.to),f=o.pointFrom<t?c.length+1:Math.min(c.length,l);s.point(a,h,o.point,c,f,o.pointRank),l=Math.min(o.openEnd(h),c.length)}else h>a&&(s.span(a,h,o.active,l),l=o.openEnd(h));if(o.to>n)return l+(o.point&&o.to>n?1:0);a=o.to,o.next()}}static of(e,t=!1){let n=new Un;for(let s of e instanceof ff?[e]:t?pC(e):e)n.add(s.from,s.to,s.value);return n.finish()}}Ze.empty=new Ze([],[],null,-1);function pC(i){if(i.length>1)for(let e=i[0],t=1;t<i.length;t++){let n=i[t];if(df(e,n)>0)return i.slice().sort(df);e=n}return i}Ze.empty.nextLayer=Ze.empty;class Un{finishChunk(e){this.chunks.push(new Md(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new Un)).add(e,t,n)}addInner(e,t,n){let s=e-this.lastTo||n.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Ze.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Ze.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Gm(i,e,t){let n=new Map;for(let r of i)for(let o=0;o<r.chunk.length;o++)r.chunk[o].maxPoint<=0&&n.set(r.chunk[o],r.chunkPos[o]);let s=new Set;for(let r of e)for(let o=0;o<r.chunk.length;o++){let a=n.get(r.chunk[o]);a!=null&&(t?t.mapPos(a):a)==r.chunkPos[o]&&!t?.touchesRange(a,a+r.chunk[o].length)&&s.add(r.chunk[o])}return s}class xv{constructor(e,t,n,s=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class ea{constructor(e){this.heap=e}static from(e,t=null,n=-1){let s=[];for(let r=0;r<e.length;r++)for(let o=e[r];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&s.push(new xv(o,t,n,r));return s.length==1?s[0]:new ea(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)Yc(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)Yc(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Yc(this.heap,0)}}}function Yc(i,e){for(let t=i[e];;){let n=(e<<1)+1;if(n>=i.length)break;let s=i[n];if(n+1<i.length&&s.compare(i[n+1])>=0&&(s=i[n+1],n++),t.compare(s)<0)break;i[n]=t,i[e]=s,e=n}}class fo{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ea.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Ja(this.active,e),Ja(this.activeTo,e),Ja(this.activeRank,e),this.minActive=Hm(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:s,rank:r}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=r;)t++;el(this.active,t,n),el(this.activeTo,t,s),el(this.activeRank,t,r),e&&el(e,t,this.cursor.from),this.minActive=Hm(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),n&&Ja(n,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let r=this.cursor.value;if(!r.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=r,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=r.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let s=n.length-1;s>=0&&n[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function qm(i,e,t,n,s,r){i.goto(e),t.goto(n);let o=n+s,a=n,l=n-e;for(;;){let h=i.to+l-t.to||i.endSide-t.endSide,c=h<0?i.to+l:t.to,f=Math.min(c,o);if(i.point||t.point?i.point&&t.point&&(i.point==t.point||i.point.eq(t.point))&&pf(i.activeForPoint(i.to),t.activeForPoint(t.to))||r.comparePoint(a,f,i.point,t.point):f>a&&!pf(i.active,t.active)&&r.compareRange(a,f,i.active,t.active),c>o)break;a=c,h<=0&&i.next(),h>=0&&t.next()}}function pf(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!=e[t]&&!i[t].eq(e[t]))return!1;return!0}function Ja(i,e){for(let t=e,n=i.length-1;t<n;t++)i[t]=i[t+1];i.pop()}function el(i,e,t){for(let n=i.length-1;n>=e;n--)i[n+1]=i[n];i[e]=t}function Hm(i,e){let t=-1,n=1e9;for(let s=0;s<e.length;s++)(e[s]-n||i[s].endSide-i[t].endSide)<0&&(t=s,n=e[s]);return t}function $a(i,e,t=i.length){let n=0;for(let s=0;s<t;)i.charCodeAt(s)==9?(n+=e-n%e,s++):(n++,s=Kt(i,s));return n}function mf(i,e,t,n){for(let s=0,r=0;;){if(r>=e)return s;if(s==i.length)break;r+=i.charCodeAt(s)==9?t-r%t:1,s=Kt(i,s)}return n===!0?-1:i.length}const gf="ͼ",Km=typeof Symbol>"u"?"__"+gf:Symbol.for(gf),Of=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Jm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Os{constructor(e,t){this.rules=[];let{finish:n}=t||{};function s(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function r(o,a,l,h){let c=[],f=/^@(\w+)\b/.exec(o[0]),p=f&&f[1]=="keyframes";if(f&&a==null)return l.push(o[0]+";");for(let g in a){let y=a[g];if(/&/.test(g))r(g.split(/,\s*/).map(v=>o.map(w=>v.replace(/&/,w))).reduce((v,w)=>v.concat(w)),y,l);else if(y&&typeof y=="object"){if(!f)throw new RangeError("The value of a property ("+g+") should be a primitive value.");r(s(g),y,c,p)}else y!=null&&c.push(g.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+y+";")}(c.length||p)&&l.push((n&&!f&&!h?o.map(n):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)r(s(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Jm[Km]||1;return Jm[Km]=e+1,gf+e.toString(36)}static mount(e,t){(e[Of]||new mC(e)).mount(Array.isArray(t)?t:[t])}}let eg=new Map;class mC{constructor(e){let t=e.ownerDocument||e,n=t.defaultView;if(!e.head&&e.adoptedStyleSheets&&n.CSSStyleSheet){let s=eg.get(t);if(s)return e.adoptedStyleSheets=[s.sheet,...e.adoptedStyleSheets],e[Of]=s;this.sheet=new n.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],eg.set(t,this)}else{this.styleTag=t.createElement("style");let s=e.head||e;s.insertBefore(this.styleTag,s.firstChild)}this.modules=[],e[Of]=this}mount(e){let t=this.sheet,n=0,s=0;for(let r=0;r<e.length;r++){let o=e[r],a=this.modules.indexOf(o);if(a<s&&a>-1&&(this.modules.splice(a,1),s--,a=-1),a==-1){if(this.modules.splice(s++,0,o),t)for(let l=0;l<o.rules.length;l++)t.insertRule(o.rules[l],n++)}else{for(;s<a;)n+=this.modules[s++].rules.length;n+=o.rules.length,s++}}if(!t){let r="";for(let o=0;o<this.modules.length;o++)r+=this.modules[o].getRules()+`
`;this.styleTag.textContent=r}}}var ys={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ta={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},gC=typeof navigator<"u"&&/Mac/.test(navigator.platform),OC=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Wt=0;Wt<10;Wt++)ys[48+Wt]=ys[96+Wt]=String(Wt);for(var Wt=1;Wt<=24;Wt++)ys[Wt+111]="F"+Wt;for(var Wt=65;Wt<=90;Wt++)ys[Wt]=String.fromCharCode(Wt+32),ta[Wt]=String.fromCharCode(Wt);for(var Gc in ys)ta.hasOwnProperty(Gc)||(ta[Gc]=ys[Gc]);function yC(i){var e=gC&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||OC&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",t=!e&&i.key||(i.shiftKey?ta:ys)[i.keyCode]||i.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function hh(i){let e;return i.nodeType==11?e=i.getSelection?i:i.ownerDocument:e=i,e.getSelection()}function yf(i,e){return e?i==e||i.contains(e.nodeType!=1?e.parentNode:e):!1}function vC(i){let e=i.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function jl(i,e){if(!e.anchorNode)return!1;try{return yf(i,e.anchorNode)}catch{return!1}}function ia(i){return i.nodeType==3?Ks(i,0,i.nodeValue.length).getClientRects():i.nodeType==1?i.getClientRects():[]}function ch(i,e,t,n){return t?tg(i,e,t,n,-1)||tg(i,e,t,n,1):!1}function uh(i){for(var e=0;;e++)if(i=i.previousSibling,!i)return e}function tg(i,e,t,n,s){for(;;){if(i==t&&e==n)return!0;if(e==(s<0?0:vs(i))){if(i.nodeName=="DIV")return!1;let r=i.parentNode;if(!r||r.nodeType!=1)return!1;e=uh(i)+(s<0?0:1),i=r}else if(i.nodeType==1){if(i=i.childNodes[e+(s<0?-1:0)],i.nodeType==1&&i.contentEditable=="false")return!1;e=s<0?vs(i):0}else return!1}}function vs(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function _d(i,e){let t=e?i.left:i.right;return{left:t,right:t,top:i.top,bottom:i.bottom}}function xC(i){return{left:0,right:i.innerWidth,top:0,bottom:i.innerHeight}}function SC(i,e,t,n,s,r,o,a){let l=i.ownerDocument,h=l.defaultView||window;for(let c=i,f=!1;c&&!f;)if(c.nodeType==1){let p,g=c==l.body;if(g)p=xC(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(f=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let w=c.getBoundingClientRect();p={left:w.left,right:w.left+c.clientWidth,top:w.top,bottom:w.top+c.clientHeight}}let y=0,v=0;if(s=="nearest")e.top<p.top?(v=-(p.top-e.top+o),t>0&&e.bottom>p.bottom+v&&(v=e.bottom-p.bottom+v+o)):e.bottom>p.bottom&&(v=e.bottom-p.bottom+o,t<0&&e.top-v<p.top&&(v=-(p.top+v-e.top+o)));else{let w=e.bottom-e.top,k=p.bottom-p.top;v=(s=="center"&&w<=k?e.top+w/2-k/2:s=="start"||s=="center"&&t<0?e.top-o:e.bottom-k+o)-p.top}if(n=="nearest"?e.left<p.left?(y=-(p.left-e.left+r),t>0&&e.right>p.right+y&&(y=e.right-p.right+y+r)):e.right>p.right&&(y=e.right-p.right+r,t<0&&e.left<p.left+y&&(y=-(p.left+y-e.left+r))):y=(n=="center"?e.left+(e.right-e.left)/2-(p.right-p.left)/2:n=="start"==a?e.left-r:e.right-(p.right-p.left)+r)-p.left,y||v)if(g)h.scrollBy(y,v);else{let w=0,k=0;if(v){let T=c.scrollTop;c.scrollTop+=v,k=c.scrollTop-T}if(y){let T=c.scrollLeft;c.scrollLeft+=y,w=c.scrollLeft-T}e={left:e.left-w,top:e.top-k,right:e.right-w,bottom:e.bottom-k},w&&Math.abs(w-y)<1&&(n="nearest"),k&&Math.abs(k-v)<1&&(s="nearest")}if(g)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function bC(i){let e=i.ownerDocument;for(let t=i.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class wC{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?vs(t):0),n,Math.min(e.focusOffset,n?vs(n):0))}set(e,t,n,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=s}}let pr=null;function Sv(i){if(i.setActive)return i.setActive();if(pr)return i.focus(pr);let e=[];for(let t=i;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(i.focus(pr==null?{get preventScroll(){return pr={preventScroll:!0},!0}}:void 0),!pr){pr=!1;for(let t=0;t<e.length;){let n=e[t++],s=e[t++],r=e[t++];n.scrollTop!=s&&(n.scrollTop=s),n.scrollLeft!=r&&(n.scrollLeft=r)}}}let ig;function Ks(i,e,t=e){let n=ig||(ig=document.createRange());return n.setEnd(i,t),n.setStart(i,e),n}function Tr(i,e,t){let n={key:e,code:e,keyCode:t,which:t,cancelable:!0},s=new KeyboardEvent("keydown",n);s.synthetic=!0,i.dispatchEvent(s);let r=new KeyboardEvent("keyup",n);return r.synthetic=!0,i.dispatchEvent(r),s.defaultPrevented||r.defaultPrevented}function kC(i){for(;i;){if(i&&(i.nodeType==9||i.nodeType==11&&i.host))return i;i=i.assignedSlot||i.parentNode}return null}function bv(i){for(;i.attributes.length;)i.removeAttributeNode(i.attributes[0])}function CC(i,e){let t=e.focusNode,n=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=n)return!1;for(n=Math.min(n,vs(t));;)if(n){if(t.nodeType!=1)return!1;let s=t.childNodes[n-1];s.contentEditable=="false"?n--:(t=s,n=vs(t))}else{if(t==i)return!0;n=uh(t),t=t.parentNode}}function wv(i){return i.scrollTop>Math.max(1,i.scrollHeight-i.clientHeight-4)}class oi{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new oi(e.parentNode,uh(e),t)}static after(e,t){return new oi(e.parentNode,uh(e)+1,t)}}const Td=[];class Ke{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let n=this.dom,s=null,r;for(let o of this.children){if(o.flags&7){if(!o.dom&&(r=s?s.nextSibling:n.firstChild)){let a=Ke.get(r);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(r)}o.sync(e,t),o.flags&=-8}if(r=s?s.nextSibling:n.firstChild,t&&!t.written&&t.node==n&&r!=o.dom&&(t.written=!0),o.dom.parentNode==n)for(;r&&r!=o.dom;)r=ng(r);else n.insertBefore(o.dom,r);s=o.dom}for(r=s?s.nextSibling:n.firstChild,r&&t&&t.node==n&&(t.written=!0);r;)r=ng(r)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let s=vs(e)==0?0:t==0?-1:1;for(;;){let r=e.parentNode;if(r==this.dom)break;s==0&&r.firstChild!=r.lastChild&&(e==r.firstChild?s=-1:s=1),e=r}s<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Ke.get(n);)n=n.nextSibling;if(!n)return this.length;for(let s=0,r=0;;s++){let o=this.children[s];if(o.dom==n)return r;r+=o.length+o.breakAfter}}domBoundsAround(e,t,n=0){let s=-1,r=-1,o=-1,a=-1;for(let l=0,h=n,c=n;l<this.children.length;l++){let f=this.children[l],p=h+f.length;if(h<e&&p>t)return f.domBoundsAround(e,t,h);if(p>=e&&s==-1&&(s=l,r=h),h>t&&f.dom.parentNode==this.dom){o=l,a=c;break}c=p,h=p+f.breakAfter}return{from:r,to:a<0?n+this.length:a,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=Td){this.markDirty();for(let s=e;s<t;s++){let r=this.children[s];r.parent==this&&r.destroy()}this.children.splice(e,t-e,...n);for(let s=0;s<n.length;s++)n[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new kv(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,s,r,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){this.parent=null}}Ke.prototype.breakAfter=0;function ng(i){let e=i.nextSibling;return i.parentNode.removeChild(i),e}class kv{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function Cv(i,e,t,n,s,r,o,a,l){let{children:h}=i,c=h.length?h[e]:null,f=r.length?r[r.length-1]:null,p=f?f.breakAfter:o;if(!(e==n&&c&&!o&&!p&&r.length<2&&c.merge(t,s,r.length?f:null,t==0,a,l))){if(n<h.length){let g=h[n];g&&s<g.length?(e==n&&(g=g.split(s),s=0),!p&&f&&g.merge(0,s,f,!0,0,l)?r[r.length-1]=g:(s&&g.merge(0,s,null,!1,0,l),r.push(g))):g?.breakAfter&&(f?f.breakAfter=1:o=1),n++}for(c&&(c.breakAfter=o,t>0&&(!o&&r.length&&c.merge(t,c.length,r[0],!1,a,0)?c.breakAfter=r.shift().breakAfter:(t<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(t,c.length,null,!1,a,0),e++));e<n&&r.length;)if(h[n-1].become(r[r.length-1]))n--,r.pop(),l=r.length?0:a;else if(h[e].become(r[0]))e++,r.shift(),a=r.length?0:l;else break;!r.length&&e&&n<h.length&&!h[e-1].breakAfter&&h[n].merge(0,0,h[e-1],!1,a,l)&&e--,(e<n||r.length)&&i.replaceChildren(e,n,r)}}function $v(i,e,t,n,s,r){let o=i.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:h,off:c}=o.findPos(e,-1),f=e-t;for(let p of n)f+=p.length;i.length+=f,Cv(i,h,c,a,l,n,0,s,r)}const Cr="￿";class Pv{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Ve.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Cr}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let s=e;;){this.findPointBefore(n,s);let r=this.text.length;this.readNode(s);let o=s.nextSibling;if(o==t)break;let a=Ke.get(s),l=Ke.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:sg(s))||sg(o)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>r)&&this.lineBreak(),s=o}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let r=-1,o=1,a;if(this.lineSeparator?(r=t.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(a=s.exec(t))&&(r=a.index,o=a[0].length),this.append(t.slice(n,r<0?t.length:r)),r<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);n=r+o}}readNode(e){if(e.cmIgnore)return;let t=Ke.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let s=n.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+Math.min(t,n.offset))}}function sg(i){return i.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(i.nodeName)}class rg{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}let wi=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},vf=typeof document<"u"?document:{documentElement:{style:{}}};const xf=/Edge\/(\d+)/.exec(wi.userAgent),Ev=/MSIE \d/.test(wi.userAgent),Sf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(wi.userAgent),lc=!!(Ev||Sf||xf),og=!lc&&/gecko\/(\d+)/i.test(wi.userAgent),qc=!lc&&/Chrome\/(\d+)/.exec(wi.userAgent),ag="webkitFontSmoothing"in vf.documentElement.style,Av=!lc&&/Apple Computer/.test(wi.vendor),lg=Av&&(/Mobile\/\w+/.test(wi.userAgent)||wi.maxTouchPoints>2);var me={mac:lg||/Mac/.test(wi.platform),windows:/Win/.test(wi.platform),linux:/Linux|X11/.test(wi.platform),ie:lc,ie_version:Ev?vf.documentMode||6:Sf?+Sf[1]:xf?+xf[1]:0,gecko:og,gecko_version:og?+(/Firefox\/(\d+)/.exec(wi.userAgent)||[0,0])[1]:0,chrome:!!qc,chrome_version:qc?+qc[1]:0,ios:lg,android:/Android\b/.test(wi.userAgent),webkit:ag,safari:Av,webkit_version:ag?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:vf.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const $C=256;class Pn extends Ke{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,n){return this.flags&8||n&&(!(n instanceof Pn)||this.length-(t-e)+n.length>$C||n.flags&8)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Pn(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new oi(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return PC(this.dom,e,t)}}class jn extends Ke{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let s of t)s.setParent(this)}setAttrs(e){if(bv(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,s,r,o){return n&&(!(n instanceof jn&&n.mark.eq(this.mark))||e&&r<=0||t<this.length&&o<=0)?!1:($v(this,e,t,n?n.children:[],r-1,o-1),this.markDirty(),!0)}split(e){let t=[],n=0,s=-1,r=0;for(let a of this.children){let l=n+a.length;l>e&&t.push(n<e?a.split(e-n):a),s<0&&n>=e&&(s=r),n=l,r++}let o=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new jn(this.mark,t,o)}domAtPos(e){return Iv(this,e)}coordsAt(e,t){return _v(this,e,t)}}function PC(i,e,t){let n=i.nodeValue.length;e>n&&(e=n);let s=e,r=e,o=0;e==0&&t<0||e==n&&t>=0?me.chrome||me.gecko||(e?(s--,o=1):r<n&&(r++,o=-1)):t<0?s--:r<n&&r++;let a=Ks(i,s,r).getClientRects();if(!a.length)return null;let l=a[(o?o<0:t>=0)?0:a.length-1];return me.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,h=>h.width)||l),o?_d(l,o<0):l||null}class Xs extends Ke{constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}static create(e,t,n){return new Xs(e,t,n)}split(e){let t=Xs.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,n,s,r,o){return n&&(!(n instanceof Xs)||!this.widget.compare(n.widget)||e>0&&r<=0||t<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e instanceof Xs&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return ze.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,s=this.posAtStart;return n?n.slice(s,s+this.length):ze.empty}domAtPos(e){return(this.length?e==0:this.side>0)?oi.before(this.dom):oi.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let s=this.dom.getClientRects(),r=null;if(!s.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?s.length-1:0;r=s[a],!(e>0?a==0:a==s.length-1||r.top<r.bottom);a+=o?-1:1);return _d(r,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Zr extends Ke{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Zr&&e.side==this.side}split(){return new Zr(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?oi.before(this.dom):oi.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return ze.empty}get isHidden(){return!0}}Pn.prototype.children=Xs.prototype.children=Zr.prototype.children=Td;function Iv(i,e){let t=i.dom,{children:n}=i,s=0;for(let r=0;s<n.length;s++){let o=n[s],a=r+o.length;if(!(a==r&&o.getSide()<=0)){if(e>r&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-r);if(e<=r)break;r=a}}for(let r=s;r>0;r--){let o=n[r-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let r=s;r<n.length;r++){let o=n[r];if(o.dom.parentNode==t)return o.domAtPos(0)}return new oi(t,0)}function Mv(i,e,t){let n,{children:s}=i;t>0&&e instanceof jn&&s.length&&(n=s[s.length-1])instanceof jn&&n.mark.eq(e.mark)?Mv(n,e.children[0],t-1):(s.push(e),e.setParent(i)),i.length+=e.length}function _v(i,e,t){let n=null,s=-1,r=null,o=-1;function a(h,c){for(let f=0,p=0;f<h.children.length&&p<=c;f++){let g=h.children[f],y=p+g.length;y>=c&&(g.children.length?a(g,c-p):(!r||r.isHidden&&t>0)&&(y>c||p==y&&g.getSide()>0)?(r=g,o=c-p):(p<c||p==y&&g.getSide()<0&&!g.isHidden)&&(n=g,s=c-p)),p=y}}a(i,e);let l=(t<0?n:r)||n||r;return l?l.coordsAt(Math.max(0,l==n?s:o),t):EC(i)}function EC(i){let e=i.dom.lastChild;if(!e)return i.dom.getBoundingClientRect();let t=ia(e);return t[t.length-1]||null}function bf(i,e){for(let t in i)t=="class"&&e.class?e.class+=" "+i.class:t=="style"&&e.style?e.style+=";"+i.style:e[t]=i[t];return e}const hg=Object.create(null);function Qd(i,e,t){if(i==e)return!0;i||(i=hg),e||(e=hg);let n=Object.keys(i),s=Object.keys(e);if(n.length-(t&&n.indexOf(t)>-1?1:0)!=s.length-(t&&s.indexOf(t)>-1?1:0))return!1;for(let r of n)if(r!=t&&(s.indexOf(r)==-1||i[r]!==e[r]))return!1;return!0}function wf(i,e,t){let n=null;if(e)for(let s in e)t&&s in t||i.removeAttribute(n=s);if(t)for(let s in t)e&&e[s]==t[s]||i.setAttribute(n=s,t[s]);return!!n}function AC(i){let e=Object.create(null);for(let t=0;t<i.attributes.length;t++){let n=i.attributes[t];e[n.name]=n.value}return e}class _n{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}destroy(e){}}var ft=function(i){return i[i.Text=0]="Text",i[i.WidgetBefore=1]="WidgetBefore",i[i.WidgetAfter=2]="WidgetAfter",i[i.WidgetRange=3]="WidgetRange",i}(ft||(ft={}));class ye extends Hs{constructor(e,t,n,s){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=s}get heightRelevant(){return!1}static mark(e){return new Pa(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new xs(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,s;if(e.isBlockGap)n=-5e8,s=4e8;else{let{start:r,end:o}=Tv(e,t);n=(r?t?-3e8:-1:5e8)-1,s=(o?t?2e8:1:-6e8)+1}return new xs(e,n,s,t,e.widget||null,!0)}static line(e){return new Ea(e)}static set(e,t=!1){return Ze.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ye.none=Ze.empty;class Pa extends ye{constructor(e){let{start:t,end:n}=Tv(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof Pa&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((n=e.attrs)===null||n===void 0?void 0:n.class))&&Qd(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Pa.prototype.point=!1;class Ea extends ye{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Ea&&this.spec.class==e.spec.class&&Qd(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Ea.prototype.mapMode=Dt.TrackBefore;Ea.prototype.point=!0;class xs extends ye{constructor(e,t,n,s,r,o){super(t,n,r,e),this.block=s,this.isReplace=o,this.mapMode=s?t<=0?Dt.TrackBefore:Dt.TrackAfter:Dt.TrackDel}get type(){return this.startSide<this.endSide?ft.WidgetRange:this.startSide<=0?ft.WidgetBefore:ft.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof xs&&IC(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}xs.prototype.point=!0;function Tv(i,e=!1){let{inclusiveStart:t,inclusiveEnd:n}=i;return t==null&&(t=i.inclusive),n==null&&(n=i.inclusive),{start:t??e,end:n??e}}function IC(i,e){return i==e||!!(i&&e&&i.compare(e))}function kf(i,e,t,n=0){let s=t.length-1;s>=0&&t[s]+n>=i?t[s]=Math.max(t[s],e):t.push(i,e)}class ri extends Ke{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,s,r,o){if(n){if(!(n instanceof ri))return!1;this.dom||n.transferDOM(this)}return s&&this.setDeco(n?n.attrs:null),$v(this,e,t,n?n.children:[],r,o),!0}split(e){let t=new ri;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:n,off:s}=this.childPos(e);s&&(t.append(this.children[n].split(s),0),this.children[n].merge(s,this.children[n].length,null,!1,0,0),n++);for(let r=n;r<this.children.length;r++)t.append(this.children[r],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Qd(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Mv(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=bf(t,this.attrs||{})),n&&(this.attrs=bf({class:n},this.attrs||{}))}domAtPos(e){return Iv(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?this.flags&4&&(bv(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(wf(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let s=this.dom.lastChild;for(;s&&Ke.get(s)instanceof jn;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((n=Ke.get(s))===null||n===void 0?void 0:n.isEditable)==!1&&(!me.ios||!this.children.some(r=>r instanceof Pn))){let r=document.createElement("BR");r.cmIgnore=!0,this.dom.appendChild(r)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let n of this.children){if(!(n instanceof Pn)||/[^ -~]/.test(n.text))return null;let s=ia(n.dom);if(s.length!=1)return null;e+=s[0].width,t=s[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let n=_v(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:s}=this.parent.view.viewState,r=n.bottom-n.top;if(Math.abs(r-s.lineHeight)<2&&s.textHeight<r){let o=(r-s.textHeight)/2;return{top:n.top+o,bottom:n.bottom-o,left:n.left,right:n.left}}}return n}become(e){return!1}get type(){return ft.Text}static find(e,t){for(let n=0,s=0;n<e.children.length;n++){let r=e.children[n],o=s+r.length;if(o>=t){if(r instanceof ri)return r;if(o>t)break}s=o+r.breakAfter}return null}}class Us extends Ke{constructor(e,t,n){super(),this.widget=e,this.length=t,this.type=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,s,r,o){return n&&(!(n instanceof Us)||!this.widget.compare(n.widget)||e>0&&r<=0||t<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?oi.before(this.dom):oi.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new Us(this.widget,t,this.type);return n.breakAfter=this.breakAfter,n}get children(){return Td}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ze.empty}domBoundsAround(){return null}become(e){return e instanceof Us&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.type=e.type,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class zo{constructor(e,t,n,s){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Us&&e.type==ft.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new ri),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(tl(new Zr(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:r,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=r,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(tl(new Pn(this.text.slice(this.textOff,this.textOff+s)),t),n),this.atCursorPos=!0,this.textOff+=s,e-=s,n=0}}span(e,t,n,s){this.buildText(t-e,n,s),this.pos=t,this.openStart<0&&(this.openStart=s)}point(e,t,n,s,r,o){if(this.disallowBlockEffectsFor[o]&&n instanceof xs){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(n instanceof xs)if(n.block){let{type:l}=n;l==ft.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Us(n.widget||new cg("div"),a,l))}else{let l=Xs.create(n.widget||new cg("span"),a,a?0:n.startSide),h=this.atCursorPos&&!l.isEditable&&r<=s.length&&(e<t||n.startSide>0),c=!l.isEditable&&(e<t||r>s.length||n.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!h&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),h&&(f.append(tl(new Zr(1),s),r),r=s.length+Math.max(0,r-s.length)),f.append(tl(l,s),r),this.atCursorPos=c,this.pendingBuffer=c?e<t||r>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=r)}static build(e,t,n,s,r){let o=new zo(e,t,n,r);return o.openEnd=Ze.spans(s,t,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function tl(i,e){for(let t of e)i=new jn(t,[i],i.length);return i}class cg extends _n{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const Qv=pe.define(),Rv=pe.define(),Lv=pe.define(),Nv=pe.define(),Cf=pe.define(),Dv=pe.define(),Vv=pe.define(),Bv=pe.define({combine:i=>i.some(e=>e)}),Xv=pe.define({combine:i=>i.some(e=>e)});class fh{constructor(e,t="nearest",n="nearest",s=5,r=5){this.range=e,this.y=t,this.x=n,this.yMargin=s,this.xMargin=r}map(e){return e.empty?this:new fh(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const ug=$e.define({map:(i,e)=>i.map(e)});function zi(i,e,t){let n=i.facet(Nv);n.length?n[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const hc=pe.define({combine:i=>i.length?i[0]:!0});let MC=0;const Ao=pe.define();class gt{constructor(e,t,n,s){this.id=e,this.create=t,this.domEventHandlers=n,this.extension=s(this)}static define(e,t){const{eventHandlers:n,provide:s,decorations:r}=t||{};return new gt(MC++,e,n,o=>{let a=[Ao.of(o)];return r&&a.push(na.of(l=>{let h=l.plugin(o);return h?r(h):ye.none})),s&&a.push(s(o)),a})}static fromClass(e,t){return gt.define(n=>new e(n),t)}}class Hc{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(zi(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){zi(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(n){zi(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const zv=pe.define(),Rd=pe.define(),na=pe.define(),Ld=pe.define(),Zv=pe.define();function Uv(i){let e=0,t=0,n=0,s=0;for(let r of i.state.facet(Zv)){let o=r(i);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(n=Math.max(n,o.top)),o.bottom!=null&&(s=Math.max(s,o.bottom)))}return{left:e,right:t,top:n,bottom:s}}const Io=pe.define();class Zi{constructor(e,t,n,s){this.fromA=e,this.toA=t,this.fromB=n,this.toB=s}join(e){return new Zi(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>n.toA)){if(s.toA<n.fromA)break;n=n.join(s),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(t.length==0)return e;let n=[];for(let s=0,r=0,o=0,a=0;;s++){let l=s==e.length?null:e[s],h=o-a,c=l?l.fromB:1e9;for(;r<t.length&&t[r]<c;){let f=t[r],p=t[r+1],g=Math.max(a,f),y=Math.min(c,p);if(g<=y&&new Zi(g+h,y+h,g,y).addToSet(n),p>c)break;r+=2}if(!l)return n;new Zi(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),o=l.toA,a=l.toB}}}class dh{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=Rt.empty(this.startState.doc.length);for(let r of n)this.changes=this.changes.compose(r.changes);let s=[];this.changes.iterChangedRanges((r,o,a,l)=>s.push(new Zi(r,o,a,l))),this.changedRanges=s}static create(e,t,n){return new dh(e,t,n)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var lt=function(i){return i[i.LTR=0]="LTR",i[i.RTL=1]="RTL",i}(lt||(lt={}));const $f=lt.LTR,_C=lt.RTL;function jv(i){let e=[];for(let t=0;t<i.length;t++)e.push(1<<+i[t]);return e}const TC=jv("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),QC=jv("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Pf=Object.create(null),ln=[];for(let i of["()","[]","{}"]){let e=i.charCodeAt(0),t=i.charCodeAt(1);Pf[e]=t,Pf[t]=-e}function RC(i){return i<=247?TC[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?QC[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8203?256:64336<=i&&i<=65023?4:i==8204?256:1}const LC=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Qr{constructor(e,t,n){this.from=e,this.to=t,this.level=n}get dir(){return this.level%2?_C:$f}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,n,s){let r=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==n)return o;(r<0||(s!=0?s<0?a.from<t:a.to>t:e[r].level>a.level))&&(r=o)}}if(r<0)throw new RangeError("Index out of range");return r}}const ht=[];function NC(i,e){let t=i.length,n=e==$f?1:2,s=e==$f?2:1;if(!i||n==1&&!LC.test(i))return Fv(t);for(let o=0,a=n,l=n;o<t;o++){let h=RC(i.charCodeAt(o));h==512?h=a:h==8&&l==4&&(h=16),ht[o]=h==4?2:h,h&7&&(l=h),a=h}for(let o=0,a=n,l=n;o<t;o++){let h=ht[o];if(h==128)o<t-1&&a==ht[o+1]&&a&24?h=ht[o]=a:ht[o]=256;else if(h==64){let c=o+1;for(;c<t&&ht[c]==64;)c++;let f=o&&a==8||c<t&&ht[c]==8?l==1?1:8:256;for(let p=o;p<c;p++)ht[p]=f;o=c-1}else h==8&&l==1&&(ht[o]=1);a=h,h&7&&(l=h)}for(let o=0,a=0,l=0,h,c,f;o<t;o++)if(c=Pf[h=i.charCodeAt(o)])if(c<0){for(let p=a-3;p>=0;p-=3)if(ln[p+1]==-c){let g=ln[p+2],y=g&2?n:g&4?g&1?s:n:0;y&&(ht[o]=ht[ln[p]]=y),a=p;break}}else{if(ln.length==189)break;ln[a++]=o,ln[a++]=h,ln[a++]=l}else if((f=ht[o])==2||f==1){let p=f==n;l=p?0:1;for(let g=a-3;g>=0;g-=3){let y=ln[g+2];if(y&2)break;if(p)ln[g+2]|=2;else{if(y&4)break;ln[g+2]|=4}}}for(let o=0;o<t;o++)if(ht[o]==256){let a=o+1;for(;a<t&&ht[a]==256;)a++;let l=(o?ht[o-1]:n)==1,h=(a<t?ht[a]:n)==1,c=l==h?l?1:2:n;for(let f=o;f<a;f++)ht[f]=c;o=a-1}let r=[];if(n==1)for(let o=0;o<t;){let a=o,l=ht[o++]!=1;for(;o<t&&l==(ht[o]!=1);)o++;if(l)for(let h=o;h>a;){let c=h,f=ht[--h]!=2;for(;h>a&&f==(ht[h-1]!=2);)h--;r.push(new Qr(h,c,f?2:1))}else r.push(new Qr(a,o,0))}else for(let o=0;o<t;){let a=o,l=ht[o++]==2;for(;o<t&&l==(ht[o]==2);)o++;r.push(new Qr(a,o,l?1:2))}return r}function Fv(i){return[new Qr(0,i,0)]}let Wv="";function DC(i,e,t,n,s){var r;let o=n.head-i.from,a=-1;if(o==0){if(!s||!i.length)return null;e[0].level!=t&&(o=e[0].side(!1,t),a=0)}else if(o==i.length){if(s)return null;let p=e[e.length-1];p.level!=t&&(o=p.side(!0,t),a=e.length-1)}a<0&&(a=Qr.find(e,o,(r=n.bidiLevel)!==null&&r!==void 0?r:-1,n.assoc));let l=e[a];o==l.side(s,t)&&(l=e[a+=s?1:-1],o=l.side(!s,t));let h=s==(l.dir==t),c=Kt(i.text,o,h);if(Wv=i.text.slice(Math.min(o,c),Math.max(o,c)),c!=l.side(s,t))return F.cursor(c+i.from,h?-1:1,l.level);let f=a==(s?e.length-1:0)?null:e[a+(s?1:-1)];return!f&&l.level!=t?F.cursor(s?i.to:i.from,s?-1:1,t):f&&f.level<l.level?F.cursor(f.side(!s,t)+i.from,s?1:-1,f.level):F.cursor(c+i.from,s?-1:1,l.level)}class fg extends Ke{constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new ri],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Zi(0,0,0,e.state.doc.length)],0,null)}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:a,toA:l})=>l<this.minWidthFrom||a>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let n=this.view.inputState.composing<0?null:BC(this.view,e.changes);if(this.hasComposition){this.markedForComposition.clear();let{from:a,to:l}=this.hasComposition;t=new Zi(a,l,e.changes.mapPos(a,-1),e.changes.mapPos(l,1)).addToSet(t.slice())}this.hasComposition=n?{from:n.range.fromB,to:n.range.toB}:null,(me.ie||me.chrome)&&!n&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,r=this.updateDeco(),o=ZC(s,r,e.changes);return t=Zi.extendWithRanges(t,o),!(this.flags&7)&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length,n),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:s}=this.view;s.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=me.chrome||me.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||s.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Us&&o.widget instanceof dg&&r.push(o.dom);s.updateGaps(r)}updateChildren(e,t,n){let s=n?n.range.addToSet(e.slice()):e,r=this.childCursor(t);for(let o=s.length-1;;o--){let a=o>=0?s[o]:null;if(!a)break;let{fromA:l,toA:h,fromB:c,toB:f}=a,p,g,y,v;if(n&&n.range.fromB<f&&n.range.toB>c){let E=zo.build(this.view.state.doc,c,n.range.fromB,this.decorations,this.dynamicDecorationMap),_=zo.build(this.view.state.doc,n.range.toB,f,this.decorations,this.dynamicDecorationMap);g=E.breakAtStart,y=E.openStart,v=_.openEnd;let N=this.compositionView(n);_.breakAtStart?N.breakAfter=1:_.content.length&&N.merge(N.length,N.length,_.content[0],!1,_.openStart,0)&&(N.breakAfter=_.content[0].breakAfter,_.content.shift()),E.content.length&&N.merge(0,0,E.content[E.content.length-1],!0,0,E.openEnd)&&E.content.pop(),p=E.content.concat(N).concat(_.content)}else({content:p,breakAtStart:g,openStart:y,openEnd:v}=zo.build(this.view.state.doc,c,f,this.decorations,this.dynamicDecorationMap));let{i:w,off:k}=r.findPos(h,1),{i:T,off:$}=r.findPos(l,-1);Cv(this,T,$,w,k,p,g,y,v)}n&&this.fixCompositionDOM(n)}compositionView(e){let t=new Pn(e.text.nodeValue);t.flags|=8;for(let{deco:s}of e.marks)t=new jn(s,[t],t.length);let n=new ri;return n.append(t,0),n}fixCompositionDOM(e){let t=(r,o)=>{o.flags|=8,this.markedForComposition.add(o);let a=Ke.get(r);a!=o&&(a&&(a.dom=null),o.setDOM(r))},n=this.childPos(e.range.fromB,1),s=this.children[n.i];t(e.line,s);for(let r=e.marks.length-1;r>=-1;r--)n=s.childPos(n.off,1),s=s.children[n.i],t(r>=0?e.marks[r].node:e.text,s)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,s=n==this.dom,r=!s&&jl(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(s||t||r))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.domAtPos(a.anchor),h=a.empty?l:this.domAtPos(a.head);if(me.gecko&&a.empty&&!this.hasComposition&&VC(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=h=new oi(f,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||!ch(l.node,l.offset,c.anchorNode,c.anchorOffset)||!ch(h.node,h.offset,c.focusNode,c.focusOffset))&&(this.view.observer.ignore(()=>{me.android&&me.chrome&&this.dom.contains(c.focusNode)&&UC(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=hh(this.view.root);if(f)if(a.empty){if(me.gecko){let p=XC(l.node,l.offset);if(p&&p!=3){let g=Gv(l.node,l.offset,p==1?1:-1);g&&(l=new oi(g,p==1?0:g.nodeValue.length))}}f.collapse(l.node,l.offset),a.bidiLevel!=null&&c.cursorBidiLevel!=null&&(c.cursorBidiLevel=a.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(h.node,h.offset)}catch{}}else{let p=document.createRange();a.anchor>a.head&&([l,h]=[h,l]),p.setEnd(h.node,h.offset),p.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(p)}r&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(l,h)),this.impreciseAnchor=l.precise?null:new oi(c.anchorNode,c.anchorOffset),this.impreciseHead=h.precise?null:new oi(c.focusNode,c.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=hh(e.root),{anchorNode:s,anchorOffset:r}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let o=ri.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),h=this.coordsAt(t.head,1);if(!l||!h||l.bottom>h.top)return;let c=this.domAtPos(t.head+t.assoc);n.collapse(c.node,c.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=t.from&&n.collapse(s,r)}nearest(e){for(let t=e;t;){let n=Ke.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let s=this.children[t];if(n<s.length||s instanceof ri)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){for(let n=this.length,s=this.children.length-1;;s--){let r=this.children[s],o=n-r.breakAfter-r.length;if(e>o||e==o&&r.type!=ft.WidgetBefore&&r.type!=ft.WidgetAfter&&(!s||t==2||this.children[s-1].breakAfter||this.children[s-1].type==ft.WidgetBefore&&t>-2))return r.coordsAt(e-o,t);n=o}}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),s=this.children[t];if(!(s instanceof ri))return null;for(;s.children.length;){let{i:a,off:l}=s.childPos(n,1);for(;;a++){if(a==s.children.length)return null;if((s=s.children[a]).length)break}n=l}if(!(s instanceof Pn))return null;let r=Kt(s.text,n);if(r==n)return null;let o=Ks(s.dom,n,r).getClientRects();return!o.length||o[0].top>=o[0].bottom?null:o[0]}measureVisibleLineHeights(e){let t=[],{from:n,to:s}=e,r=this.view.contentDOM.clientWidth,o=r>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==lt.LTR;for(let h=0,c=0;c<this.children.length;c++){let f=this.children[c],p=h+f.length;if(p>s)break;if(h>=n){let g=f.dom.getBoundingClientRect();if(t.push(g.height),o){let y=f.dom.lastChild,v=y?ia(y):[];if(v.length){let w=v[v.length-1],k=l?w.right-g.left:g.right-w.left;k>a&&(a=k,this.minWidth=r,this.minWidthFrom=h,this.minWidthTo=p)}}}h=p+f.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?lt.RTL:lt.LTR}measureTextSize(){for(let r of this.children)if(r instanceof ri){let o=r.measureTextSize();if(o)return o}let e=document.createElement("div"),t,n,s;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let r=ia(e.firstChild)[0];t=e.getBoundingClientRect().height,n=r?r.width/27:7,s=r?r.height:t,e.remove()}),{lineHeight:t,charWidth:n,textHeight:s}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new kv(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,s=0;;s++){let r=s==t.viewports.length?null:t.viewports[s],o=r?r.from-1:this.length;if(o>n){let a=t.lineBlockAt(o).bottom-t.lineBlockAt(n).top;e.push(ye.replace({widget:new dg(a),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!r)break;n=r.to+1}return ye.set(e)}updateDeco(){let e=this.view.state.facet(na).map((t,n)=>(this.dynamicDecorationMap[n]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),s;if(!n)return;!t.empty&&(s=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,s.left),top:Math.min(n.top,s.top),right:Math.max(n.right,s.right),bottom:Math.max(n.bottom,s.bottom)});let r=Uv(this.view),o={left:n.left-r.left,top:n.top-r.top,right:n.right+r.right,bottom:n.bottom+r.bottom};SC(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==lt.LTR)}}function VC(i){return i.node.nodeType==1&&i.node.firstChild&&(i.offset==0||i.node.childNodes[i.offset-1].contentEditable=="false")&&(i.offset==i.node.childNodes.length||i.node.childNodes[i.offset].contentEditable=="false")}class dg extends _n{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Yv(i){let e=i.observer.selectionRange,t=e.focusNode&&Gv(e.focusNode,e.focusOffset,0);if(!t)return null;let n=Ke.get(t),s,r;if(n instanceof Pn)s=n.posAtStart,r=s+n.length;else e:for(let o=0,a=t;;){for(let h=a.previousSibling,c;h;h=h.previousSibling){if(c=Ke.get(h)){s=r=c.posAtEnd+o;break e}let f=new Pv([],i.state);if(f.readNode(h),f.text.indexOf(Cr)>-1)return null;o+=f.text.length}if(a=a.parentNode,!a)return null;let l=Ke.get(a);if(l){s=r=l.posAtStart+o;break}}return{from:s,to:r,node:t}}function BC(i,e){let t=Yv(i);if(!t)return null;let{from:n,to:s,node:r}=t,o=e.mapPos(n,-1),a=e.mapPos(s,1),l=r.nodeValue;if(/[\n\r]/.test(l))return null;if(a-o!=l.length){let p=e.mapPos(n,1),g=e.mapPos(s,-1);if(g-p==l.length)o=p,a=g;else if(i.state.doc.sliceString(a-l.length,a)==l)o=a-l.length;else if(i.state.doc.sliceString(o,o+l.length)==l)a=o+l.length;else return null}let{main:h}=i.state.selection;if(i.state.doc.sliceString(o,a)!=l||o>h.head||a<h.head)return null;let c=[],f=new Zi(n,s,o,a);for(let p=r.parentNode;;p=p.parentNode){let g=Ke.get(p);if(g instanceof jn)c.push({node:p,deco:g.mark});else{if(g instanceof ri||p.nodeName=="DIV"&&p.parentNode==i.contentDOM)return{range:f,text:r,marks:c,line:p};if(p!=i.contentDOM)c.push({node:p,deco:new Pa({inclusive:!0,attributes:AC(p),tagName:p.tagName.toLowerCase()})});else return null}}}function Gv(i,e,t){if(t<=0)for(let n=i,s=e;;){if(n.nodeType==3)return n;if(n.nodeType==1&&s>0)n=n.childNodes[s-1],s=vs(n);else break}if(t>=0)for(let n=i,s=e;;){if(n.nodeType==3)return n;if(n.nodeType==1&&s<n.childNodes.length&&t>=0)n=n.childNodes[s],s=0;else break}return null}function XC(i,e){return i.nodeType!=1?0:(e&&i.childNodes[e-1].contentEditable=="false"?1:0)|(e<i.childNodes.length&&i.childNodes[e].contentEditable=="false"?2:0)}class zC{constructor(){this.changes=[]}compareRange(e,t){kf(e,t,this.changes)}comparePoint(e,t){kf(e,t,this.changes)}}function ZC(i,e,t){let n=new zC;return Ze.compare(i,e,t,n),n.changes}function UC(i,e){for(let t=i;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function jC(i,e,t=1){let n=i.charCategorizer(e),s=i.doc.lineAt(e),r=e-s.from;if(s.length==0)return F.cursor(e);r==0?t=1:r==s.length&&(t=-1);let o=r,a=r;t<0?o=Kt(s.text,r,!1):a=Kt(s.text,r);let l=n(s.text.slice(o,a));for(;o>0;){let h=Kt(s.text,o,!1);if(n(s.text.slice(h,o))!=l)break;o=h}for(;a<s.length;){let h=Kt(s.text,a);if(n(s.text.slice(a,h))!=l)break;a=h}return F.range(o+s.from,a+s.from)}function FC(i,e){return e.left>i?e.left-i:Math.max(0,i-e.right)}function WC(i,e){return e.top>i?e.top-i:Math.max(0,i-e.bottom)}function Kc(i,e){return i.top<e.bottom-1&&i.bottom>e.top+1}function pg(i,e){return e<i.top?{top:e,left:i.left,right:i.right,bottom:i.bottom}:i}function mg(i,e){return e>i.bottom?{top:i.top,left:i.left,right:i.right,bottom:e}:i}function Ef(i,e,t){let n,s,r,o,a=!1,l,h,c,f;for(let y=i.firstChild;y;y=y.nextSibling){let v=ia(y);for(let w=0;w<v.length;w++){let k=v[w];s&&Kc(s,k)&&(k=pg(mg(k,s.bottom),s.top));let T=FC(e,k),$=WC(t,k);if(T==0&&$==0)return y.nodeType==3?gg(y,e,t):Ef(y,e,t);if(!n||o>$||o==$&&r>T){n=y,s=k,r=T,o=$;let E=$?t<k.top?-1:1:T?e<k.left?-1:1:0;a=!E||(E>0?w<v.length-1:w>0)}T==0?t>k.bottom&&(!c||c.bottom<k.bottom)?(l=y,c=k):t<k.top&&(!f||f.top>k.top)&&(h=y,f=k):c&&Kc(c,k)?c=mg(c,k.bottom):f&&Kc(f,k)&&(f=pg(f,k.top))}}if(c&&c.bottom>=t?(n=l,s=c):f&&f.top<=t&&(n=h,s=f),!n)return{node:i,offset:0};let p=Math.max(s.left,Math.min(s.right,e));if(n.nodeType==3)return gg(n,p,t);if(a&&n.contentEditable!="false")return Ef(n,p,t);let g=Array.prototype.indexOf.call(i.childNodes,n)+(e>=(s.left+s.right)/2?1:0);return{node:i,offset:g}}function gg(i,e,t){let n=i.nodeValue.length,s=-1,r=1e9,o=0;for(let a=0;a<n;a++){let l=Ks(i,a,a+1).getClientRects();for(let h=0;h<l.length;h++){let c=l[h];if(c.top==c.bottom)continue;o||(o=e-c.left);let f=(c.top>t?c.top-t:t-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&f<r){let p=e>=(c.left+c.right)/2,g=p;if((me.chrome||me.gecko)&&Ks(i,a).getBoundingClientRect().left==c.right&&(g=!p),f<=0)return{node:i,offset:a+(g?1:0)};s=a+(g?1:0),r=f}}}return{node:i,offset:s>-1?s:o>0?i.nodeValue.length:0}}function qv(i,e,t,n=-1){var s,r;let o=i.contentDOM.getBoundingClientRect(),a=o.top+i.viewState.paddingTop,l,{docHeight:h}=i.viewState,{x:c,y:f}=e,p=f-a;if(p<0)return 0;if(p>h)return i.state.doc.length;for(let E=i.viewState.heightOracle.textHeight/2,_=!1;l=i.elementAtHeight(p),l.type!=ft.Text;)for(;p=n>0?l.bottom+E:l.top-E,!(p>=0&&p<=h);){if(_)return t?null:0;_=!0,n=-n}f=a+p;let g=l.from;if(g<i.viewport.from)return i.viewport.from==0?0:t?null:Og(i,o,l,c,f);if(g>i.viewport.to)return i.viewport.to==i.state.doc.length?i.state.doc.length:t?null:Og(i,o,l,c,f);let y=i.dom.ownerDocument,v=i.root.elementFromPoint?i.root:y,w=v.elementFromPoint(c,f);w&&!i.contentDOM.contains(w)&&(w=null),w||(c=Math.max(o.left+1,Math.min(o.right-1,c)),w=v.elementFromPoint(c,f),w&&!i.contentDOM.contains(w)&&(w=null));let k,T=-1;if(w&&((s=i.docView.nearest(w))===null||s===void 0?void 0:s.isEditable)!=!1){if(y.caretPositionFromPoint){let E=y.caretPositionFromPoint(c,f);E&&({offsetNode:k,offset:T}=E)}else if(y.caretRangeFromPoint){let E=y.caretRangeFromPoint(c,f);E&&({startContainer:k,startOffset:T}=E,(!i.contentDOM.contains(k)||me.safari&&YC(k,T,c)||me.chrome&&GC(k,T,c))&&(k=void 0))}}if(!k||!i.docView.dom.contains(k)){let E=ri.find(i.docView,g);if(!E)return p>l.top+l.height/2?l.to:l.from;({node:k,offset:T}=Ef(E.dom,c,f))}let $=i.docView.nearest(k);if(!$)return null;if($.isWidget&&((r=$.dom)===null||r===void 0?void 0:r.nodeType)==1){let E=$.dom.getBoundingClientRect();return e.y<E.top||e.y<=E.bottom&&e.x<=(E.left+E.right)/2?$.posAtStart:$.posAtEnd}else return $.localPosFromDOM(k,T)+$.posAtStart}function Og(i,e,t,n,s){let r=Math.round((n-e.left)*i.defaultCharacterWidth);if(i.lineWrapping&&t.height>i.defaultLineHeight*1.5){let a=i.viewState.heightOracle.textHeight,l=Math.floor((s-t.top-(i.defaultLineHeight-a)*.5)/a);r+=l*i.viewState.heightOracle.lineLength}let o=i.state.sliceDoc(t.from,t.to);return t.from+mf(o,r,i.state.tabSize)}function YC(i,e,t){let n;if(i.nodeType!=3||e!=(n=i.nodeValue.length))return!1;for(let s=i.nextSibling;s;s=s.nextSibling)if(s.nodeType!=1||s.nodeName!="BR")return!1;return Ks(i,n-1,n).getBoundingClientRect().left>t}function GC(i,e,t){if(e!=0)return!1;for(let s=i;;){let r=s.parentNode;if(!r||r.nodeType!=1||r.firstChild!=s)return!1;if(r.classList.contains("cm-line"))break;s=r}let n=i.nodeType==1?i.getBoundingClientRect():Ks(i,0,Math.max(i.nodeValue.length,1)).getBoundingClientRect();return t-n.left>5}function Af(i,e){let t=i.lineBlockAt(e);if(Array.isArray(t.type)){for(let n of t.type)if(n.to>e||n.to==e&&(n.to==t.to||n.type==ft.Text))return n}return t}function qC(i,e,t,n){let s=Af(i,e.head),r=!n||s.type!=ft.Text||!(i.lineWrapping||s.widgetLineBreaks)?null:i.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(r){let o=i.dom.getBoundingClientRect(),a=i.textDirectionAt(s.from),l=i.posAtCoords({x:t==(a==lt.LTR)?o.right-1:o.left+1,y:(r.top+r.bottom)/2});if(l!=null)return F.cursor(l,t?-1:1)}return F.cursor(t?s.to:s.from,t?-1:1)}function yg(i,e,t,n){let s=i.state.doc.lineAt(e.head),r=i.bidiSpans(s),o=i.textDirectionAt(s.from);for(let a=e,l=null;;){let h=DC(s,r,o,a,t),c=Wv;if(!h){if(s.number==(t?i.state.doc.lines:1))return a;c=`
`,s=i.state.doc.line(s.number+(t?1:-1)),r=i.bidiSpans(s),h=F.cursor(t?s.from:s.to)}if(l){if(!l(c))return a}else{if(!n)return h;l=n(c)}a=h}}function HC(i,e,t){let n=i.state.charCategorizer(e),s=n(t);return r=>{let o=n(r);return s==at.Space&&(s=o),s==o}}function KC(i,e,t,n){let s=e.head,r=t?1:-1;if(s==(t?i.state.doc.length:0))return F.cursor(s,e.assoc);let o=e.goalColumn,a,l=i.contentDOM.getBoundingClientRect(),h=i.coordsAtPos(s),c=i.documentTop;if(h)o==null&&(o=h.left-l.left),a=r<0?h.top:h.bottom;else{let g=i.viewState.lineBlockAt(s);o==null&&(o=Math.min(l.right-l.left,i.defaultCharacterWidth*(s-g.from))),a=(r<0?g.top:g.bottom)+c}let f=l.left+o,p=n??i.viewState.heightOracle.textHeight>>1;for(let g=0;;g+=10){let y=a+(p+g)*r,v=qv(i,{x:f,y},!1,r);if(y<l.top||y>l.bottom||(r<0?v<s:v>s))return F.cursor(v,e.assoc,void 0,o)}}function Fl(i,e,t){for(;;){let n=0;for(let s of i)s.between(e-1,e+1,(r,o,a)=>{if(e>r&&e<o){let l=n||t||(e-r<o-e?-1:1);e=l<0?r:o,n=l}});if(!n)return e}}function Jc(i,e,t){let n=Fl(i.state.facet(Ld).map(s=>s(i)),t.from,e.head>t.from?-1:1);return n==t.from?t:F.cursor(n,n<t.from?1:-1)}class JC{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let t=(n,s)=>{this.ignoreDuringComposition(s)||s.type=="keydown"&&this.keydown(e,s)||(this.mustFlushObserver(s)&&e.observer.forceFlush(),this.runCustomHandlers(s.type,e,s)?s.preventDefault():n(e,s))};for(let n in Pt){let s=Pt[n];e.contentDOM.addEventListener(n,r=>{vg(e,r)&&t(s,r)},If[n]),this.registeredEvents.push(n)}e.scrollDOM.addEventListener("mousedown",n=>{if(n.target==e.scrollDOM&&n.clientY>e.contentDOM.getBoundingClientRect().bottom&&(t(Pt.mousedown,n),!n.defaultPrevented&&n.button==2)){let s=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=s,200)}}),e.scrollDOM.addEventListener("drop",n=>{n.target==e.scrollDOM&&n.clientY>e.contentDOM.getBoundingClientRect().bottom&&t(Pt.drop,n)}),me.chrome&&me.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,me.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var n;let s;this.customHandlers=[];for(let r of t)if(s=(n=r.update(e).spec)===null||n===void 0?void 0:n.domEventHandlers){this.customHandlers.push({plugin:r.value,handlers:s});for(let o in s)this.registeredEvents.indexOf(o)<0&&o!="scroll"&&(this.registeredEvents.push(o),e.contentDOM.addEventListener(o,a=>{vg(e,a)&&this.runCustomHandlers(o,e,a)&&a.preventDefault()}))}}runCustomHandlers(e,t,n){for(let s of this.customHandlers){let r=s.handlers[e];if(r)try{if(r.call(s.plugin,n,t)||n.defaultPrevented)return!0}catch(o){zi(t.state,o)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let n of this.customHandlers){let s=n.handlers.scroll;if(s)try{s.call(n.plugin,t,e)}catch(r){zi(e.state,r)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(t.keyCode!=27&&Kv.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0),me.android&&me.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let n;return me.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((n=Hv.find(s=>s.keyCode==t.keyCode))&&!t.ctrlKey||e$.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=n||t,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,Tr(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:me.safari&&!me.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Hv=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],e$="dthko",Kv=[16,17,18,20,91,92,224,225],il=6;function nl(i){return Math.max(0,i)*.7+8}function t$(i,e){return Math.max(Math.abs(i.clientX-e.clientX),Math.abs(i.clientY-e.clientY))}class i${constructor(e,t,n,s){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=bC(e.contentDOM),this.atoms=e.state.facet(Ld).map(o=>o(e));let r=e.contentDOM.ownerDocument;r.addEventListener("mousemove",this.move=this.move.bind(this)),r.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Ve.allowMultipleSelections)&&n$(e,t),this.dragging=r$(e,t)&&ix(t)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&t$(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,s=0,r=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=Uv(this.view);e.clientX-o.left<=r.left+il?n=-nl(r.left-e.clientX):e.clientX+o.right>=r.right-il&&(n=nl(e.clientX-r.right)),e.clientY-o.top<=r.top+il?s=-nl(r.top-e.clientY):e.clientY+o.bottom>=r.bottom-il&&(s=nl(e.clientY-r.bottom)),this.setScrollSpeed(n,s)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let n=0;n<e.ranges.length;n++){let s=e.ranges[n],r=null;if(s.empty){let o=Fl(this.atoms,s.from,0);o!=s.from&&(r=F.cursor(o,-1))}else{let o=Fl(this.atoms,s.from,-1),a=Fl(this.atoms,s.to,1);(o!=s.from||a!=s.to)&&(r=F.range(s.from==s.anchor?o:a,s.from==s.head?o:a))}r&&(t||(t=e.ranges.slice()),t[n]=r)}return t?F.create(t,e.mainIndex):e}select(e){let{view:t}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection)||n.main.assoc!=t.state.selection.main.assoc&&this.dragging===!1)&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function n$(i,e){let t=i.state.facet(Qv);return t.length?t[0](e):me.mac?e.metaKey:e.ctrlKey}function s$(i,e){let t=i.state.facet(Rv);return t.length?t[0](e):me.mac?!e.altKey:!e.ctrlKey}function r$(i,e){let{main:t}=i.state.selection;if(t.empty)return!1;let n=hh(i.root);if(!n||n.rangeCount==0)return!0;let s=n.getRangeAt(0).getClientRects();for(let r=0;r<s.length;r++){let o=s[r];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function vg(i,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,n;t!=i.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(n=Ke.get(t))&&n.ignoreEvent(e))return!1;return!0}const Pt=Object.create(null),If=Object.create(null),Jv=me.ie&&me.ie_version<15||me.ios&&me.webkit_version<604;function o$(i){let e=i.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{i.focus(),t.remove(),ex(i,t.value)},50)}function ex(i,e){let{state:t}=i,n,s=1,r=t.toText(e),o=r.lines==t.selection.ranges.length;if(Mf!=null&&t.selection.ranges.every(l=>l.empty)&&Mf==r.toString()){let l=-1;n=t.changeByRange(h=>{let c=t.doc.lineAt(h.from);if(c.from==l)return{range:h};l=c.from;let f=t.toText((o?r.line(s++).text:e)+t.lineBreak);return{changes:{from:c.from,insert:f},range:F.cursor(h.from+f.length)}})}else o?n=t.changeByRange(l=>{let h=r.line(s++);return{changes:{from:l.from,to:l.to,insert:h.text},range:F.cursor(l.from+h.length)}}):n=t.replaceSelection(r);i.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}Pt.keydown=(i,e)=>{i.inputState.setSelectionOrigin("select"),e.keyCode==27&&(i.inputState.lastEscPress=Date.now())};Pt.touchstart=(i,e)=>{i.inputState.lastTouchTime=Date.now(),i.inputState.setSelectionOrigin("select.pointer")};Pt.touchmove=i=>{i.inputState.setSelectionOrigin("select.pointer")};If.touchstart=If.touchmove={passive:!0};Pt.mousedown=(i,e)=>{if(i.observer.flush(),i.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let n of i.state.facet(Lv))if(t=n(i,e),t)break;if(!t&&e.button==0&&(t=h$(i,e)),t){let n=!i.hasFocus;i.inputState.startMouseSelection(new i$(i,e,t,n)),n&&i.observer.ignore(()=>Sv(i.contentDOM)),i.inputState.mouseSelection&&i.inputState.mouseSelection.start(e)}};function xg(i,e,t,n){if(n==1)return F.cursor(e,t);if(n==2)return jC(i.state,e,t);{let s=ri.find(i.docView,e),r=i.state.doc.lineAt(s?s.posAtEnd:e),o=s?s.posAtStart:r.from,a=s?s.posAtEnd:r.to;return a<i.state.doc.length&&a==r.to&&a++,F.range(o,a)}}let tx=(i,e)=>i>=e.top&&i<=e.bottom,Sg=(i,e,t)=>tx(e,t)&&i>=t.left&&i<=t.right;function a$(i,e,t,n){let s=ri.find(i.docView,e);if(!s)return 1;let r=e-s.posAtStart;if(r==0)return 1;if(r==s.length)return-1;let o=s.coordsAt(r,-1);if(o&&Sg(t,n,o))return-1;let a=s.coordsAt(r,1);return a&&Sg(t,n,a)?1:o&&tx(n,o)?-1:1}function bg(i,e){let t=i.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:a$(i,t,e.clientX,e.clientY)}}const l$=me.ie&&me.ie_version<=11;let wg=null,kg=0,Cg=0;function ix(i){if(!l$)return i.detail;let e=wg,t=Cg;return wg=i,Cg=Date.now(),kg=!e||t>Date.now()-400&&Math.abs(e.clientX-i.clientX)<2&&Math.abs(e.clientY-i.clientY)<2?(kg+1)%3:1}function h$(i,e){let t=bg(i,e),n=ix(e),s=i.state.selection;return{update(r){r.docChanged&&(t.pos=r.changes.mapPos(t.pos),s=s.map(r.changes))},get(r,o,a){let l=bg(i,r),h,c=xg(i,l.pos,l.bias,n);if(t.pos!=l.pos&&!o){let f=xg(i,t.pos,t.bias,n),p=Math.min(f.from,c.from),g=Math.max(f.to,c.to);c=p<c.from?F.range(p,g):F.range(g,p)}return o?s.replaceRange(s.main.extend(c.from,c.to)):a&&n==1&&s.ranges.length>1&&(h=c$(s,l.pos))?h:a?s.addRange(c):F.create([c])}}}function c$(i,e){for(let t=0;t<i.ranges.length;t++){let{from:n,to:s}=i.ranges[t];if(n<=e&&s>=e)return F.create(i.ranges.slice(0,t).concat(i.ranges.slice(t+1)),i.mainIndex==t?0:i.mainIndex-(i.mainIndex>t?1:0))}return null}Pt.dragstart=(i,e)=>{let{selection:{main:t}}=i.state,{mouseSelection:n}=i.inputState;n&&(n.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",i.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function $g(i,e,t,n){if(!t)return;let s=i.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:r}=i.inputState,o=n&&r&&r.dragging&&s$(i,e)?{from:r.dragging.from,to:r.dragging.to}:null,a={from:s,insert:t},l=i.state.changes(o?[o,a]:a);i.focus(),i.dispatch({changes:l,selection:{anchor:l.mapPos(s,-1),head:l.mapPos(s,1)},userEvent:o?"move.drop":"input.drop"})}Pt.drop=(i,e)=>{if(!e.dataTransfer)return;if(i.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let n=Array(t.length),s=0,r=()=>{++s==t.length&&$g(i,e,n.filter(o=>o!=null).join(i.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=r,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(n[o]=a.result),r()},a.readAsText(t[o])}}else $g(i,e,e.dataTransfer.getData("Text"),!0)};Pt.paste=(i,e)=>{if(i.state.readOnly)return e.preventDefault();i.observer.flush();let t=Jv?null:e.clipboardData;t?(ex(i,t.getData("text/plain")||t.getData("text/uri-text")),e.preventDefault()):o$(i)};function u$(i,e){let t=i.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),i.focus()},50)}function f$(i){let e=[],t=[],n=!1;for(let s of i.selection.ranges)s.empty||(e.push(i.sliceDoc(s.from,s.to)),t.push(s));if(!e.length){let s=-1;for(let{from:r}of i.selection.ranges){let o=i.doc.lineAt(r);o.number>s&&(e.push(o.text),t.push({from:o.from,to:Math.min(i.doc.length,o.to+1)})),s=o.number}n=!0}return{text:e.join(i.lineBreak),ranges:t,linewise:n}}let Mf=null;Pt.copy=Pt.cut=(i,e)=>{let{text:t,ranges:n,linewise:s}=f$(i.state);if(!t&&!s)return;Mf=s?t:null;let r=Jv?null:e.clipboardData;r?(e.preventDefault(),r.clearData(),r.setData("text/plain",t)):u$(i,t),e.type=="cut"&&!i.state.readOnly&&i.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"})};const nx=qn.define();function sx(i,e){let t=[];for(let n of i.facet(Vv)){let s=n(i,e);s&&t.push(s)}return t?i.update({effects:t,annotations:nx.of(!0)}):null}function rx(i){setTimeout(()=>{let e=i.hasFocus;if(e!=i.inputState.notifiedFocused){let t=sx(i.state,e);t?i.dispatch(t):i.update([])}},10)}Pt.focus=i=>{i.inputState.lastFocusTime=Date.now(),!i.scrollDOM.scrollTop&&(i.inputState.lastScrollTop||i.inputState.lastScrollLeft)&&(i.scrollDOM.scrollTop=i.inputState.lastScrollTop,i.scrollDOM.scrollLeft=i.inputState.lastScrollLeft),rx(i)};Pt.blur=i=>{i.observer.clearSelectionRange(),rx(i)};Pt.compositionstart=Pt.compositionupdate=i=>{i.inputState.compositionFirstChange==null&&(i.inputState.compositionFirstChange=!0),i.inputState.composing<0&&(i.inputState.composing=0)};Pt.compositionend=i=>{i.inputState.composing=-1,i.inputState.compositionEndedAt=Date.now(),i.inputState.compositionPendingKey=!0,i.inputState.compositionPendingChange=i.observer.pendingRecords().length>0,i.inputState.compositionFirstChange=null,me.chrome&&me.android?i.observer.flushSoon():i.inputState.compositionPendingChange?Promise.resolve().then(()=>i.observer.flush()):setTimeout(()=>{i.inputState.composing<0&&i.docView.hasComposition&&i.update([])},50)};Pt.contextmenu=i=>{i.inputState.lastContextMenu=Date.now()};Pt.beforeinput=(i,e)=>{var t;let n;if(me.chrome&&me.android&&(n=Hv.find(s=>s.inputType==e.inputType))&&(i.observer.delayAndroidKey(n.key,n.keyCode),n.key=="Backspace"||n.key=="Delete")){let s=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var r;(((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0)>s+10&&i.hasFocus&&(i.contentDOM.blur(),i.focus())},100)}};const Pg=["pre-wrap","normal","pre-line","break-spaces"];class d${constructor(e){this.lineWrapping=e,this.doc=ze.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Pg.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let s=e[n];s<0?n++:this.heightSamples[Math.floor(s*10)]||(t=!0,this.heightSamples[Math.floor(s*10)]=!0)}return t}refresh(e,t,n,s,r,o){let a=Pg.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=n,this.textHeight=s,this.lineLength=r,l){this.heightSamples={};for(let h=0;h<o.length;h++){let c=o[h];c<0?h++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class p${constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Sn{constructor(e,t,n,s,r){this.from=e,this.length=t,this.top=n,this.height=s,this._content=r}get type(){return typeof this._content=="number"?ft.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof xs?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Sn(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var it=function(i){return i[i.ByPos=0]="ByPos",i[i.ByHeight=1]="ByHeight",i[i.ByPosNoHeight=2]="ByPosNoHeight",i}(it||(it={}));const Wl=.001;class ai{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Wl&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return ai.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,s){let r=this,o=n.doc;for(let a=s.length-1;a>=0;a--){let{fromA:l,toA:h,fromB:c,toB:f}=s[a],p=r.lineAt(l,it.ByPosNoHeight,n.setDoc(t),0,0),g=p.to>=h?p:r.lineAt(h,it.ByPosNoHeight,n,0,0);for(f+=g.to-h,h=g.to;a>0&&p.from<=s[a-1].toA;)l=s[a-1].fromA,c=s[a-1].fromB,a--,l<p.from&&(p=r.lineAt(l,it.ByPosNoHeight,n,0,0));c+=p.from-l,l=p.from;let y=Nd.build(n.setDoc(o),e,c,f);r=r.replace(l,h,y)}return r.updateHeight(n,0)}static empty(){return new xi(0,0)}static of(e){if(e.length==1)return e[0];let t=0,n=e.length,s=0,r=0;for(;;)if(t==n)if(s>r*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),n+=1+a.break,s-=a.size}else if(r>s*2){let a=e[n];a.break?e.splice(n,1,a.left,null,a.right):e.splice(n,1,a.left,a.right),n+=2+a.break,r-=a.size}else break;else if(s<r){let a=e[t++];a&&(s+=a.size)}else{let a=e[--n];a&&(r+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,n++),new m$(ai.of(e.slice(0,t)),o,ai.of(e.slice(n)))}}ai.prototype.size=1;class ox extends ai{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,s){return new Sn(s,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,s,r){return this.blockAt(0,n,s,r)}forEachLine(e,t,n,s,r,o){e<=r+this.length&&t>=r&&o(this.blockAt(0,n,s,r))}updateHeight(e,t=0,n=!1,s){return s&&s.from<=t&&s.more&&this.setHeight(e,s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class xi extends ox{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,s){return new Sn(s,this.length,n,this.height,this.breaks)}replace(e,t,n){let s=n[0];return n.length==1&&(s instanceof xi||s instanceof Zt&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof Zt?s=new xi(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):ai.of(n)}updateHeight(e,t=0,n=!1,s){return s&&s.from<=t&&s.more?this.setHeight(e,s.heights[s.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Zt extends ai{constructor(e){super(e,0)}heightMetrics(e,t){let n=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,r=s-n+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*r);o=l/r,this.length>r+1&&(a=(this.height-l)/(this.length-r-1))}else o=this.height/r;return{firstLine:n,lastLine:s,perLine:o,perChar:a}}blockAt(e,t,n,s){let{firstLine:r,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,s);if(t.lineWrapping){let h=s+Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length),c=t.doc.lineAt(h),f=a+c.length*l,p=Math.max(n,e-f/2);return new Sn(c.from,c.length,p,f,0)}else{let h=Math.max(0,Math.min(o-r,Math.floor((e-n)/a))),{from:c,length:f}=t.doc.line(r+h);return new Sn(c,f,n+a*h,a,0)}}lineAt(e,t,n,s,r){if(t==it.ByHeight)return this.blockAt(e,n,s,r);if(t==it.ByPosNoHeight){let{from:g,to:y}=n.doc.lineAt(e);return new Sn(g,y-g,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(n,r),h=n.doc.lineAt(e),c=a+h.length*l,f=h.number-o,p=s+a*f+l*(h.from-r-f);return new Sn(h.from,h.length,Math.max(s,Math.min(p,s+this.height-c)),c,0)}forEachLine(e,t,n,s,r,o){e=Math.max(e,r),t=Math.min(t,r+this.length);let{firstLine:a,perLine:l,perChar:h}=this.heightMetrics(n,r);for(let c=e,f=s;c<=t;){let p=n.doc.lineAt(c);if(c==e){let y=p.number-a;f+=l*y+h*(e-r-y)}let g=l+h*p.length;o(new Sn(p.from,p.length,f,g,0)),f+=g,c=p.to+1}}replace(e,t,n){let s=this.length-t;if(s>0){let r=n[n.length-1];r instanceof Zt?n[n.length-1]=new Zt(r.length+s):n.push(null,new Zt(s-1))}if(e>0){let r=n[0];r instanceof Zt?n[0]=new Zt(e+r.length):n.unshift(new Zt(e-1),null)}return ai.of(n)}decomposeLeft(e,t){t.push(new Zt(e-1),null)}decomposeRight(e,t){t.push(null,new Zt(this.length-e-1))}updateHeight(e,t=0,n=!1,s){let r=t+this.length;if(s&&s.from<=t+this.length&&s.more){let o=[],a=Math.max(t,s.from),l=-1;for(s.from>t&&o.push(new Zt(s.from-t-1).updateHeight(e,t));a<=r&&s.more;){let c=e.doc.lineAt(a).length;o.length&&o.push(null);let f=s.heights[s.index++];l==-1?l=f:Math.abs(f-l)>=Wl&&(l=-2);let p=new xi(c,f);p.outdated=!1,o.push(p),a+=c+1}a<=r&&o.push(null,new Zt(r-a).updateHeight(e,a));let h=ai.of(o);return(l<0||Math.abs(h.height-this.height)>=Wl||Math.abs(l-this.heightMetrics(e,t).perLine)>=Wl)&&(e.heightChanged=!0),h}else(n||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class m$ extends ai{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,s){let r=n+this.left.height;return e<r?this.left.blockAt(e,t,n,s):this.right.blockAt(e,t,r,s+this.left.length+this.break)}lineAt(e,t,n,s,r){let o=s+this.left.height,a=r+this.left.length+this.break,l=t==it.ByHeight?e<o:e<a,h=l?this.left.lineAt(e,t,n,s,r):this.right.lineAt(e,t,n,o,a);if(this.break||(l?h.to<a:h.from>a))return h;let c=t==it.ByPosNoHeight?it.ByPosNoHeight:it.ByPos;return l?h.join(this.right.lineAt(a,c,n,o,a)):this.left.lineAt(a,c,n,s,r).join(h)}forEachLine(e,t,n,s,r,o){let a=s+this.left.height,l=r+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,n,s,r,o),t>=l&&this.right.forEachLine(e,t,n,a,l,o);else{let h=this.lineAt(l,it.ByPos,n,s,r);e<h.from&&this.left.forEachLine(e,h.from-1,n,s,r,o),h.to>=e&&h.from<=t&&o(h),t>h.to&&this.right.forEachLine(h.to+1,t,n,a,l,o)}}replace(e,t,n){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,n));let r=[];e>0&&this.decomposeLeft(e,r);let o=r.length;for(let a of n)r.push(a);if(e>0&&Eg(r,o-1),t<this.length){let a=r.length;this.decomposeRight(t,r),Eg(r,a)}return ai.of(r)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,s=n+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?ai.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,s){let{left:r,right:o}=this,a=t+r.length+this.break,l=null;return s&&s.from<=t+r.length&&s.more?l=r=r.updateHeight(e,t,n,s):r.updateHeight(e,t,n),s&&s.from<=a+o.length&&s.more?l=o=o.updateHeight(e,a,n,s):o.updateHeight(e,a,n),l?this.balanced(r,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Eg(i,e){let t,n;i[e]==null&&(t=i[e-1])instanceof Zt&&(n=i[e+1])instanceof Zt&&i.splice(e-1,3,new Zt(t.length+1+n.length))}const g$=5;class Nd{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let n=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof xi?s.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new xi(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let s=n.widget?n.widget.estimatedHeight:0,r=n.widget?n.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let o=t-e;n.block?this.addBlock(new ox(o,s,n)):(o||r||s>=g$)&&this.addLineDeco(s,r,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new xi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new Zt(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof xi)return e;let t=new xi(0,-1);return this.nodes.push(t),t}addBlock(e){var t;this.enterLine();let n=(t=e.deco)===null||t===void 0?void 0:t.type;n==ft.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n!=ft.WidgetBefore&&(this.covering=e)}addLineDeco(e,t,n){let s=this.ensureLine();s.length+=n,s.collapsed+=n,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof xi)&&!this.isCovered?this.nodes.push(new xi(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let s of this.nodes)s instanceof xi&&s.updateHeight(this.oracle,n),n+=s?s.length:1;return this.nodes}static build(e,t,n,s){let r=new Nd(n,e);return Ze.spans(t,n,s,r,0),r.finish(n)}}function O$(i,e,t){let n=new y$;return Ze.compare(i,e,t,n,0),n.changes}class y${constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,s){(e<t||n&&n.heightRelevant||s&&s.heightRelevant)&&kf(e,t,this.changes,5)}}function v$(i,e){let t=i.getBoundingClientRect(),n=i.ownerDocument,s=n.defaultView||window,r=Math.max(0,t.left),o=Math.min(s.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(s.innerHeight,t.bottom);for(let h=i.parentNode;h&&h!=n.body;)if(h.nodeType==1){let c=h,f=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&f.overflow!="visible"){let p=c.getBoundingClientRect();r=Math.max(r,p.left),o=Math.min(o,p.right),a=Math.max(a,p.top),l=h==i.parentNode?p.bottom:Math.min(l,p.bottom)}h=f.position=="absolute"||f.position=="fixed"?c.offsetParent:c.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:r-t.left,right:Math.max(r,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function x$(i,e){let t=i.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class eu{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let s=e[n],r=t[n];if(s.from!=r.from||s.to!=r.to||s.size!=r.size)return!1}return!0}draw(e){return ye.replace({widget:new S$(this.size,e)}).range(this.from,this.to)}}class S$ extends _n{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Ag{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Ig,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=lt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Rd).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new d$(t),this.stateDeco=e.facet(na).filter(n=>typeof n!="function"),this.heightMap=ai.empty().applyChanges(this.stateDeco,ze.empty,this.heightOracle.setDoc(e.doc),[new Zi(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ye.set(this.lineGaps.map(n=>n.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let s=n?t.head:t.anchor;if(!e.some(({from:r,to:o})=>s>=r&&s<=o)){let{from:r,to:o}=this.lineBlockAt(s);e.push(new sl(r,o))}}this.viewports=e.sort((n,s)=>n.from-s.from),this.scaler=this.heightMap.height<=7e6?Ig:new k$(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Mo(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(na).filter(c=>typeof c!="function");let s=e.changedRanges,r=Zi.extendWithRanges(s,O$(n,this.stateDeco,e?e.changes:Rt.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),r),this.heightMap.height!=o&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=r.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let h=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),h&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Xv)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),s=this.heightOracle,r=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?lt.RTL:lt.LTR;let o=this.heightOracle.mustRefreshForWrapping(r),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let h=0,c=0,f=parseInt(n.paddingTop)||0,p=parseInt(n.paddingBottom)||0;(this.paddingTop!=f||this.paddingBottom!=p)&&(this.paddingTop=f,this.paddingBottom=p,h|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=8),this.scrollTop!=e.scrollDOM.scrollTop&&(this.scrollAnchorHeight=-1,this.scrollTop=e.scrollDOM.scrollTop),this.scrolledToBottom=wv(e.scrollDOM);let g=(this.printing?x$:v$)(t,this.paddingTop),y=g.top-this.pixelViewport.top,v=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let w=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(w!=this.inView&&(this.inView=w,w&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let k=a.width;if((this.contentDOMWidth!=k||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,h|=8),l){let $=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights($)&&(o=!0),o||s.lineWrapping&&Math.abs(k-this.contentDOMWidth)>s.charWidth){let{lineHeight:E,charWidth:_,textHeight:N}=e.docView.measureTextSize();o=E>0&&s.refresh(r,E,_,N,k/_,$),o&&(e.docView.minWidth=0,h|=8)}y>0&&v>0?c=Math.max(y,v):y<0&&v<0&&(c=Math.min(y,v)),s.heightChanged=!1;for(let E of this.viewports){let _=E.from==this.viewport.from?$:e.docView.measureVisibleLineHeights(E);this.heightMap=(o?ai.empty().applyChanges(this.stateDeco,ze.empty,this.heightOracle,[new Zi(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,o,new p$(E.from,_))}s.heightChanged&&(h|=2)}let T=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return T&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(h&2||T)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,r=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new sl(s.lineAt(o-n*1e3,it.ByHeight,r,0,0).from,s.lineAt(a+(1-n)*1e3,it.ByHeight,r,0,0).to);if(t){let{head:h}=t.range;if(h<l.from||h>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=s.lineAt(h,it.ByPos,r,0,0),p;t.y=="center"?p=(f.top+f.bottom)/2-c/2:t.y=="start"||t.y=="nearest"&&h<l.from?p=f.top:p=f.bottom-c,l=new sl(s.lineAt(p-1e3/2,it.ByHeight,r,0,0).from,s.lineAt(p+c+1e3/2,it.ByHeight,r,0,0).to)}}return l}mapViewport(e,t){let n=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new sl(this.heightMap.lineAt(n,it.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,it.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,it.ByPos,this.heightOracle,0,0),{bottom:r}=this.heightMap.lineAt(t,it.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||s<=o-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||r>=a+Math.max(10,Math.min(n,250)))&&s>o-2*1e3&&r<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let s of e)t.touchesRange(s.from,s.to)||n.push(new eu(t.mapPos(s.from),t.mapPos(s.to),s.size));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,s=n?1e4:2e3,r=s>>1,o=s<<1;if(this.defaultTextDirection!=lt.LTR&&!n)return[];let a=[],l=(h,c,f,p)=>{if(c-h<r)return;let g=this.state.selection.main,y=[g.from];g.empty||y.push(g.to);for(let w of y)if(w>h&&w<c){l(h,w-10,f,p),l(w+10,c,f,p);return}let v=w$(e,w=>w.from>=f.from&&w.to<=f.to&&Math.abs(w.from-h)<r&&Math.abs(w.to-c)<r&&!y.some(k=>w.from<k&&w.to>k));if(!v){if(c<f.to&&t&&n&&t.visibleRanges.some(w=>w.from<=c&&w.to>=c)){let w=t.moveToLineBoundary(F.cursor(c),!1,!0).head;w>h&&(c=w)}v=new eu(h,c,this.gapSize(f,h,c,p))}a.push(v)};for(let h of this.viewportLines){if(h.length<o)continue;let c=b$(h.from,h.to,this.stateDeco);if(c.total<o)continue;let f=this.scrollTarget?this.scrollTarget.range.head:null,p,g;if(n){let y=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,w;if(f!=null){let k=ol(c,f),T=((this.visibleBottom-this.visibleTop)/2+y)/h.height;v=k-T,w=k+T}else v=(this.visibleTop-h.top-y)/h.height,w=(this.visibleBottom-h.top+y)/h.height;p=rl(c,v),g=rl(c,w)}else{let y=c.total*this.heightOracle.charWidth,v=s*this.heightOracle.charWidth,w,k;if(f!=null){let T=ol(c,f),$=((this.pixelViewport.right-this.pixelViewport.left)/2+v)/y;w=T-$,k=T+$}else w=(this.pixelViewport.left-v)/y,k=(this.pixelViewport.right+v)/y;p=rl(c,w),g=rl(c,k)}p>h.from&&l(h.from,p,h,c),g<h.to&&l(g,h.to,h,c)}return a}gapSize(e,t,n,s){let r=ol(s,n)-ol(s,t);return this.heightOracle.lineWrapping?e.height*r:s.total*this.heightOracle.charWidth*r}updateLineGaps(e){eu.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ye.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Ze.spans(e,this.viewport.from,this.viewport.to,{span(s,r){t.push({from:s,to:r})},point(){}},20);let n=t.length!=this.visibleRanges.length||this.visibleRanges.some((s,r)=>s.from!=t[r].from||s.to!=t[r].to);return this.visibleRanges=t,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Mo(this.heightMap.lineAt(e,it.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Mo(this.heightMap.lineAt(this.scaler.fromDOM(e),it.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Mo(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class sl{constructor(e,t){this.from=e,this.to=t}}function b$(i,e,t){let n=[],s=i,r=0;return Ze.spans(t,i,e,{span(){},point(o,a){o>s&&(n.push({from:s,to:o}),r+=o-s),s=a}},20),s<e&&(n.push({from:s,to:e}),r+=e-s),{total:r,ranges:n}}function rl({total:i,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let n=Math.floor(i*t);for(let s=0;;s++){let{from:r,to:o}=e[s],a=o-r;if(n<=a)return r+n;n-=a}}function ol(i,e){let t=0;for(let{from:n,to:s}of i.ranges){if(e<=s){t+=e-n;break}t+=s-n}return t/i.total}function w$(i,e){for(let t of i)if(e(t))return t}const Ig={toDOM(i){return i},fromDOM(i){return i},scale:1};class k${constructor(e,t,n){let s=0,r=0,o=0;this.viewports=n.map(({from:a,to:l})=>{let h=t.lineAt(a,it.ByPos,e,0,0).top,c=t.lineAt(l,it.ByPos,e,0,0).bottom;return s+=c-h,{from:a,to:l,top:h,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(t.height-s);for(let a of this.viewports)a.domTop=o+(a.top-r)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),r=a.bottom}toDOM(e){for(let t=0,n=0,s=0;;t++){let r=t<this.viewports.length?this.viewports[t]:null;if(!r||e<r.top)return s+(e-n)*this.scale;if(e<=r.bottom)return r.domTop+(e-r.top);n=r.bottom,s=r.domBottom}}fromDOM(e){for(let t=0,n=0,s=0;;t++){let r=t<this.viewports.length?this.viewports[t]:null;if(!r||e<r.domTop)return n+(e-s)/this.scale;if(e<=r.domBottom)return r.top+(e-r.domTop);n=r.bottom,s=r.domBottom}}}function Mo(i,e){if(e.scale==1)return i;let t=e.toDOM(i.top),n=e.toDOM(i.bottom);return new Sn(i.from,i.length,t,n-t,Array.isArray(i._content)?i._content.map(s=>Mo(s,e)):i._content)}const al=pe.define({combine:i=>i.join(" ")}),_f=pe.define({combine:i=>i.indexOf(!0)>-1}),Tf=Os.newName(),ax=Os.newName(),lx=Os.newName(),hx={"&light":"."+ax,"&dark":"."+lx};function Qf(i,e,t){return new Os(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,s=>{if(s=="&")return i;if(!t||!t[s])throw new RangeError(`Unsupported selector: ${s}`);return t[s]}):i+" "+n}})}const C$=Qf("."+Tf,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},hx);class $${constructor(e,t,n,s){this.typeOver=s,this.bounds=null,this.text="";let{impreciseHead:r,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let a=r||o?[]:E$(e),l=new Pv(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=A$(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=r&&r.node==a.focusNode&&r.offset==a.focusOffset||!yf(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),h=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!yf(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset);this.newSel=F.single(h,l)}}}function cx(i,e){let t,{newSel:n}=e,s=i.state.selection.main,r=i.inputState.lastKeyTime>Date.now()-100?i.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=s.from,h=null;(r===8||me.android&&e.text.length<a-o)&&(l=s.to,h="end");let c=P$(i.state.doc.sliceString(o,a,Cr),e.text,l-o,h);c&&(me.chrome&&r==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Cr+Cr&&c.toB--,t={from:o+c.from,to:o+c.toA,insert:ze.of(e.text.slice(c.from,c.toB).split(Cr))})}else n&&(!i.hasFocus&&i.state.facet(hc)||n.main.eq(s))&&(n=null);if(!t&&!n)return!1;if(!t&&e.typeOver&&!s.empty&&n&&n.main.empty?t={from:s.from,to:s.to,insert:i.state.doc.slice(s.from,s.to)}:t&&t.from>=s.from&&t.to<=s.to&&(t.from!=s.from||t.to!=s.to)&&s.to-s.from-(t.to-t.from)<=4?t={from:s.from,to:s.to,insert:i.state.doc.slice(s.from,t.from).append(t.insert).append(i.state.doc.slice(t.to,s.to))}:(me.mac||me.android)&&t&&t.from==t.to&&t.from==s.head-1&&/^\. ?$/.test(t.insert.toString())&&i.contentDOM.getAttribute("autocorrect")=="off"?(n&&t.insert.length==2&&(n=F.single(n.main.anchor-1,n.main.head-1)),t={from:s.from,to:s.to,insert:ze.of([" "])}):me.chrome&&t&&t.from==t.to&&t.from==s.head&&t.insert.toString()==`
 `&&i.lineWrapping&&(n&&(n=F.single(n.main.anchor-1,n.main.head-1)),t={from:s.from,to:s.to,insert:ze.of([" "])}),t){let o=i.state;if(me.ios&&i.inputState.flushIOSKey(i)||me.android&&(t.from==s.from&&t.to==s.to&&t.insert.length==1&&t.insert.lines==2&&Tr(i.contentDOM,"Enter",13)||(t.from==s.from-1&&t.to==s.to&&t.insert.length==0||r==8&&t.insert.length<t.to-t.from)&&Tr(i.contentDOM,"Backspace",8)||t.from==s.from&&t.to==s.to+1&&t.insert.length==0&&Tr(i.contentDOM,"Delete",46)))return!0;let a=t.insert.toString();if(i.state.facet(Dv).some(c=>c(i,t.from,t.to,a)))return!0;i.inputState.composing>=0&&i.inputState.composing++;let l;if(t.from>=s.from&&t.to<=s.to&&t.to-t.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&i.inputState.composing<0){let c=s.from<t.from?o.sliceDoc(s.from,t.from):"",f=s.to>t.to?o.sliceDoc(t.to,s.to):"";l=o.replaceSelection(i.state.toText(c+t.insert.sliceString(0,void 0,i.state.lineBreak)+f))}else{let c=o.changes(t),f=n&&n.main.to<=c.newLength?n.main:void 0;if(o.selection.ranges.length>1&&i.inputState.composing>=0&&t.to<=s.to&&t.to>=s.to-10){let p=i.state.sliceDoc(t.from,t.to),g=Yv(i)||i.state.doc.lineAt(s.head),y=s.to-t.to,v=s.to-s.from;l=o.changeByRange(w=>{if(w.from==s.from&&w.to==s.to)return{changes:c,range:f||w.map(c)};let k=w.to-y,T=k-p.length;if(w.to-w.from!=v||i.state.sliceDoc(T,k)!=p||g&&w.to>=g.from&&w.from<=g.to)return{range:w};let $=o.changes({from:T,to:k,insert:t.insert}),E=w.to-s.to;return{changes:$,range:f?F.range(Math.max(0,f.anchor+E),Math.max(0,f.head+E)):w.map($)}})}else l={changes:c,selection:f&&o.selection.replaceRange(f)}}let h="input.type";return(i.composing||i.inputState.compositionPendingChange&&i.inputState.compositionEndedAt>Date.now()-50)&&(i.inputState.compositionPendingChange=!1,h+=".compose",i.inputState.compositionFirstChange&&(h+=".start",i.inputState.compositionFirstChange=!1)),i.dispatch(l,{scrollIntoView:!0,userEvent:h}),!0}else if(n&&!n.main.eq(s)){let o=!1,a="select";return i.inputState.lastSelectionTime>Date.now()-50&&(i.inputState.lastSelectionOrigin=="select"&&(o=!0),a=i.inputState.lastSelectionOrigin),i.dispatch({selection:n,scrollIntoView:o,userEvent:a}),!0}else return!1}function P$(i,e,t,n){let s=Math.min(i.length,e.length),r=0;for(;r<s&&i.charCodeAt(r)==e.charCodeAt(r);)r++;if(r==s&&i.length==e.length)return null;let o=i.length,a=e.length;for(;o>0&&a>0&&i.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(n=="end"){let l=Math.max(0,r-Math.min(o,a));t-=o+l-r}if(o<r&&i.length<e.length){let l=t<=r&&t>=o?r-t:0;r-=l,a=r+(a-o),o=r}else if(a<r){let l=t<=r&&t>=a?r-t:0;r-=l,o=r+(o-a),a=r}return{from:r,toA:o,toB:a}}function E$(i){let e=[];if(i.root.activeElement!=i.contentDOM)return e;let{anchorNode:t,anchorOffset:n,focusNode:s,focusOffset:r}=i.observer.selectionRange;return t&&(e.push(new rg(t,n)),(s!=t||r!=n)&&e.push(new rg(s,r))),e}function A$(i,e){if(i.length==0)return null;let t=i[0].pos,n=i.length==2?i[1].pos:t;return t>-1&&n>-1?F.single(t+e,n+e):null}const I$={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},tu=me.ie&&me.ie_version<=11;class M${constructor(e){this.view=e,this.active=!1,this.selectionRange=new wC,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let n of t)this.queue.push(n);(me.ie&&me.ie_version<=11||me.ios&&e.composing)&&t.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),tu&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,s=this.selectionRange;if(n.state.facet(hc)?n.root.activeElement!=this.dom:!jl(n.dom,s))return;let r=s.anchorNode&&n.docView.nearest(s.anchorNode);if(r&&r.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(me.ie&&me.ie_version<=11||me.android&&me.chrome)&&!n.state.selection.main.empty&&s.focusNode&&ch(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=me.safari&&e.root.nodeType==11&&vC(this.dom.ownerDocument)==this.dom&&_$(this.view)||hh(e.root);if(!t||this.selectionRange.eq(t))return!1;let n=jl(this.dom,t);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&CC(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=t)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,I$),tu&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),tu&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let s=()=>{let r=this.delayedAndroidKey;r&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=r.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&r.force&&Tr(this.dom,r.key,r.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,s=!1;for(let r of e){let o=this.readMutation(r);o&&(o.typeOver&&(s=!0),t==-1?{from:t,to:n}=o:(t=Math.min(o.from,t),n=Math.max(o.to,n)))}return{from:t,to:n,typeOver:s}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),s=this.selectionChanged&&jl(this.dom,this.selectionRange);return e<0&&!s?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new $$(this.view,e,t,n))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let n=this.view.state,s=cx(this.view,t);return this.view.state==n&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let n=Mg(t,e.previousSibling||e.target.previousSibling,-1),s=Mg(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,n,s;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect(),(s=this.resizeContent)===null||s===void 0||s.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Mg(i,e,t){for(;e;){let n=Ke.get(e);if(n&&n.parent==i)return n;let s=e.parentNode;e=s!=i.dom?s:t>0?e.nextSibling:e.previousSibling}return null}function _$(i){let e=null;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(i.contentDOM.addEventListener("beforeinput",t,!0),i.dom.ownerDocument.execCommand("indent"),i.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let n=e.startContainer,s=e.startOffset,r=e.endContainer,o=e.endOffset,a=i.docView.domAtPos(i.state.selection.main.anchor);return ch(a.node,a.offset,r,o)&&([n,s,r,o]=[r,o,n,s]),{anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:o}}class he{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this._root=e.root||kC(e.parent)||document,this.viewState=new Ag(e.state||Ve.create(e)),this.plugins=this.state.facet(Ao).map(t=>new Hc(t));for(let t of this.plugins)t.update(this);this.observer=new M$(this),this.inputState=new JC(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new fg(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){let t=e.length==1&&e[0]instanceof $t?e[0]:this.state.update(...e);this._dispatch(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,n=!1,s,r=this.state;for(let p of e){if(p.startState!=r)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");r=p.state}if(this.destroyed){this.viewState.state=r;return}let o=this.hasFocus,a=0,l=null;e.some(p=>p.annotation(nx))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=sx(r,o),l||(a=1));let h=this.observer.delayedAndroidKey,c=null;if(h?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(r.doc)||!this.state.selection.eq(r.selection))&&(c=null)):this.observer.clear(),r.facet(Ve.phrases)!=this.state.facet(Ve.phrases))return this.setState(r);s=dh.create(this,r,e),s.flags|=a;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let p of e){if(f&&(f=f.map(p.changes)),p.scrollIntoView){let{main:g}=p.state.selection;f=new fh(g.empty?g:F.cursor(g.head,g.head>g.anchor?-1:1))}for(let g of p.effects)g.is(ug)&&(f=g.value)}this.viewState.update(s,f),this.bidiCache=ph.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),t=this.docView.update(s),this.state.facet(Io)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(p=>p.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(al)!=s.state.facet(al)&&(this.viewState.mustMeasureContent=!0),(t||n||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!s.empty)for(let p of this.state.facet(Cf))p(s);(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!cx(this,c)&&h.force&&Tr(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new Ag(e),this.plugins=e.facet(Ao).map(n=>new Hc(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView=new fg(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ao),n=e.state.facet(Ao);if(t!=n){let s=[];for(let r of n){let o=t.indexOf(r);if(o<0)s.push(new Hc(r));else{let a=this.plugins[o];a.mustUpdate=e,s.push(a)}}for(let r of this.plugins)r.mustUpdate!=e&&r.destroy(this);this.plugins=s,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,{scrollTop:s}=n,{scrollAnchorPos:r,scrollAnchorHeight:o}=this.viewState;s!=this.viewState.scrollTop&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(wv(n))r=-1,o=this.viewState.heightMap.height;else{let g=this.viewState.scrollAnchorAt(s);r=g.from,o=g.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];l&4||([this.measureRequests,h]=[h,this.measureRequests]);let c=h.map(g=>{try{return g.read(this)}catch(y){return zi(this.state,y),_g}}),f=dh.create(this,this.state,[]),p=!1;f.flags|=l,t?t.flags|=l:t=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),p=this.docView.update(f));for(let g=0;g<h.length;g++)if(c[g]!=_g)try{let y=h[g];y.write&&y.write(c[g],this)}catch(y){zi(this.state,y)}if(p&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}else{let y=(r<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(r).top)-o;if(y>1||y<-1){s=n.scrollTop=s+y,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(Cf))a(t)}get themeClasses(){return Tf+" "+(this.state.facet(_f)?lx:ax)+" "+this.state.facet(al)}updateAttrs(){let e=Tg(this,zv,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(hc)?"true":"false",class:"cm-content",style:`${me.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Tg(this,Rd,t);let n=this.observer.ignore(()=>{let s=wf(this.contentDOM,this.contentAttrs,t),r=wf(this.dom,this.editorAttrs,e);return s||r});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let s of n.effects)if(s.is(he.announce)){t&&(this.announceDOM.textContent=""),t=!1;let r=this.announceDOM.appendChild(document.createElement("div"));r.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(Io),Os.mount(this.root,this.styleModules.concat(C$).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(n=>n.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return Jc(this,e,yg(this,e,t,n))}moveByGroup(e,t){return Jc(this,e,yg(this,e,t,n=>HC(this,e.head,n)))}moveToLineBoundary(e,t,n=!0){return qC(this,e,t,n)}moveVertically(e,t,n){return Jc(this,e,KC(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),qv(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let s=this.state.doc.lineAt(e),r=this.bidiSpans(s),o=r[Qr.find(r,e-s.from,-1,t)];return _d(n,o.dir==lt.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Bv)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>T$)return Fv(e.length);let t=this.textDirectionAt(e.from);for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t)return s.order;let n=NC(e.text,t);return this.bidiCache.push(new ph(e.from,e.to,t,n)),n}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||me.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Sv(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return ug.of(new fh(typeof e=="number"?F.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return gt.define(()=>({}),{eventHandlers:e})}static theme(e,t){let n=Os.newName(),s=[al.of(n),Io.of(Qf(`.${n}`,e))];return t&&t.dark&&s.push(_f.of(!0)),s}static baseTheme(e){return $s.lowest(Io.of(Qf("."+Tf,e,hx)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),s=n&&Ke.get(n)||Ke.get(e);return((t=s?.rootView)===null||t===void 0?void 0:t.view)||null}}he.styleModule=Io;he.inputHandler=Dv;he.focusChangeEffect=Vv;he.perLineTextDirection=Bv;he.exceptionSink=Nv;he.updateListener=Cf;he.editable=hc;he.mouseSelectionStyle=Lv;he.dragMovesSelection=Rv;he.clickAddsSelectionRange=Qv;he.decorations=na;he.atomicRanges=Ld;he.scrollMargins=Zv;he.darkTheme=_f;he.contentAttributes=Rd;he.editorAttributes=zv;he.lineWrapping=he.contentAttributes.of({class:"cm-lineWrapping"});he.announce=$e.define();const T$=4096,_g={};class ph{constructor(e,t,n,s){this.from=e,this.to=t,this.dir=n,this.order=s}static update(e,t){if(t.empty)return e;let n=[],s=e.length?e[e.length-1].dir:lt.LTR;for(let r=Math.max(0,e.length-10);r<e.length;r++){let o=e[r];o.dir==s&&!t.touchesRange(o.from,o.to)&&n.push(new ph(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.order))}return n}}function Tg(i,e,t){for(let n=i.state.facet(e),s=n.length-1;s>=0;s--){let r=n[s],o=typeof r=="function"?r(i):r;o&&bf(o,t)}return t}const Q$=me.mac?"mac":me.windows?"win":me.linux?"linux":"key";function R$(i,e){const t=i.split(/-(?!$)/);let n=t[t.length-1];n=="Space"&&(n=" ");let s,r,o,a;for(let l=0;l<t.length-1;++l){const h=t[l];if(/^(cmd|meta|m)$/i.test(h))a=!0;else if(/^a(lt)?$/i.test(h))s=!0;else if(/^(c|ctrl|control)$/i.test(h))r=!0;else if(/^s(hift)?$/i.test(h))o=!0;else if(/^mod$/i.test(h))e=="mac"?a=!0:r=!0;else throw new Error("Unrecognized modifier name: "+h)}return s&&(n="Alt-"+n),r&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function ll(i,e,t){return e.altKey&&(i="Alt-"+i),e.ctrlKey&&(i="Ctrl-"+i),e.metaKey&&(i="Meta-"+i),t!==!1&&e.shiftKey&&(i="Shift-"+i),i}const L$=$s.default(he.domEventHandlers({keydown(i,e){return fx(ux(e.state),i,e,"editor")}})),Aa=pe.define({enables:L$}),Qg=new WeakMap;function ux(i){let e=i.facet(Aa),t=Qg.get(e);return t||Qg.set(e,t=V$(e.reduce((n,s)=>n.concat(s),[]))),t}function N$(i,e,t){return fx(ux(i.state),e,i,t)}let as=null;const D$=4e3;function V$(i,e=Q$){let t=Object.create(null),n=Object.create(null),s=(o,a)=>{let l=n[o];if(l==null)n[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},r=(o,a,l,h,c)=>{var f,p;let g=t[o]||(t[o]=Object.create(null)),y=a.split(/ (?!$)/).map(k=>R$(k,e));for(let k=1;k<y.length;k++){let T=y.slice(0,k).join(" ");s(T,!0),g[T]||(g[T]={preventDefault:!0,stopPropagation:!1,run:[$=>{let E=as={view:$,prefix:T,scope:o};return setTimeout(()=>{as==E&&(as=null)},D$),!0}]})}let v=y.join(" ");s(v,!1);let w=g[v]||(g[v]={preventDefault:!1,stopPropagation:!1,run:((p=(f=g._any)===null||f===void 0?void 0:f.run)===null||p===void 0?void 0:p.slice())||[]});l&&w.run.push(l),h&&(w.preventDefault=!0),c&&(w.stopPropagation=!0)};for(let o of i){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let h of a){let c=t[h]||(t[h]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let f in c)c[f].run.push(o.any)}let l=o[e]||o.key;if(l)for(let h of a)r(h,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&r(h,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return t}function fx(i,e,t,n){let s=yC(e),r=Ft(s,0),o=Di(r)==s.length&&s!=" ",a="",l=!1,h=!1,c=!1;as&&as.view==t&&as.scope==n&&(a=as.prefix+" ",Kv.indexOf(e.keyCode)<0&&(h=!0,as=null));let f=new Set,p=w=>{if(w){for(let k of w.run)if(!f.has(k)&&(f.add(k),k(t,e)))return w.stopPropagation&&(c=!0),!0;w.preventDefault&&(w.stopPropagation&&(c=!0),h=!0)}return!1},g=i[n],y,v;return g&&(p(g[a+ll(s,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(me.windows&&e.ctrlKey&&e.altKey)&&(y=ys[e.keyCode])&&y!=s?(p(g[a+ll(y,e,!0)])||e.shiftKey&&(v=ta[e.keyCode])!=s&&v!=y&&p(g[a+ll(v,e,!1)]))&&(l=!0):o&&e.shiftKey&&p(g[a+ll(s,e,!0)])&&(l=!0),!l&&p(g._any)&&(l=!0)),h&&(l=!0),l&&c&&e.stopPropagation(),l}class Ia{constructor(e,t,n,s,r){this.className=e,this.left=t,this.top=n,this.width=s,this.height=r}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let s=e.coordsAtPos(n.head,n.assoc||1);if(!s)return[];let r=dx(e);return[new Ia(t,s.left-r.left,s.top-r.top,null,s.bottom-s.top)]}else return B$(e,t,n)}}function dx(i){let e=i.scrollDOM.getBoundingClientRect();return{left:(i.textDirection==lt.LTR?e.left:e.right-i.scrollDOM.clientWidth)-i.scrollDOM.scrollLeft,top:e.top-i.scrollDOM.scrollTop}}function Rg(i,e,t){let n=F.cursor(e);return{from:Math.max(t.from,i.moveToLineBoundary(n,!1,!0).from),to:Math.min(t.to,i.moveToLineBoundary(n,!0,!0).from),type:ft.Text}}function B$(i,e,t){if(t.to<=i.viewport.from||t.from>=i.viewport.to)return[];let n=Math.max(t.from,i.viewport.from),s=Math.min(t.to,i.viewport.to),r=i.textDirection==lt.LTR,o=i.contentDOM,a=o.getBoundingClientRect(),l=dx(i),h=o.querySelector(".cm-line"),c=h&&window.getComputedStyle(h),f=a.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),p=a.right-(c?parseInt(c.paddingRight):0),g=Af(i,n),y=Af(i,s),v=g.type==ft.Text?g:null,w=y.type==ft.Text?y:null;if(v&&(i.lineWrapping||g.widgetLineBreaks)&&(v=Rg(i,n,v)),w&&(i.lineWrapping||y.widgetLineBreaks)&&(w=Rg(i,s,w)),v&&w&&v.from==w.from)return T($(t.from,t.to,v));{let _=v?$(t.from,null,v):E(g,!1),N=w?$(null,t.to,w):E(y,!0),z=[];return(v||g).to<(w||y).from-(v&&w?1:0)||g.widgetLineBreaks>1&&_.bottom+i.defaultLineHeight/2<N.top?z.push(k(f,_.bottom,p,N.top)):_.bottom<N.top&&i.elementAtHeight((_.bottom+N.top)/2).type==ft.Text&&(_.bottom=N.top=(_.bottom+N.top)/2),T(_).concat(z).concat(T(N))}function k(_,N,z,Q){return new Ia(e,_-l.left,N-l.top-.01,z-_,Q-N+.01)}function T({top:_,bottom:N,horizontal:z}){let Q=[];for(let M=0;M<z.length;M+=2)Q.push(k(z[M],_,z[M+1],N));return Q}function $(_,N,z){let Q=1e9,M=-1e9,V=[];function B(K,H,X,Y,te){let le=i.coordsAtPos(K,K==z.to?-2:2),de=i.coordsAtPos(X,X==z.from?2:-2);!le||!de||(Q=Math.min(le.top,de.top,Q),M=Math.max(le.bottom,de.bottom,M),te==lt.LTR?V.push(r&&H?f:le.left,r&&Y?p:de.right):V.push(!r&&Y?f:de.left,!r&&H?p:le.right))}let q=_??z.from,ee=N??z.to;for(let K of i.visibleRanges)if(K.to>q&&K.from<ee)for(let H=Math.max(K.from,q),X=Math.min(K.to,ee);;){let Y=i.state.doc.lineAt(H);for(let te of i.bidiSpans(Y)){let le=te.from+Y.from,de=te.to+Y.from;if(le>=X)break;de>H&&B(Math.max(le,H),_==null&&le<=q,Math.min(de,X),N==null&&de>=ee,te.dir)}if(H=Y.to+1,H>=X)break}return V.length==0&&B(q,_==null,ee,N==null,i.textDirection),{top:Q,bottom:M,horizontal:V}}function E(_,N){let z=a.top+(N?_.top:_.bottom);return{top:z,bottom:z,horizontal:[]}}}function X$(i,e){return i.constructor==e.constructor&&i.eq(e)}class z${constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Yl)!=e.state.facet(Yl)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(Yl);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((t,n)=>!X$(t,this.drawn[n]))){let t=this.dom.firstChild,n=0;for(let s of e)s.update&&t&&s.constructor&&this.drawn[n].constructor&&s.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(s.draw(),t);for(;t;){let s=t.nextSibling;t.remove(),t=s}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Yl=pe.define();function px(i){return[gt.define(e=>new z$(e,i)),Yl.of(i)]}const mx=!me.ios,sa=pe.define({combine(i){return Mn(i,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function Z$(i={}){return[sa.of(i),U$,j$,F$,Xv.of(!0)]}function gx(i){return i.startState.facet(sa)!=i.state.facet(sa)}const U$=px({above:!0,markers(i){let{state:e}=i,t=e.facet(sa),n=[];for(let s of e.selection.ranges){let r=s==e.selection.main;if(s.empty?!r||mx:t.drawRangeCursor){let o=r?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=s.empty?s:F.cursor(s.head,s.head>s.anchor?-1:1);for(let l of Ia.forRange(i,o,a))n.push(l)}}return n},update(i,e){i.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=gx(i);return t&&Lg(i.state,e),i.docChanged||i.selectionSet||t},mount(i,e){Lg(e.state,i)},class:"cm-cursorLayer"});function Lg(i,e){e.style.animationDuration=i.facet(sa).cursorBlinkRate+"ms"}const j$=px({above:!1,markers(i){return i.state.selection.ranges.map(e=>e.empty?[]:Ia.forRange(i,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(i,e){return i.docChanged||i.selectionSet||i.viewportChanged||gx(i)},class:"cm-selectionLayer"}),Ox={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};mx&&(Ox[".cm-line"].caretColor="transparent !important");const F$=$s.highest(he.theme(Ox)),yx=$e.define({map(i,e){return i==null?null:e.mapPos(i)}}),_o=It.define({create(){return null},update(i,e){return i!=null&&(i=e.changes.mapPos(i)),e.effects.reduce((t,n)=>n.is(yx)?n.value:t,i)}}),W$=gt.fromClass(class{constructor(i){this.view=i,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(i){var e;let t=i.state.field(_o);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(i.startState.field(_o)!=t||i.docChanged||i.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let i=this.view.state.field(_o),e=i!=null&&this.view.coordsAtPos(i);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(i){this.cursor&&(i?(this.cursor.style.left=i.left+"px",this.cursor.style.top=i.top+"px",this.cursor.style.height=i.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(i){this.view.state.field(_o)!=i&&this.view.dispatch({effects:yx.of(i)})}},{eventHandlers:{dragover(i){this.setDropPos(this.view.posAtCoords({x:i.clientX,y:i.clientY}))},dragleave(i){(i.target==this.view.contentDOM||!this.view.contentDOM.contains(i.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Y$(){return[_o,W$]}function Ng(i,e,t,n,s){e.lastIndex=0;for(let r=i.iterRange(t,n),o=t,a;!r.next().done;o+=r.value.length)if(!r.lineBreak)for(;a=e.exec(r.value);)s(o+a.index,a)}function G$(i,e){let t=i.visibleRanges;if(t.length==1&&t[0].from==i.viewport.from&&t[0].to==i.viewport.to)return t;let n=[];for(let{from:s,to:r}of t)s=Math.max(i.state.doc.lineAt(s).from,s-e),r=Math.min(i.state.doc.lineAt(r).to,r+e),n.length&&n[n.length-1].to>=s?n[n.length-1].to=r:n.push({from:s,to:r});return n}class q${constructor(e){const{regexp:t,decoration:n,decorate:s,boundary:r,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,s)this.addMatch=(a,l,h,c)=>s(c,h,h+a[0].length,a,l);else if(typeof n=="function")this.addMatch=(a,l,h,c)=>{let f=n(a,l,h);f&&c(h,h+a[0].length,f)};else if(n)this.addMatch=(a,l,h,c)=>c(h,h+a[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=r,this.maxLength=o}createDeco(e){let t=new Un,n=t.add.bind(t);for(let{from:s,to:r}of G$(e,this.maxLength))Ng(e.state.doc,this.regexp,s,r,(o,a)=>this.addMatch(a,e,o,n));return t.finish()}updateDeco(e,t){let n=1e9,s=-1;return e.docChanged&&e.changes.iterChanges((r,o,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(n=Math.min(a,n),s=Math.max(l,s))}),e.viewportChanged||s-n>1e3?this.createDeco(e.view):s>-1?this.updateRange(e.view,t.map(e.changes),n,s):t}updateRange(e,t,n,s){for(let r of e.visibleRanges){let o=Math.max(r.from,n),a=Math.min(r.to,s);if(a>o){let l=e.state.doc.lineAt(o),h=l.to<a?e.state.doc.lineAt(a):l,c=Math.max(r.from,l.from),f=Math.min(r.to,h.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){c=o;break}for(;a<h.to;a++)if(this.boundary.test(h.text[a-h.from])){f=a;break}}let p=[],g,y=(v,w,k)=>p.push(k.range(v,w));if(l==h)for(this.regexp.lastIndex=c-l.from;(g=this.regexp.exec(l.text))&&g.index<f-l.from;)this.addMatch(g,e,g.index+l.from,y);else Ng(e.state.doc,this.regexp,c,f,(v,w)=>this.addMatch(w,e,v,y));t=t.update({filterFrom:c,filterTo:f,filter:(v,w)=>v<c||w>f,add:p})}}return t}}const Rf=/x/.unicode!=null?"gu":"g",H$=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Rf),K$={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let iu=null;function J$(){var i;if(iu==null&&typeof document<"u"&&document.body){let e=document.body.style;iu=((i=e.tabSize)!==null&&i!==void 0?i:e.MozTabSize)!=null}return iu||!1}const Gl=pe.define({combine(i){let e=Mn(i,{render:null,specialChars:H$,addSpecialChars:null});return(e.replaceTabs=!J$())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Rf)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Rf)),e}});function eP(i={}){return[Gl.of(i),tP()]}let Dg=null;function tP(){return Dg||(Dg=gt.fromClass(class{constructor(i){this.view=i,this.decorations=ye.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(i.state.facet(Gl)),this.decorations=this.decorator.createDeco(i)}makeDecorator(i){return new q$({regexp:i.specialChars,decoration:(e,t,n)=>{let{doc:s}=t.state,r=Ft(e[0],0);if(r==9){let o=s.lineAt(n),a=t.state.tabSize,l=$a(o.text,a,n-o.from);return ye.replace({widget:new rP((a-l%a)*this.view.defaultCharacterWidth)})}return this.decorationCache[r]||(this.decorationCache[r]=ye.replace({widget:new sP(i,r)}))},boundary:i.replaceTabs?void 0:/[^]/})}update(i){let e=i.state.facet(Gl);i.startState.facet(Gl)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(i.view)):this.decorations=this.decorator.updateDeco(i,this.decorations)}},{decorations:i=>i.decorations}))}const iP="•";function nP(i){return i>=32?iP:i==10?"␤":String.fromCharCode(9216+i)}class sP extends _n{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=nP(this.code),n=e.state.phrase("Control character")+" "+(K$[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,n,t);if(s)return s;let r=document.createElement("span");return r.textContent=t,r.title=n,r.setAttribute("aria-label",n),r.className="cm-specialChar",r}ignoreEvent(){return!1}}class rP extends _n{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function oP(){return lP}const aP=ye.line({class:"cm-activeLine"}),lP=gt.fromClass(class{constructor(i){this.decorations=this.getDeco(i)}update(i){(i.docChanged||i.selectionSet)&&(this.decorations=this.getDeco(i.view))}getDeco(i){let e=-1,t=[];for(let n of i.state.selection.ranges){let s=i.lineBlockAt(n.head);s.from>e&&(t.push(aP.range(s.from)),e=s.from)}return ye.set(t)}},{decorations:i=>i.decorations}),Lf=2e3;function hP(i,e,t){let n=Math.min(e.line,t.line),s=Math.max(e.line,t.line),r=[];if(e.off>Lf||t.off>Lf||e.col<0||t.col<0){let o=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let l=n;l<=s;l++){let h=i.doc.line(l);h.length<=a&&r.push(F.range(h.from+o,h.to+a))}}else{let o=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let l=n;l<=s;l++){let h=i.doc.line(l),c=mf(h.text,o,i.tabSize,!0);if(c<0)r.push(F.cursor(h.to));else{let f=mf(h.text,a,i.tabSize);r.push(F.range(h.from+c,h.from+f))}}}return r}function cP(i,e){let t=i.coordsAtPos(i.viewport.from);return t?Math.round(Math.abs((t.left-e)/i.defaultCharacterWidth)):-1}function Vg(i,e){let t=i.posAtCoords({x:e.clientX,y:e.clientY},!1),n=i.state.doc.lineAt(t),s=t-n.from,r=s>Lf?-1:s==n.length?cP(i,e.clientX):$a(n.text,i.state.tabSize,t-n.from);return{line:n.number,col:r,off:s}}function uP(i,e){let t=Vg(i,e),n=i.state.selection;return t?{update(s){if(s.docChanged){let r=s.changes.mapPos(s.startState.doc.line(t.line).from),o=s.state.doc.lineAt(r);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},n=n.map(s.changes)}},get(s,r,o){let a=Vg(i,s);if(!a)return n;let l=hP(i.state,t,a);return l.length?o?F.create(l.concat(n.ranges)):F.create(l):n}}:null}function fP(i){let e=i?.eventFilter||(t=>t.altKey&&t.button==0);return he.mouseSelectionStyle.of((t,n)=>e(n)?uP(t,n):null)}const dP={Alt:[18,i=>!!i.altKey],Control:[17,i=>!!i.ctrlKey],Shift:[16,i=>!!i.shiftKey],Meta:[91,i=>!!i.metaKey]},pP={style:"cursor: crosshair"};function mP(i={}){let[e,t]=dP[i.key||"Alt"],n=gt.fromClass(class{constructor(s){this.view=s,this.isDown=!1}set(s){this.isDown!=s&&(this.isDown=s,this.view.update([]))}},{eventHandlers:{keydown(s){this.set(s.keyCode==e||t(s))},keyup(s){(s.keyCode==e||!t(s))&&this.set(!1)},mousemove(s){this.set(t(s))}}});return[n,he.contentAttributes.of(s=>{var r;return!((r=s.plugin(n))===null||r===void 0)&&r.isDown?pP:null})]}const hl="-10000px";class vx{constructor(e,t,n){this.facet=t,this.createTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter(s=>s),this.tooltipViews=this.tooltips.map(n)}update(e){var t;let n=e.state.facet(this.facet),s=n.filter(o=>o);if(n===this.input){for(let o of this.tooltipViews)o.update&&o.update(e);return!1}let r=[];for(let o=0;o<s.length;o++){let a=s[o],l=-1;if(a){for(let h=0;h<this.tooltips.length;h++){let c=this.tooltips[h];c&&c.create==a.create&&(l=h)}if(l<0)r[o]=this.createTooltipView(a);else{let h=r[o]=this.tooltipViews[l];h.update&&h.update(e)}}}for(let o of this.tooltipViews)r.indexOf(o)<0&&(o.dom.remove(),(t=o.destroy)===null||t===void 0||t.call(o));return this.input=n,this.tooltips=s,this.tooltipViews=r,!0}}function gP(i){let{win:e}=i;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const nu=pe.define({combine:i=>{var e,t,n;return{position:me.ios?"absolute":((e=i.find(s=>s.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=i.find(s=>s.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((n=i.find(s=>s.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||gP}}}),Bg=new WeakMap,xx=gt.fromClass(class{constructor(i){this.view=i,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=i.state.facet(nu);this.position=e.position,this.parent=e.parent,this.classes=i.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new vx(i,Dd,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),i.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let i of this.manager.tooltipViews)this.intersectionObserver.observe(i.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(i){i.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(i);e&&this.observeIntersection();let t=e||i.geometryChanged,n=i.state.facet(nu);if(n.position!=this.position){this.position=n.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;t=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(i){let e=i.create(this.view);if(e.dom.classList.add("cm-tooltip"),i.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=hl,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var i,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(i=t.destroy)===null||i===void 0||i.call(t);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let i=this.view.dom.getBoundingClientRect();return{editor:i,parent:this.parent?this.container.getBoundingClientRect():i,pos:this.manager.tooltips.map((e,t)=>{let n=this.manager.tooltipViews[t];return n.getCoords?n.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(nu).tooltipSpace(this.view)}}writeMeasure(i){var e;let{editor:t,space:n}=i,s=[];for(let r=0;r<this.manager.tooltips.length;r++){let o=this.manager.tooltips[r],a=this.manager.tooltipViews[r],{dom:l}=a,h=i.pos[r],c=i.size[r];if(!h||h.bottom<=Math.max(t.top,n.top)||h.top>=Math.min(t.bottom,n.bottom)||h.right<Math.max(t.left,n.left)-.1||h.left>Math.min(t.right,n.right)+.1){l.style.top=hl;continue}let f=o.arrow?a.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,g=c.right-c.left,y=(e=Bg.get(a))!==null&&e!==void 0?e:c.bottom-c.top,v=a.offset||yP,w=this.view.textDirection==lt.LTR,k=c.width>n.right-n.left?w?n.left:n.right-c.width:w?Math.min(h.left-(f?14:0)+v.x,n.right-g):Math.max(n.left,h.left-g+(f?14:0)-v.x),T=!!o.above;!o.strictSide&&(T?h.top-(c.bottom-c.top)-v.y<n.top:h.bottom+(c.bottom-c.top)+v.y>n.bottom)&&T==n.bottom-h.bottom>h.top-n.top&&(T=!T);let $=(T?h.top-n.top:n.bottom-h.bottom)-p;if($<y&&a.resize!==!1){if($<this.view.defaultLineHeight){l.style.top=hl;continue}Bg.set(a,y),l.style.height=(y=$)+"px"}else l.style.height&&(l.style.height="");let E=T?h.top-y-p-v.y:h.bottom+p+v.y,_=k+g;if(a.overlap!==!0)for(let N of s)N.left<_&&N.right>k&&N.top<E+y&&N.bottom>E&&(E=T?N.top-y-2-p:N.bottom+p+2);this.position=="absolute"?(l.style.top=E-i.parent.top+"px",l.style.left=k-i.parent.left+"px"):(l.style.top=E+"px",l.style.left=k+"px"),f&&(f.style.left=`${h.left+(w?v.x:-v.x)-(k+14-7)}px`),a.overlap!==!0&&s.push({left:k,top:E,right:_,bottom:E+y}),l.classList.toggle("cm-tooltip-above",T),l.classList.toggle("cm-tooltip-below",!T),a.positioned&&a.positioned(i.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let i of this.manager.tooltipViews)i.dom.style.top=hl}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),OP=he.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),yP={x:0,y:0},Dd=pe.define({enables:[xx,OP]}),mh=pe.define();class Vd{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new vx(e,mh,t=>this.createHostedView(t))}static create(e){return new Vd(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}}const vP=Dd.compute([mh],i=>{let e=i.facet(mh).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:Vd.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class xP{constructor(e,t,n,s,r){this.view=e,this.source=t,this.field=n,this.setHover=s,this.hoverTime=r,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(t==null)return;let n=this.view.coordsAtPos(t);if(n==null||e.y<n.top||e.y>n.bottom||e.x<n.left-this.view.defaultCharacterWidth||e.x>n.right+this.view.defaultCharacterWidth)return;let s=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find(a=>a.from<=t&&a.to>=t),r=s&&s.dir==lt.RTL?-1:1,o=this.source(this.view,t,e.x<n.left?-r:r);if(o?.then){let a=this.pending={pos:t};o.then(l=>{this.pending==a&&(this.pending=null,l&&this.view.dispatch({effects:this.setHover.of(l)}))},l=>zi(this.view.state,l,"hover tooltip"))}else o&&this.view.dispatch({effects:this.setHover.of(o)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let n=this.active;if(n&&!Xg(this.lastMove.target)||this.pending){let{pos:s}=n||this.pending,r=(t=n?.end)!==null&&t!==void 0?t:s;(s==r?this.view.posAtCoords(this.lastMove)!=s:!SP(this.view,s,r,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!Xg(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function Xg(i){for(let e=i;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function SP(i,e,t,n,s,r){let o=document.createRange(),a=i.domAtPos(e),l=i.domAtPos(t);o.setEnd(l.node,l.offset),o.setStart(a.node,a.offset);let h=o.getClientRects();o.detach();for(let c=0;c<h.length;c++){let f=h[c];if(Math.max(f.top-s,s-f.bottom,f.left-n,n-f.right)<=r)return!0}return!1}function bP(i,e={}){let t=$e.define(),n=It.define({create(){return null},update(s,r){if(s&&(e.hideOnChange&&(r.docChanged||r.selection)||e.hideOn&&e.hideOn(r,s)))return null;if(s&&r.docChanged){let o=r.changes.mapPos(s.pos,-1,Dt.TrackDel);if(o==null)return null;let a=Object.assign(Object.create(null),s);a.pos=o,s.end!=null&&(a.end=r.changes.mapPos(s.end)),s=a}for(let o of r.effects)o.is(t)&&(s=o.value),o.is(wP)&&(s=null);return s},provide:s=>mh.from(s)});return[n,gt.define(s=>new xP(s,i,n,t,e.hoverTime||300)),vP]}function Sx(i,e){let t=i.plugin(xx);if(!t)return null;let n=t.manager.tooltips.indexOf(e);return n<0?null:t.manager.tooltipViews[n]}const wP=$e.define(),zg=pe.define({combine(i){let e,t;for(let n of i)e=e||n.topContainer,t=t||n.bottomContainer;return{topContainer:e,bottomContainer:t}}});function ra(i,e){let t=i.plugin(bx),n=t?t.specs.indexOf(e):-1;return n>-1?t.panels[n]:null}const bx=gt.fromClass(class{constructor(i){this.input=i.state.facet(Js),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(i));let e=i.state.facet(zg);this.top=new cl(i,!0,e.topContainer),this.bottom=new cl(i,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(i){let e=i.state.facet(zg);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new cl(i.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new cl(i.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=i.state.facet(Js);if(t!=this.input){let n=t.filter(l=>l),s=[],r=[],o=[],a=[];for(let l of n){let h=this.specs.indexOf(l),c;h<0?(c=l(i.view),a.push(c)):(c=this.panels[h],c.update&&c.update(i)),s.push(c),(c.top?r:o).push(c)}this.specs=n,this.panels=s,this.top.sync(r),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let n of this.panels)n.update&&n.update(i)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:i=>he.scrollMargins.of(e=>{let t=e.plugin(i);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class cl{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Zg(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Zg(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Zg(i){let e=i.nextSibling;return i.remove(),e}const Js=pe.define({enables:bx});class En extends Hs{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}En.prototype.elementClass="";En.prototype.toDOM=void 0;En.prototype.mapMode=Dt.TrackBefore;En.prototype.startSide=En.prototype.endSide=-1;En.prototype.point=!0;const ql=pe.define(),kP={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Ze.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Zo=pe.define();function CP(i){return[wx(),Zo.of(Object.assign(Object.assign({},kP),i))]}const Nf=pe.define({combine:i=>i.some(e=>e)});function wx(i){let e=[$P];return i&&i.fixed===!1&&e.push(Nf.of(!0)),e}const $P=gt.fromClass(class{constructor(i){this.view=i,this.prevViewport=i.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=i.state.facet(Zo).map(e=>new jg(i,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!i.state.facet(Nf),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),i.scrollDOM.insertBefore(this.dom,i.contentDOM)}update(i){if(this.updateGutters(i)){let e=this.prevViewport,t=i.view.viewport,n=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(n<(t.to-t.from)*.8)}i.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Nf)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=i.view.viewport}syncGutters(i){let e=this.dom.nextSibling;i&&this.dom.remove();let t=Ze.iter(this.view.state.facet(ql),this.view.viewport.from),n=[],s=this.gutters.map(r=>new PP(r,this.view.viewport,-this.view.documentPadding.top));for(let r of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(r.type)){let o=!0;for(let a of r.type)if(a.type==ft.Text&&o){Df(t,n,a.from);for(let l of s)l.line(this.view,a,n);o=!1}else if(a.widget)for(let l of s)l.widget(this.view,a)}else if(r.type==ft.Text){Df(t,n,r.from);for(let o of s)o.line(this.view,r,n)}for(let r of s)r.finish();i&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(i){let e=i.startState.facet(Zo),t=i.state.facet(Zo),n=i.docChanged||i.heightChanged||i.viewportChanged||!Ze.eq(i.startState.facet(ql),i.state.facet(ql),i.view.viewport.from,i.view.viewport.to);if(e==t)for(let s of this.gutters)s.update(i)&&(n=!0);else{n=!0;let s=[];for(let r of t){let o=e.indexOf(r);o<0?s.push(new jg(this.view,r)):(this.gutters[o].update(i),s.push(this.gutters[o]))}for(let r of this.gutters)r.dom.remove(),s.indexOf(r)<0&&r.destroy();for(let r of s)this.dom.appendChild(r.dom);this.gutters=s}return n}destroy(){for(let i of this.gutters)i.destroy();this.dom.remove()}},{provide:i=>he.scrollMargins.of(e=>{let t=e.plugin(i);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==lt.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function Ug(i){return Array.isArray(i)?i:[i]}function Df(i,e,t){for(;i.value&&i.from<=t;)i.from==t&&e.push(i.value),i.next()}class PP{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=Ze.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:s}=this,r=t.top-this.height;if(this.i==s.elements.length){let o=new kx(e,t.height,r,n);s.elements.push(o),s.dom.appendChild(o.dom)}else s.elements[this.i].update(e,t.height,r,n);this.height=t.bottom,this.i++}line(e,t,n){let s=[];Df(this.cursor,s,t.from),n.length&&(s=s.concat(n));let r=this.gutter.config.lineMarker(e,t,s);r&&s.unshift(r);let o=this.gutter;s.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,s)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t);n&&this.addElement(e,t,[n])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class jg{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,s=>{let r=s.target,o;if(r!=this.dom&&this.dom.contains(r)){for(;r.parentNode!=this.dom;)r=r.parentNode;let l=r.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=s.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[n](e,a,s)&&s.preventDefault()});this.markers=Ug(t.markers(e)),t.initialSpacer&&(this.spacer=new kx(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Ug(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let n=e.view.viewport;return!Ze.eq(this.markers,t,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class kx{constructor(e,t,n,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,s)}update(e,t,n,s){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),EP(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,t){let n="cm-gutterElement",s=this.dom.firstChild;for(let r=0,o=0;;){let a=o,l=r<t.length?t[r++]:null,h=!1;if(l){let c=l.elementClass;c&&(n+=" "+c);for(let f=o;f<this.markers.length;f++)if(this.markers[f].compare(l)){a=f,h=!0;break}}else a=this.markers.length;for(;o<a;){let c=this.markers[o++];if(c.toDOM){c.destroy(s);let f=s.nextSibling;s.remove(),s=f}}if(!l)break;l.toDOM&&(h?s=s.nextSibling:this.dom.insertBefore(l.toDOM(e),s)),h&&o++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}function EP(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(!i[t].compare(e[t]))return!1;return!0}const Cx=pe.define(),$r=pe.define({combine(i){return Mn(i,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let s in t){let r=n[s],o=t[s];n[s]=r?(a,l,h)=>r(a,l,h)||o(a,l,h):o}return n}})}});class su extends En{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function ru(i,e){return i.state.facet($r).formatNumber(e,i.state)}const AP=Zo.compute([$r],i=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Cx)},lineMarker(e,t,n){return n.some(s=>s.toDOM)?null:new su(ru(e,e.state.doc.lineAt(t.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet($r)!=e.state.facet($r),initialSpacer(e){return new su(ru(e,Fg(e.state.doc.lines)))},updateSpacer(e,t){let n=ru(t.view,Fg(t.view.state.doc.lines));return n==e.number?e:new su(n)},domEventHandlers:i.facet($r).domEventHandlers}));function IP(i={}){return[$r.of(i),wx(),AP]}function Fg(i){let e=9;for(;e<i;)e=e*10+9;return e}const MP=new class extends En{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},_P=ql.compute(["selection"],i=>{let e=[],t=-1;for(let n of i.selection.ranges){let s=i.doc.lineAt(n.head).from;s>t&&(t=s,e.push(MP.range(s)))}return Ze.of(e)});function TP(){return _P}const $x=1024;let QP=0;class ou{constructor(e,t){this.from=e,this.to=t}}class _e{constructor(e={}){this.id=QP++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=mi.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}}_e.closedBy=new _e({deserialize:i=>i.split(" ")});_e.openedBy=new _e({deserialize:i=>i.split(" ")});_e.group=new _e({deserialize:i=>i.split(" ")});_e.contextHash=new _e({perNode:!0});_e.lookAhead=new _e({perNode:!0});_e.mounted=new _e({perNode:!0});const RP=Object.create(null);class mi{constructor(e,t,n,s=0){this.name=e,this.props=t,this.id=n,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):RP,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new mi(e.name||"",t,e.id,n);if(e.props){for(let r of e.props)if(Array.isArray(r)||(r=r(s)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[r[0].id]=r[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(_e.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let s of n.split(" "))t[s]=e[n];return n=>{for(let s=n.prop(_e.group),r=-1;r<(s?s.length:0);r++){let o=t[r<0?n.name:s[r]];if(o)return o}}}}mi.none=new mi("",Object.create(null),0,8);class Bd{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let s=null;for(let r of e){let o=r(n);o&&(s||(s=Object.assign({},n.props)),s[o[0].id]=o[1])}t.push(s?new mi(n.name,s,n.id,n.flags):n)}return new Bd(t)}}const ul=new WeakMap,Wg=new WeakMap;var Nt;(function(i){i[i.ExcludeBuffers=1]="ExcludeBuffers",i[i.IncludeAnonymous=2]="IncludeAnonymous",i[i.IgnoreMounts=4]="IgnoreMounts",i[i.IgnoreOverlays=8]="IgnoreOverlays"})(Nt||(Nt={}));class Et{constructor(e,t,n,s,r){if(this.type=e,this.children=t,this.positions=n,this.length=s,this.props=null,r&&r.length){this.props=Object.create(null);for(let[o,a]of r)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=this.prop(_e.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let s=n.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new yh(this.topNode,e)}cursorAt(e,t=0,n=0){let s=ul.get(this)||this.topNode,r=new yh(s);return r.moveTo(e,t),ul.set(this,r._tree),r}get topNode(){return new Ki(this,0,0,null)}resolve(e,t=0){let n=Ur(ul.get(this)||this.topNode,e,t,!1);return ul.set(this,n),n}resolveInner(e,t=0){let n=Ur(Wg.get(this)||this.topNode,e,t,!0);return Wg.set(this,n),n}iterate(e){let{enter:t,leave:n,from:s=0,to:r=this.length}=e,o=e.mode||0,a=(o&Nt.IncludeAnonymous)>0;for(let l=this.cursor(o|Nt.IncludeAnonymous);;){let h=!1;if(l.from<=r&&l.to>=s&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;h=!0}for(;h&&n&&(a||!l.type.isAnonymous)&&n(l),!l.nextSibling();){if(!l.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Zd(mi.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,s)=>new Et(this.type,t,n,s,this.propValues),e.makeTree||((t,n,s)=>new Et(mi.none,t,n,s)))}static build(e){return NP(e)}}Et.empty=new Et(mi.none,[],[],0);class Xd{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Xd(this.buffer,this.index)}}class ar{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return mi.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],s=this.set.types[t],r=s.name;if(/\W/.test(r)&&!s.isError&&(r=JSON.stringify(r)),e+=4,n==e)return r;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return r+"("+o.join(",")+")"}findChild(e,t,n,s,r){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(Px(r,s,o[l+1],o[l+2])&&(a=l,n>0));l=o[l+3]);return a}slice(e,t,n){let s=this.buffer,r=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){r[l++]=s[a++],r[l++]=s[a++]-n;let h=r[l++]=s[a++]-n;r[l++]=s[a++]-e,o=Math.max(o,h)}return new ar(r,o,this.set)}}function Px(i,e,t,n){switch(i){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function Ex(i,e){let t=i.childBefore(e);for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(i=t,t=n.prevSibling):t=n}return i}function Ur(i,e,t,n){for(var s;i.from==i.to||(t<1?i.from>=e:i.from>e)||(t>-1?i.to<=e:i.to<e);){let o=!n&&i instanceof Ki&&i.index<0?null:i.parent;if(!o)return i;i=o}let r=n?0:Nt.IgnoreOverlays;if(n)for(let o=i,a=o.parent;a;o=a,a=o.parent)o instanceof Ki&&o.index<0&&((s=a.enter(e,t,r))===null||s===void 0?void 0:s.from)!=o.from&&(i=a);for(;;){let o=i.enter(e,t,r);if(!o)return i;i=o}}class Ki{constructor(e,t,n,s){this._tree=e,this.from=t,this.index=n,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,s,r=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,h=t>0?a.length:-1;e!=h;e+=t){let c=a[e],f=l[e]+o.from;if(Px(s,n,f,f+c.length)){if(c instanceof ar){if(r&Nt.ExcludeBuffers)continue;let p=c.findChild(0,c.buffer.length,t,n-f,s);if(p>-1)return new wn(new LP(o,c,e,f),null,p)}else if(r&Nt.IncludeAnonymous||!c.type.isAnonymous||zd(c)){let p;if(!(r&Nt.IgnoreMounts)&&c.props&&(p=c.prop(_e.mounted))&&!p.overlay)return new Ki(p.tree,f,e,o);let g=new Ki(c,f,e,o);return r&Nt.IncludeAnonymous||!g.type.isAnonymous?g:g.nextChild(t<0?c.children.length-1:0,t,n,s)}}}if(r&Nt.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let s;if(!(n&Nt.IgnoreOverlays)&&(s=this._tree.prop(_e.mounted))&&s.overlay){let r=e-this.from;for(let{from:o,to:a}of s.overlay)if((t>0?o<=r:o<r)&&(t<0?a>=r:a>r))return new Ki(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new yh(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Ur(this,e,t,!1)}resolveInner(e,t=0){return Ur(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Ex(this,e)}getChild(e,t=null,n=null){let s=gh(this,e,t,n);return s.length?s[0]:null}getChildren(e,t=null,n=null){return gh(this,e,t,n)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Oh(this,e)}}function gh(i,e,t,n){let s=i.cursor(),r=[];if(!s.firstChild())return r;if(t!=null){for(;!s.type.is(t);)if(!s.nextSibling())return r}for(;;){if(n!=null&&s.type.is(n))return r;if(s.type.is(e)&&r.push(s.node),!s.nextSibling())return n==null?r:[]}}function Oh(i,e,t=e.length-1){for(let n=i.parent;t>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[t]&&e[t]!=n.name)return!1;t--}}return!0}class LP{constructor(e,t,n,s){this.parent=e,this.buffer=t,this.index=n,this.start=s}}class wn{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:s}=this.context,r=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,n);return r<0?null:new wn(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&Nt.ExcludeBuffers)return null;let{buffer:s}=this.context,r=s.findChild(this.index+4,s.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return r<0?null:new wn(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new wn(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new wn(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new yh(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,s=this.index+4,r=n.buffer[this.index+3];if(r>s){let o=n.buffer[this.index+1];e.push(n.slice(s,r,o)),t.push(0)}return new Et(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Ur(this,e,t,!1)}resolveInner(e,t=0){return Ur(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Ex(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,n=null){let s=gh(this,e,t,n);return s.length?s[0]:null}getChildren(e,t=null,n=null){return gh(this,e,t,n)}get node(){return this}matchContext(e){return Oh(this,e)}}class yh{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ki)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=n+s.buffer[e+1],this.to=n+s.buffer[e+2],!0}yield(e){return e?e instanceof Ki?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:s}=this.buffer,r=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,n);return r<0?!1:(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&Nt.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Nt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Nt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let s=n<0?0:this.stack[n]+4;if(this.index!=s)return this.yieldBuf(t.findChild(s,this.index,-1,0,4))}else{let s=t.buffer[this.index+3];if(s<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(s)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let r=0;r<this.index;r++)if(s.buffer.buffer[r+3]<this.index)return!1;({index:t,parent:n}=s)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let r=t+e,o=e<0?-1:n._tree.children.length;r!=o;r+=e){let a=n._tree.children[r];if(this.mode&Nt.IncludeAnonymous||a instanceof ar||!a.type.isAnonymous||zd(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let s=this.index,r=this.stack.length;r>=0;){for(let o=e;o;o=o._parent)if(o.index==s){if(s==this.index)return o;t=o,n=r+1;break e}s=this.stack[--r]}for(let s=n;s<this.stack.length;s++)t=new wn(this.buffer,t,this.stack[s]);return this.bufferNode=new wn(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(s=!0)}for(;s&&t&&t(this),s=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,s=!0}}}matchContext(e){if(!this.buffer)return Oh(this.node,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let s=e.length-1,r=this.stack.length-1;s>=0;r--){if(r<0)return Oh(this.node,e,s);let o=n[t.buffer[this.stack[r]]];if(!o.isAnonymous){if(e[s]&&e[s]!=o.name)return!1;s--}}return!0}}function zd(i){return i.children.some(e=>e instanceof ar||!e.type.isAnonymous||zd(e))}function NP(i){var e;let{buffer:t,nodeSet:n,maxBufferLength:s=$x,reused:r=[],minRepeatType:o=n.types.length}=i,a=Array.isArray(t)?new Xd(t,t.length):t,l=n.types,h=0,c=0;function f(E,_,N,z,Q){let{id:M,start:V,end:B,size:q}=a,ee=c;for(;q<0;)if(a.next(),q==-1){let te=r[M];N.push(te),z.push(V-E);return}else if(q==-3){h=M;return}else if(q==-4){c=M;return}else throw new RangeError(`Unrecognized record size: ${q}`);let K=l[M],H,X,Y=V-E;if(B-V<=s&&(X=v(a.pos-_,Q))){let te=new Uint16Array(X.size-X.skip),le=a.pos-X.size,de=te.length;for(;a.pos>le;)de=w(X.start,te,de);H=new ar(te,B-X.start,n),Y=X.start-E}else{let te=a.pos-q;a.next();let le=[],de=[],Se=M>=o?M:-1,xe=0,Ee=B;for(;a.pos>te;)Se>=0&&a.id==Se&&a.size>=0?(a.end<=Ee-s&&(g(le,de,V,xe,a.end,Ee,Se,ee),xe=le.length,Ee=a.end),a.next()):f(V,te,le,de,Se);if(Se>=0&&xe>0&&xe<le.length&&g(le,de,V,xe,V,Ee,Se,ee),le.reverse(),de.reverse(),Se>-1&&xe>0){let Ue=p(K);H=Zd(K,le,de,0,le.length,0,B-V,Ue,Ue)}else H=y(K,le,de,B-V,ee-B)}N.push(H),z.push(Y)}function p(E){return(_,N,z)=>{let Q=0,M=_.length-1,V,B;if(M>=0&&(V=_[M])instanceof Et){if(!M&&V.type==E&&V.length==z)return V;(B=V.prop(_e.lookAhead))&&(Q=N[M]+V.length+B)}return y(E,_,N,z,Q)}}function g(E,_,N,z,Q,M,V,B){let q=[],ee=[];for(;E.length>z;)q.push(E.pop()),ee.push(_.pop()+N-Q);E.push(y(n.types[V],q,ee,M-Q,B-M)),_.push(Q-N)}function y(E,_,N,z,Q=0,M){if(h){let V=[_e.contextHash,h];M=M?[V].concat(M):[V]}if(Q>25){let V=[_e.lookAhead,Q];M=M?[V].concat(M):[V]}return new Et(E,_,N,z,M)}function v(E,_){let N=a.fork(),z=0,Q=0,M=0,V=N.end-s,B={size:0,start:0,skip:0};e:for(let q=N.pos-E;N.pos>q;){let ee=N.size;if(N.id==_&&ee>=0){B.size=z,B.start=Q,B.skip=M,M+=4,z+=4,N.next();continue}let K=N.pos-ee;if(ee<0||K<q||N.start<V)break;let H=N.id>=o?4:0,X=N.start;for(N.next();N.pos>K;){if(N.size<0)if(N.size==-3)H+=4;else break e;else N.id>=o&&(H+=4);N.next()}Q=X,z+=ee,M+=H}return(_<0||z==E)&&(B.size=z,B.start=Q,B.skip=M),B.size>4?B:void 0}function w(E,_,N){let{id:z,start:Q,end:M,size:V}=a;if(a.next(),V>=0&&z<o){let B=N;if(V>4){let q=a.pos-(V-4);for(;a.pos>q;)N=w(E,_,N)}_[--N]=B,_[--N]=M-E,_[--N]=Q-E,_[--N]=z}else V==-3?h=z:V==-4&&(c=z);return N}let k=[],T=[];for(;a.pos>0;)f(i.start||0,i.bufferStart||0,k,T,-1);let $=(e=i.length)!==null&&e!==void 0?e:k.length?T[0]+k[0].length:0;return new Et(l[i.topID],k.reverse(),T.reverse(),$)}const Yg=new WeakMap;function Hl(i,e){if(!i.isAnonymous||e instanceof ar||e.type!=i)return 1;let t=Yg.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=i||!(n instanceof Et)){t=1;break}t+=Hl(i,n)}Yg.set(e,t)}return t}function Zd(i,e,t,n,s,r,o,a,l){let h=0;for(let y=n;y<s;y++)h+=Hl(i,e[y]);let c=Math.ceil(h*1.5/8),f=[],p=[];function g(y,v,w,k,T){for(let $=w;$<k;){let E=$,_=v[$],N=Hl(i,y[$]);for($++;$<k;$++){let z=Hl(i,y[$]);if(N+z>=c)break;N+=z}if($==E+1){if(N>c){let z=y[E];g(z.children,z.positions,0,z.children.length,v[E]+T);continue}f.push(y[E])}else{let z=v[$-1]+y[$-1].length-_;f.push(Zd(i,y,v,E,$,_,z,null,l))}p.push(_+T-r)}}return g(e,t,n,s,0),(a||l)(f,p,o)}class DP{constructor(){this.map=new WeakMap}setBuffer(e,t,n){let s=this.map.get(e);s||this.map.set(e,s=new Map),s.set(t,n)}getBuffer(e,t){let n=this.map.get(e);return n&&n.get(t)}set(e,t){e instanceof wn?this.setBuffer(e.context.buffer,e.index,t):e instanceof Ki&&this.map.set(e.tree,t)}get(e){return e instanceof wn?this.getBuffer(e.context.buffer,e.index):e instanceof Ki?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class js{constructor(e,t,n,s,r=!1,o=!1){this.from=e,this.to=t,this.tree=n,this.offset=s,this.open=(r?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],n=!1){let s=[new js(0,e.length,e,0,!1,n)];for(let r of t)r.to>e.length&&s.push(r);return s}static applyChanges(e,t,n=128){if(!t.length)return e;let s=[],r=1,o=e.length?e[0]:null;for(let a=0,l=0,h=0;;a++){let c=a<t.length?t[a]:null,f=c?c.fromA:1e9;if(f-l>=n)for(;o&&o.from<f;){let p=o;if(l>=p.from||f<=p.to||h){let g=Math.max(p.from,l)-h,y=Math.min(p.to,f)-h;p=g>=y?null:new js(g,y,p.tree,p.offset+h,a>0,!!c)}if(p&&s.push(p),o.to>f)break;o=r<e.length?e[r++]:null}if(!c)break;l=c.toA,h=c.toA-c.toB}return s}}class Ax{startParse(e,t,n){return typeof e=="string"&&(e=new VP(e)),n=n?n.length?n.map(s=>new ou(s.from,s.to)):[new ou(0,0)]:[new ou(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let s=this.startParse(e,t,n);for(;;){let r=s.advance();if(r)return r}}}class VP{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new _e({perNode:!0});class vh{constructor(e,t,n,s,r,o,a,l,h,c=0,f){this.p=e,this.stack=t,this.state=n,this.reducePos=s,this.pos=r,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=h,this.lookAhead=c,this.parent=f}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let s=e.parser.context;return new vh(e,[],t,n,n,0,[],0,s?new Gg(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,s=e&65535,{parser:r}=this.p,o=r.dynamicPrecedence(s);if(o&&(this.score+=o),n==0){this.pushState(r.getGoto(this.state,s,!0),this.reducePos),s<r.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,4,!0),this.reduceContext(s,this.reducePos);return}let a=this.stack.length-(n-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,h=this.reducePos-l;h>=2e3&&!(!((t=this.p.parser.nodeSet.types[s])===null||t===void 0)&&t.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=h));let c=a?this.stack[a-1]:0,f=this.bufferBase+this.buffer.length-c;if(s<r.minRepeatTerm||e&131072){let p=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,l,p,f+4,!0)}if(e&262144)this.state=this.stack[a];else{let p=this.stack[a-3];this.state=r.getGoto(p,s,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(s,l)}storeNode(e,t,n,s=4,r=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==n)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=n;return}}}if(!r||this.pos==n)this.buffer.push(e,t,n,s);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>n;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,s>4&&(s-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=n,this.buffer[o+3]=s}}shift(e,t,n){let s=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=n,this.shiftContext(t,s),t<=this.p.parser.maxNode&&this.buffer.push(t,s,n,4);else{let r=e,{parser:o}=this.p;(n>this.pos||t<=o.maxNode)&&(this.pos=n,o.stateFlag(r,1)||(this.reducePos=n)),this.pushState(r,s),this.shiftContext(t,s),t<=o.maxNode&&this.buffer.push(t,s,n,4)}}apply(e,t,n){e&65536?this.reduce(e):this.shift(e,t,n)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(t,s),this.buffer.push(n,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),s=e.bufferBase+t;for(;e&&s==e.bufferBase;)e=e.parent;return new vh(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new BP(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(n==0)return!1;if(!(n&65536))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let s=[];for(let r=0,o;r<t.length;r+=2)(o=t[r+1])!=this.state&&this.p.parser.hasAction(o,e)&&s.push(t[r],o);if(this.stack.length<120)for(let r=0;s.length<8&&r<t.length;r+=2){let o=t[r+1];s.some((a,l)=>l&1&&a==o)||s.push(t[r],o)}t=s}let n=[];for(let s=0;s<t.length&&n.length<4;s+=2){let r=t[s+1];if(r==this.state)continue;let o=this.split();o.pushState(r,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[s],this.pos),o.score-=200,n.push(o)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let n=t>>19,s=t&65535,r=this.stack.length-n*3;if(r<0||e.getGoto(this.stack[r],s,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(s,r)=>{if(!t.includes(s))return t.push(s),e.allActions(s,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-r;if(a>1){let l=o&65535,h=this.stack.length-a*3;if(h>=0&&e.getGoto(this.stack[h],l,!1)>=0)return a<<19|65536|l}}else{let a=n(o,r+1);if(a!=null)return a}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Gg(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Gg{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class BP{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=s}}class xh{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new xh(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new xh(this.stack,this.pos,this.index)}}function To(i,e=Uint16Array){if(typeof i!="string")return i;let t=null;for(let n=0,s=0;n<i.length;){let r=0;for(;;){let o=i.charCodeAt(n++),a=!1;if(o==126){r=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),r+=l,a)break;r*=46}t?t[s++]=r:t=new e(r)}return t}class Kl{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const qg=new Kl;class XP{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=qg,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,s=this.rangeIndex,r=this.pos+e;for(;r<n.from;){if(!s)return null;let o=this.ranges[--s];r-=n.from-o.to,n=o}for(;t<0?r>n.to:r>=n.to;){if(s==this.ranges.length-1)return null;let o=this.ranges[++s];r+=o.from-n.to,n=o}return r}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,n,s;if(t>=0&&t<this.chunk.length)n=this.pos+e,s=this.chunk.charCodeAt(t);else{let r=this.resolveOffset(e,1);if(r==null)return-1;if(n=r,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=n;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-n)),s=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),s}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=qg,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let s of this.ranges){if(s.from>=t)break;s.to>e&&(n+=this.input.read(Math.max(s.from,e),Math.min(s.to,t)))}return n}}class Rr{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;Ix(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}Rr.prototype.contextual=Rr.prototype.fallback=Rr.prototype.extend=!1;class Vf{constructor(e,t,n){this.precTable=t,this.elseToken=n,this.data=typeof e=="string"?To(e):e}token(e,t){let n=e.pos,s=0;for(;;){let r=e.next<0,o=e.resolveOffset(1,1);if(Ix(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(r||s++,o==null)break;e.reset(o,e.token)}s&&(e.reset(n,e.token),e.acceptToken(this.elseToken,s))}}Vf.prototype.contextual=Rr.prototype.fallback=Rr.prototype.extend=!1;class Ud{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function Ix(i,e,t,n,s,r){let o=0,a=1<<n,{dialect:l}=t.p.parser;e:for(;a&i[o];){let h=i[o+1];for(let g=o+3;g<h;g+=2)if((i[g+1]&a)>0){let y=i[g];if(l.allows(y)&&(e.token.value==-1||e.token.value==y||zP(y,e.token.value,s,r))){e.acceptToken(y);break}}let c=e.next,f=0,p=i[o+2];if(e.next<0&&p>f&&i[h+p*3-3]==65535&&i[h+p*3-3]==65535){o=i[h+p*3-1];continue e}for(;f<p;){let g=f+p>>1,y=h+g+(g<<1),v=i[y],w=i[y+1]||65536;if(c<v)p=g;else if(c>=w)f=g+1;else{o=i[y+2],e.advance();continue e}}break}}function Hg(i,e,t){for(let n=e,s;(s=i[n])!=65535;n++)if(s==t)return n-e;return-1}function zP(i,e,t,n){let s=Hg(t,n,e);return s<0||Hg(t,n,i)<s}const yi=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let au=null;function Kg(i,e,t){let n=i.cursor(Nt.IncludeAnonymous);for(n.moveTo(e);;)if(!(t<0?n.childBefore(e):n.childAfter(e)))for(;;){if((t<0?n.to<e:n.from>e)&&!n.type.isError)return t<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(i.length,Math.max(n.from+1,e+25));if(t<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return t<0?0:i.length}}class ZP{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Kg(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Kg(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],s=this.index[t];if(s==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=n.children[s],o=this.start[t]+n.positions[s];if(o>e)return this.nextStart=o,null;if(r instanceof Et){if(o==e){if(o<this.safeFrom)return null;let a=o+r.length;if(a<=this.safeTo){let l=r.prop(_e.lookAhead);if(!l||a+l<this.fragment.to)return r}}this.index[t]++,o+r.length>=Math.max(this.safeFrom,e)&&(this.trees.push(r),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+r.length}}}class UP{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new Kl)}getActions(e){let t=0,n=null,{parser:s}=e.p,{tokenizers:r}=s,o=s.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let h=0;h<r.length;h++){if(!(1<<h&o))continue;let c=r[h],f=this.tokens[h];if(!(n&&!c.fallback)&&((c.contextual||f.start!=e.pos||f.mask!=o||f.context!=a)&&(this.updateCachedToken(f,c,e),f.mask=o,f.context=a),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let p=t;if(f.extended>-1&&(t=this.addActions(e,f.extended,f.end,t)),t=this.addActions(e,f.value,f.end,t),!c.extend&&(n=f,t>p))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!n&&e.pos==this.stream.end&&(n=new Kl,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Kl,{pos:n,p:s}=e;return t.start=n,t.end=Math.min(n+1,s.stream.end),t.value=n==s.stream.end?s.parser.eofTerm:0,t}updateCachedToken(e,t,n){let s=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(s,e),n),e.value>-1){let{parser:r}=n.p;for(let o=0;o<r.specialized.length;o++)if(r.specialized[o]==e.value){let a=r.specializers[o](this.stream.read(e.start,e.end),n);if(a>=0&&n.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,t,n,s){for(let r=0;r<s;r+=3)if(this.actions[r]==e)return s;return this.actions[s++]=e,this.actions[s++]=t,this.actions[s++]=n,s}addActions(e,t,n,s){let{state:r}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let h=o.stateSlot(r,l?2:1);;h+=3){if(a[h]==65535)if(a[h+1]==1)h=zn(a,h+2);else{s==0&&a[h+1]==2&&(s=this.putAction(zn(a,h+2),t,n,s));break}a[h]==t&&(s=this.putAction(zn(a,h+1),t,n,s))}return s}}class jP{constructor(e,t,n,s){this.parser=e,this.input=t,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new XP(t,s),this.tokens=new UP(e,this.stream),this.topTerm=e.top[1];let{from:r}=s[0];this.stacks=[vh.start(this,e.top[0],r)],this.fragments=n.length&&this.stream.end-r>e.bufferLength*4?new ZP(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,n=this.stacks=[],s,r;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)n.push(a);else{if(this.advanceStack(a,n,e))continue;{s||(s=[],r=[]),s.push(a);let l=this.tokens.getMainToken(a);r.push(l.value,l.end)}}break}}if(!n.length){let o=s&&YP(s);if(o)return yi&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw yi&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&s){let o=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,r,n);if(o)return yi&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(n.length>o)for(n.sort((a,l)=>l.score-a.score);n.length>o;)n.pop();n.some(a=>a.reducePos>t)&&this.recovering--}else if(n.length>1){e:for(let o=0;o<n.length-1;o++){let a=n[o];for(let l=o+1;l<n.length;l++){let h=n[l];if(a.sameState(h)||a.buffer.length>500&&h.buffer.length>500)if((a.score-h.score||a.buffer.length-h.buffer.length)>0)n.splice(l--,1);else{n.splice(o--,1);continue e}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let o=1;o<n.length;o++)n[o].pos<this.minStackPos&&(this.minStackPos=n[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let s=e.pos,{parser:r}=this,o=yi?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,c=h?e.curContext.hash:0;for(let f=this.fragments.nodeAt(s);f;){let p=this.parser.nodeSet.types[f.type.id]==f.type?r.getGoto(e.state,f.type.id):-1;if(p>-1&&f.length&&(!h||(f.prop(_e.contextHash)||0)==c))return e.useNode(f,p),yi&&console.log(o+this.stackID(e)+` (via reuse of ${r.getName(f.type.id)})`),!0;if(!(f instanceof Et)||f.children.length==0||f.positions[0]>0)break;let g=f.children[0];if(g instanceof Et&&f.positions[0]==0)f=g;else break}}let a=r.stateSlot(e.state,4);if(a>0)return e.reduce(a),yi&&console.log(o+this.stackID(e)+` (via always-reduce ${r.getName(a&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let h=0;h<l.length;){let c=l[h++],f=l[h++],p=l[h++],g=h==l.length||!n,y=g?e:e.split();if(y.apply(c,f,p),yi&&console.log(o+this.stackID(y)+` (via ${c&65536?`reduce of ${r.getName(c&65535)}`:"shift"} for ${r.getName(f)} @ ${s}${y==e?"":", split"})`),g)return!0;y.pos>s?t.push(y):n.push(y)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return Jg(e,t),!0}}runRecovery(e,t,n){let s=null,r=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],h=t[(o<<1)+1],c=yi?this.stackID(a)+" -> ":"";if(a.deadEnd&&(r||(r=!0,a.restart(),yi&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,n))))continue;let f=a.split(),p=c;for(let g=0;f.forceReduce()&&g<10&&(yi&&console.log(p+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,n));g++)yi&&(p=this.stackID(f)+" -> ");for(let g of a.recoverByInsert(l))yi&&console.log(c+this.stackID(g)+" (via recover-insert)"),this.advanceFully(g,n);this.stream.end>a.pos?(h==a.pos&&(h++,l=0),a.recoverByDelete(l,h),yi&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),Jg(a,n)):(!s||s.score<a.score)&&(s=a)}return s}stackToTree(e){return e.close(),Et.build({buffer:xh.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(au||(au=new WeakMap)).get(e);return t||au.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Jg(i,e){for(let t=0;t<e.length;t++){let n=e[t];if(n.pos==i.pos&&n.sameState(i)){e[t].score<i.score&&(e[t]=i);return}}e.push(i)}class FP{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}const lu=i=>i;class WP{constructor(e){this.start=e.start,this.shift=e.shift||lu,this.reduce=e.reduce||lu,this.reuse=e.reuse||lu,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Sh extends Ax{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let n=Object.keys(e.topRules).map(a=>e.topRules[a][1]),s=[];for(let a=0;a<t.length;a++)s.push([]);function r(a,l,h){s[a].push([l,l.deserialize(String(h))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=_e[l]);for(let h=1;h<a.length;){let c=a[h++];if(c>=0)r(c,l,a[h++]);else{let f=a[h+-c];for(let p=-c;p>0;p--)r(a[h++],l,f);h++}}}this.nodeSet=new Bd(t.map((a,l)=>mi.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:s[l],top:n.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=$x;let o=To(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(eO),this.states=To(e.states,Uint32Array),this.data=To(e.stateData),this.goto=To(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Rr(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let s=new jP(this,e,t,n);for(let r of this.wrappers)s=r(s,e,t,n);return s}getGoto(e,t,n=!1){let s=this.goto;if(t>=s[0])return-1;for(let r=s[t+1];;){let o=s[r++],a=o&1,l=s[r++];if(a&&n)return l;for(let h=r+(o>>1);r<h;r++)if(s[r]==e)return l;if(a)return-1}}hasAction(e,t){let n=this.data;for(let s=0;s<2;s++)for(let r=this.stateSlot(e,s?2:1),o;;r+=3){if((o=n[r])==65535)if(n[r+1]==1)o=n[r=zn(n,r+2)];else{if(n[r+1]==2)return zn(n,r+2);break}if(o==t||o==0)return zn(n,r+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,n=>n==t?!0:null)}allActions(e,t){let n=this.stateSlot(e,4),s=n?t(n):void 0;for(let r=this.stateSlot(e,1);s==null;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=zn(this.data,r+2);else break;s=t(zn(this.data,r+1))}return s}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=zn(this.data,n+2);else break;if(!(this.data[n+2]&1)){let s=this.data[n+1];t.some((r,o)=>o&1&&r==s)||t.push(this.data[n],s)}}return t}configure(e){let t=Object.assign(Object.create(Sh.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(n=>{let s=e.tokenizers.find(r=>r.from==n);return s?s.to:n})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,s)=>{let r=e.specializers.find(a=>a.from==n.external);if(!r)return n;let o=Object.assign(Object.assign({},n),{external:r.to});return t.specializers[s]=eO(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let r of e.split(" ")){let o=t.indexOf(r);o>=0&&(n[o]=!0)}let s=null;for(let r=0;r<t.length;r++)if(!n[r])for(let o=this.dialects[t[r]],a;(a=this.data[o++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[a]=1;return new FP(e,n,s)}static deserialize(e){return new Sh(e)}}function zn(i,e){return i[e]|i[e+1]<<16}function YP(i){let e=null;for(let t of i){let n=t.p.stoppedAt;(t.pos==t.p.stream.end||n!=null&&t.pos>n)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function eO(i){if(i.external){let e=i.extend?1:0;return(t,n)=>i.external(t,n)<<1|e}return i.get}let GP=0;class On{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=GP++}static define(e){if(e?.base)throw new Error("Can not derive from a modified tag");let t=new On([],null,[]);if(t.set.push(t),e)for(let n of e.set)t.set.push(n);return t}static defineModifier(){let e=new bh;return t=>t.modified.indexOf(e)>-1?t:bh.get(t.base||t,t.modified.concat(e).sort((n,s)=>n.id-s.id))}}let qP=0;class bh{constructor(){this.instances=[],this.id=qP++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(a=>a.base==e&&HP(t,a.modified));if(n)return n;let s=[],r=new On(s,e,t);for(let a of t)a.instances.push(r);let o=KP(t);for(let a of e.set)if(!a.modified.length)for(let l of o)s.push(bh.get(a,l));return r}}function HP(i,e){return i.length==e.length&&i.every((t,n)=>t==e[n])}function KP(i){let e=[[]];for(let t=0;t<i.length;t++)for(let n=0,s=e.length;n<s;n++)e.push(e[n].concat(i[t]));return e.sort((t,n)=>n.length-t.length)}function Mx(i){let e=Object.create(null);for(let t in i){let n=i[t];Array.isArray(n)||(n=[n]);for(let s of t.split(" "))if(s){let r=[],o=2,a=s;for(let f=0;;){if(a=="..."&&f>0&&f+3==s.length){o=1;break}let p=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!p)throw new RangeError("Invalid path: "+s);if(r.push(p[0]=="*"?"":p[0][0]=='"'?JSON.parse(p[0]):p[0]),f+=p[0].length,f==s.length)break;let g=s[f++];if(f==s.length&&g=="!"){o=0;break}if(g!="/")throw new RangeError("Invalid path: "+s);a=s.slice(f)}let l=r.length-1,h=r[l];if(!h)throw new RangeError("Invalid path: "+s);let c=new wh(n,o,l>0?r.slice(0,l):null);e[h]=c.sort(e[h])}}return _x.add(e)}const _x=new _e;class wh{constructor(e,t,n,s){this.tags=e,this.mode=t,this.context=n,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}wh.empty=new wh([],2,null);function Tx(i,e){let t=Object.create(null);for(let r of i)if(!Array.isArray(r.tag))t[r.tag.id]=r.class;else for(let o of r.tag)t[o.id]=r.class;let{scope:n,all:s=null}=e||{};return{style:r=>{let o=s;for(let a of r)for(let l of a.set){let h=t[l.id];if(h){o=o?o+" "+h:h;break}}return o},scope:n}}function JP(i,e){let t=null;for(let n of i){let s=n.style(e);s&&(t=t?t+" "+s:s)}return t}function eE(i,e,t,n=0,s=i.length){let r=new tE(n,Array.isArray(e)?e:[e],t);r.highlightRange(i.cursor(),n,s,"",r.highlighters),r.flush(s)}class tE{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,s,r){let{type:o,from:a,to:l}=e;if(a>=n||l<=t)return;o.isTop&&(r=this.highlighters.filter(g=>!g.scope||g.scope(o)));let h=s,c=iE(e)||wh.empty,f=JP(r,c.tags);if(f&&(h&&(h+=" "),h+=f,c.mode==1&&(s+=(s?" ":"")+f)),this.startSpan(Math.max(t,a),h),c.opaque)return;let p=e.tree&&e.tree.prop(_e.mounted);if(p&&p.overlay){let g=e.node.enter(p.overlay[0].from+a,1),y=this.highlighters.filter(w=>!w.scope||w.scope(p.tree.type)),v=e.firstChild();for(let w=0,k=a;;w++){let T=w<p.overlay.length?p.overlay[w]:null,$=T?T.from+a:l,E=Math.max(t,k),_=Math.min(n,$);if(E<_&&v)for(;e.from<_&&(this.highlightRange(e,E,_,s,r),this.startSpan(Math.min(_,e.to),h),!(e.to>=$||!e.nextSibling())););if(!T||$>n)break;k=T.to+a,k>t&&(this.highlightRange(g.cursor(),Math.max(t,T.from+a),Math.min(n,k),"",y),this.startSpan(Math.min(n,k),h))}v&&e.parent()}else if(e.firstChild()){p&&(s="");do if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,s,r),this.startSpan(Math.min(n,e.to),h)}while(e.nextSibling());e.parent()}}}function iE(i){let e=i.type.prop(_x);for(;e&&e.context&&!i.matchContext(e.context);)e=e.next;return e||null}const se=On.define,fl=se(),ss=se(),tO=se(ss),iO=se(ss),rs=se(),dl=se(rs),hu=se(rs),pn=se(),As=se(pn),hn=se(),cn=se(),Bf=se(),po=se(Bf),pl=se(),D={comment:fl,lineComment:se(fl),blockComment:se(fl),docComment:se(fl),name:ss,variableName:se(ss),typeName:tO,tagName:se(tO),propertyName:iO,attributeName:se(iO),className:se(ss),labelName:se(ss),namespace:se(ss),macroName:se(ss),literal:rs,string:dl,docString:se(dl),character:se(dl),attributeValue:se(dl),number:hu,integer:se(hu),float:se(hu),bool:se(rs),regexp:se(rs),escape:se(rs),color:se(rs),url:se(rs),keyword:hn,self:se(hn),null:se(hn),atom:se(hn),unit:se(hn),modifier:se(hn),operatorKeyword:se(hn),controlKeyword:se(hn),definitionKeyword:se(hn),moduleKeyword:se(hn),operator:cn,derefOperator:se(cn),arithmeticOperator:se(cn),logicOperator:se(cn),bitwiseOperator:se(cn),compareOperator:se(cn),updateOperator:se(cn),definitionOperator:se(cn),typeOperator:se(cn),controlOperator:se(cn),punctuation:Bf,separator:se(Bf),bracket:po,angleBracket:se(po),squareBracket:se(po),paren:se(po),brace:se(po),content:pn,heading:As,heading1:se(As),heading2:se(As),heading3:se(As),heading4:se(As),heading5:se(As),heading6:se(As),contentSeparator:se(pn),list:se(pn),quote:se(pn),emphasis:se(pn),strong:se(pn),link:se(pn),monospace:se(pn),strikethrough:se(pn),inserted:se(),deleted:se(),changed:se(),invalid:se(),meta:pl,documentMeta:se(pl),annotation:se(pl),processingInstruction:se(pl),definition:On.defineModifier(),constant:On.defineModifier(),function:On.defineModifier(),standard:On.defineModifier(),local:On.defineModifier(),special:On.defineModifier()};Tx([{tag:D.link,class:"tok-link"},{tag:D.heading,class:"tok-heading"},{tag:D.emphasis,class:"tok-emphasis"},{tag:D.strong,class:"tok-strong"},{tag:D.keyword,class:"tok-keyword"},{tag:D.atom,class:"tok-atom"},{tag:D.bool,class:"tok-bool"},{tag:D.url,class:"tok-url"},{tag:D.labelName,class:"tok-labelName"},{tag:D.inserted,class:"tok-inserted"},{tag:D.deleted,class:"tok-deleted"},{tag:D.literal,class:"tok-literal"},{tag:D.string,class:"tok-string"},{tag:D.number,class:"tok-number"},{tag:[D.regexp,D.escape,D.special(D.string)],class:"tok-string2"},{tag:D.variableName,class:"tok-variableName"},{tag:D.local(D.variableName),class:"tok-variableName tok-local"},{tag:D.definition(D.variableName),class:"tok-variableName tok-definition"},{tag:D.special(D.variableName),class:"tok-variableName2"},{tag:D.definition(D.propertyName),class:"tok-propertyName tok-definition"},{tag:D.typeName,class:"tok-typeName"},{tag:D.namespace,class:"tok-namespace"},{tag:D.className,class:"tok-className"},{tag:D.macroName,class:"tok-macroName"},{tag:D.propertyName,class:"tok-propertyName"},{tag:D.operator,class:"tok-operator"},{tag:D.comment,class:"tok-comment"},{tag:D.meta,class:"tok-meta"},{tag:D.invalid,class:"tok-invalid"},{tag:D.punctuation,class:"tok-punctuation"}]);const nE=303,nO=1,sE=2,rE=304,oE=306,aE=307,lE=3,hE=4,cE=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Qx=125,uE=59,sO=47,fE=42,dE=43,pE=45,mE=new WP({start:!1,shift(i,e){return e==lE||e==hE||e==oE?i:e==aE},strict:!1}),gE=new Ud((i,e)=>{let{next:t}=i;(t==Qx||t==-1||e.context)&&i.acceptToken(rE)},{contextual:!0,fallback:!0}),OE=new Ud((i,e)=>{let{next:t}=i,n;cE.indexOf(t)>-1||t==sO&&((n=i.peek(1))==sO||n==fE)||t!=Qx&&t!=uE&&t!=-1&&!e.context&&i.acceptToken(nE)},{contextual:!0}),yE=new Ud((i,e)=>{let{next:t}=i;if((t==dE||t==pE)&&(i.advance(),t==i.next)){i.advance();let n=!e.context&&e.canShift(nO);i.acceptToken(n?nO:sE)}},{contextual:!0}),vE=Mx({"get set async static":D.modifier,"for while do if else switch try catch finally return throw break continue default case":D.controlKeyword,"in of await yield void typeof delete instanceof":D.operatorKeyword,"let var const function class extends":D.definitionKeyword,"import export from":D.moduleKeyword,"with debugger as new":D.keyword,TemplateString:D.special(D.string),super:D.atom,BooleanLiteral:D.bool,this:D.self,null:D.null,Star:D.modifier,VariableName:D.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":D.function(D.variableName),VariableDefinition:D.definition(D.variableName),Label:D.labelName,PropertyName:D.propertyName,PrivatePropertyName:D.special(D.propertyName),"CallExpression/MemberExpression/PropertyName":D.function(D.propertyName),"FunctionDeclaration/VariableDefinition":D.function(D.definition(D.variableName)),"ClassDeclaration/VariableDefinition":D.definition(D.className),PropertyDefinition:D.definition(D.propertyName),PrivatePropertyDefinition:D.definition(D.special(D.propertyName)),UpdateOp:D.updateOperator,LineComment:D.lineComment,BlockComment:D.blockComment,Number:D.number,String:D.string,Escape:D.escape,ArithOp:D.arithmeticOperator,LogicOp:D.logicOperator,BitOp:D.bitwiseOperator,CompareOp:D.compareOperator,RegExp:D.regexp,Equals:D.definitionOperator,Arrow:D.function(D.punctuation),": Spread":D.punctuation,"( )":D.paren,"[ ]":D.squareBracket,"{ }":D.brace,"InterpolationStart InterpolationEnd":D.special(D.brace),".":D.derefOperator,", ;":D.separator,"@":D.meta,TypeName:D.typeName,TypeDefinition:D.definition(D.typeName),"type enum interface implements namespace module declare":D.definitionKeyword,"abstract global Privacy readonly override":D.modifier,"is keyof unique infer":D.operatorKeyword,JSXAttributeValue:D.attributeValue,JSXText:D.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":D.angleBracket,"JSXIdentifier JSXNameSpacedName":D.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":D.attributeName,"JSXBuiltin/JSXIdentifier":D.standard(D.tagName)}),xE={__proto__:null,export:14,as:19,from:27,default:30,async:35,function:36,extends:46,this:50,true:58,false:58,null:70,void:74,typeof:78,super:96,new:130,delete:146,yield:155,await:159,class:164,public:221,private:221,protected:221,readonly:223,instanceof:242,satisfies:245,in:246,const:248,import:280,keyof:335,unique:339,infer:345,is:381,abstract:401,implements:403,type:405,let:408,var:410,using:413,interface:419,enum:423,namespace:429,module:431,declare:435,global:439,for:458,of:467,while:470,with:474,do:478,if:482,else:484,switch:488,case:494,try:500,catch:504,finally:508,return:512,throw:516,break:520,continue:524,debugger:528},SE={__proto__:null,async:117,get:119,set:121,declare:181,public:183,private:183,protected:183,static:185,abstract:187,override:189,readonly:195,accessor:197,new:385},bE={__proto__:null,"<":137},wE=Sh.deserialize({version:14,states:"$6tO`QUOOO%TQUOOO'WQWOOP(eOSOOO*sQ(CjO'#CfO*zOpO'#CgO+YO!bO'#CgO+hO07`O'#DZO-yQUO'#DaO.ZQUO'#DlO%TQUO'#DvO0_QUO'#EOOOQ(CY'#EW'#EWO0xQSO'#ETOOQO'#Ei'#EiOOQO'#Ic'#IcO1QQSO'#GkO1]QSO'#EhO1bQSO'#EhO3dQ(CjO'#JdO6TQ(CjO'#JeO6qQSO'#FWO6vQ#tO'#FoOOQ(CY'#F`'#F`O7RO&jO'#F`O7aQ,UO'#FvO8wQSO'#FuOOQ(CY'#Je'#JeOOQ(CW'#Jd'#JdO8|QSO'#GoOOQQ'#KP'#KPO9XQSO'#IPO9^Q(C[O'#IQOOQQ'#JQ'#JQOOQQ'#IU'#IUQ`QUOOO%TQUO'#DnO9fQUO'#DzO9mQUO'#D|O9SQSO'#GkO9tQ,UO'#ClO:SQSO'#EgO:_QSO'#ErO:dQ,UO'#F_O;RQSO'#GkOOQO'#KQ'#KQO;WQSO'#KQO;fQSO'#GsO;fQSO'#GtO;fQSO'#GvO9SQSO'#GyO<]QSO'#G|O=tQSO'#CbO>UQSO'#HYO>^QSO'#H`O>^QSO'#HbO`QUO'#HdO>^QSO'#HfO>^QSO'#HiO>cQSO'#HoO>hQ(C]O'#HuO%TQUO'#HwO>sQ(C]O'#HyO?OQ(C]O'#H{O9^Q(C[O'#H}O?ZQ(CjO'#CfO@]QWO'#DfQOQSOOO%TQUO'#D|O@sQSO'#EPO9tQ,UO'#EgOAOQSO'#EgOAZQ`O'#F_OOQQ'#Cd'#CdOOQ(CW'#Dk'#DkOOQ(CW'#Jh'#JhO%TQUO'#JhOOQO'#Jl'#JlOOQO'#I`'#I`OBZQWO'#E`OOQ(CW'#E_'#E_OCVQ(C`O'#E`OCaQWO'#ESOOQO'#Jk'#JkOCuQWO'#JlOESQWO'#ESOCaQWO'#E`PEaO?MpO'#C`POOO)CDo)CDoOOOO'#IV'#IVOElOpO,59ROOQ(CY,59R,59ROOOO'#IW'#IWOEzO!bO,59RO%TQUO'#D]OOOO'#IY'#IYOFYO07`O,59uOOQ(CY,59u,59uOFhQUO'#IZOF{QSO'#JfOH}QbO'#JfO+vQUO'#JfOIUQSO,59{OIlQSO'#EiOIyQSO'#JtOJUQSO'#JsOJUQSO'#JsOJ^QSO,5;VOJcQSO'#JrOOQ(CY,5:W,5:WOJjQUO,5:WOLkQ(CjO,5:bOM[QSO,5:jOMuQ(C[O'#JqOM|QSO'#JpO8|QSO'#JpONbQSO'#JpONjQSO,5;UONoQSO'#JpO!!wQbO'#JeOOQ(CY'#Cf'#CfO%TQUO'#EOO!#gQ`O,5:oOOQO'#Jm'#JmOOQO-E<a-E<aO9SQSO,5=VO!#}QSO,5=VO!$SQUO,5;SO!&VQ,UO'#EdO!'jQSO,5;SO!)SQ,UO'#DpO!)ZQUO'#DuO!)eQWO,5;]O!)mQWO,5;]O%TQUO,5;]OOQQ'#FO'#FOOOQQ'#FQ'#FQO%TQUO,5;^O%TQUO,5;^O%TQUO,5;^O%TQUO,5;^O%TQUO,5;^O%TQUO,5;^O%TQUO,5;^O%TQUO,5;^O%TQUO,5;^O%TQUO,5;^O%TQUO,5;^OOQQ'#FU'#FUO!){QUO,5;oOOQ(CY,5;t,5;tOOQ(CY,5;u,5;uO!,OQSO,5;uOOQ(CY,5;v,5;vO%TQUO'#IgO!,WQ(C[O,5<cO!&VQ,UO,5;^O!,uQ,UO,5;^O%TQUO,5;rO!,|Q#tO'#FeO!-yQ#tO'#JxO!-eQ#tO'#JxO!.QQ#tO'#JxOOQO'#Jx'#JxO!.fQ#tO,5;}OOOO,5<Z,5<ZO!.wQUO'#FqOOOO'#If'#IfO7RO&jO,5;zO!/OQ#tO'#FsOOQ(CY,5;z,5;zO!/oQ7[O'#CrOOQ(CY'#Cv'#CvO!0SQSO'#CvO!0XO07`O'#CzO!0uQ,UO,5<`O!0|QSO,5<bO!2cQMhO'#GQO!2pQSO'#GRO!2uQSO'#GRO!2zQMhO'#GVO!3yQWO'#GZO!4lQ7[O'#J_OOQ(CY'#J_'#J_O!4vQSO'#J^O!5UQSO'#J]O!5^QSO'#CqOOQ(CY'#Ct'#CtOOQ(CY'#DO'#DOOOQ(CY'#DQ'#DQO0{QSO'#DSO!'oQ,UO'#FxO!'oQ,UO'#FzO!5fQSO'#F|O!5kQSO'#F}O!2uQSO'#GTO!'oQ,UO'#GYO!5pQSO'#EjO!6_QSO,5<aOOQ(CW'#Co'#CoO!6gQSO'#EkO!7aQWO'#ElOOQ(CW'#Jr'#JrO!7hQ(C[O'#KRO9^Q(C[O,5=ZO`QUO,5>kOOQQ'#JY'#JYOOQQ,5>l,5>lOOQQ-E<S-E<SO!9jQ(CjO,5:YO!<WQ(CjO,5:fO%TQUO,5:fO!>qQ(CjO,5:hOOQO,5@l,5@lO!?bQ,UO,5=VO!?pQ(C[O'#JZO8wQSO'#JZO!@RQ(C[O,59WO!@^QWO,59WO!@fQ,UO,59WO9tQ,UO,59WO!@qQSO,5;SO!@yQSO'#HXO!A[QSO'#KUO%TQUO,5;wO!7[QWO,5;yO!AdQSO,5=rO!AiQSO,5=rO!AnQSO,5=rO9^Q(C[O,5=rO;fQSO,5=bOOQO'#Cr'#CrO!A|QWO,5=_O!BUQ,UO,5=`O!BaQSO,5=bO!BfQ`O,5=eO!BnQSO'#KQO>cQSO'#HOO9SQSO'#HQO!BsQSO'#HQO9tQ,UO'#HSO!BxQSO'#HSOOQQ,5=h,5=hO!B}QSO'#HTO!CVQSO'#ClO!C[QSO,58|O!CfQSO,58|O!EkQUO,58|OOQQ,58|,58|O!E{Q(C[O,58|O%TQUO,58|O!HWQUO'#H[OOQQ'#H]'#H]OOQQ'#H^'#H^O`QUO,5=tO!HnQSO,5=tO`QUO,5=zO`QUO,5=|O!HsQSO,5>OO`QUO,5>QO!HxQSO,5>TO!H}QUO,5>ZOOQQ,5>a,5>aO%TQUO,5>aO9^Q(C[O,5>cOOQQ,5>e,5>eO!MXQSO,5>eOOQQ,5>g,5>gO!MXQSO,5>gOOQQ,5>i,5>iO!M^QWO'#DXO%TQUO'#JhO!M{QWO'#JhO!NjQWO'#DgO!N{QWO'#DgO##^QUO'#DgO##eQSO'#JgO##mQSO,5:QO##rQSO'#EmO#$QQSO'#JuO#$YQSO,5;WO#$_QWO'#DgO#$lQWO'#EROOQ(CY,5:k,5:kO%TQUO,5:kO#$sQSO,5:kO>cQSO,5;RO!@^QWO,5;RO!@fQ,UO,5;RO9tQ,UO,5;RO#${QSO,5@SO#%QQ!LQO,5:oOOQO-E<^-E<^O#&WQ(C`O,5:zOCaQWO,5:nO#&bQWO,5:nOCaQWO,5:zO!@RQ(C[O,5:nOOQ(CW'#Ec'#EcOOQO,5:z,5:zO%TQUO,5:zO#&oQ(C[O,5:zO#&zQ(C[O,5:zO!@^QWO,5:nOOQO,5;Q,5;QO#'YQ(C[O,5:zPOOO'#IT'#ITP#'nO?MpO,58zPOOO,58z,58zOOOO-E<T-E<TOOQ(CY1G.m1G.mOOOO-E<U-E<UO#'yQ`O,59wOOOO-E<W-E<WOOQ(CY1G/a1G/aO#(OQbO,5>uO+vQUO,5>uOOQO,5>{,5>{O#(YQUO'#IZOOQO-E<X-E<XO#(gQSO,5@QO#(oQbO,5@QO#(vQSO,5@_OOQ(CY1G/g1G/gO%TQUO,5@`O#)OQSO'#IaOOQO-E<_-E<_O#(vQSO,5@_OOQ(CW1G0q1G0qOOQ(CY1G/r1G/rOOQ(CY1G0U1G0UO%TQUO,5@]O#)dQ(C[O,5@]O#)uQ(C[O,5@]O#)|QSO,5@[O8|QSO,5@[O#*UQSO,5@[O#*dQSO'#IdO#)|QSO,5@[OOQ(CW1G0p1G0pO!)eQWO,5:qO!)pQWO,5:qOOQO,5:s,5:sO#+UQSO,5:sO#+^Q,UO1G2qO9SQSO1G2qOOQ(CY1G0n1G0nO#+lQ(CjO1G0nO#,qQ(ChO,5;OOOQ(CY'#GP'#GPO#-_Q(CjO'#J_O!$SQUO1G0nO#/gQ,UO'#JiO#/qQSO,5:[O#/vQbO'#JjO%TQUO'#JjO#0QQSO,5:aOOQ(CY'#DX'#DXOOQ(CY1G0w1G0wO%TQUO1G0wOOQ(CY1G1a1G1aO#0VQSO1G0wO#2nQ(CjO1G0xO#2uQ(CjO1G0xO#5`Q(CjO1G0xO#5gQ(CjO1G0xO#7qQ(CjO1G0xO#8XQ(CjO1G0xO#;RQ(CjO1G0xO#;YQ(CjO1G0xO#=sQ(CjO1G0xO#=zQ(CjO1G0xO#?rQ(CjO1G0xO#BrQ$IUO'#CfO#DpQ$IUO1G1ZO#DwQ$IUO'#JeO!,RQSO1G1aO#EXQ(CjO,5?ROOQ(CW-E<e-E<eO#E{Q(CjO1G0xOOQ(CY1G0x1G0xO#HWQ(CjO1G1^O#HzQ#tO,5<RO#ISQ#tO,5<SO#I[Q#tO'#FjO#IsQSO'#FiOOQO'#Jy'#JyOOQO'#Ie'#IeO#IxQ#tO1G1iOOQ(CY1G1i1G1iOOOO1G1t1G1tO#JZQ$IUO'#JdO#JeQSO,5<]O!){QUO,5<]OOOO-E<d-E<dOOQ(CY1G1f1G1fO#JjQWO'#JxOOQ(CY,5<_,5<_O#JrQWO,5<_OOQ(CY,59b,59bO!&VQ,UO'#C|OOOO'#IX'#IXO#JwO07`O,59fOOQ(CY,59f,59fO%TQUO1G1zO!5kQSO'#IiO#KSQ,UO,5<sOOQ(CY,5<p,5<pOOQO'#Gf'#GfO!'oQ,UO,5=POOQO'#Gh'#GhO!'oQ,UO,5=RO!&VQ,UO,5=TOOQO1G1|1G1|O#KZQ`O'#CoO#KnQ`O,5<lO#KuQSO'#J|O9SQSO'#J|O#LTQSO,5<nO!'oQ,UO,5<mO#LYQSO'#GSO#LeQSO,5<mO#LjQ`O'#GPO#LwQ`O'#J}O#MRQSO'#J}O!&VQ,UO'#J}O#MWQSO,5<qO#M]QWO'#G[O!3tQWO'#G[O#MnQSO'#G^O#MsQSO'#G`O!2uQSO'#GcO#MxQ(C[O'#IkO#NTQWO,5<uOOQ(CY,5<u,5<uO#N[QWO'#G[O#NjQWO'#G]O#NrQWO'#G]OOQ(CY,5=U,5=UO!'oQ,UO,5?xO!'oQ,UO,5?xO#NwQSO'#IlO$ SQSO,5?wO$ [QSO,59]O$ {Q,UO,59nOOQ(CY,59n,59nO$!nQ,UO,5<dO$#aQ,UO,5<fO@TQSO,5<hOOQ(CY,5<i,5<iO$#kQSO,5<oO$#pQ,UO,5<tO$$QQSO'#JpO!$SQUO1G1{O$$VQSO1G1{O8|QSO'#JsO8|QSO'#EmO%TQUO'#EmO8|QSO'#InO$$[Q(C[O,5@mOOQQ1G2u1G2uOOQQ1G4V1G4VOOQ(CY1G/t1G/tO!,OQSO1G/tO$&aQ(CjO1G0QOOQQ1G2q1G2qO!&VQ,UO1G2qO%TQUO1G2qO$'QQSO1G2qO$']Q,UO'#EdOOQ(CW,5?u,5?uO$'gQ(C[O,5?uOOQQ1G.r1G.rO!@RQ(C[O1G.rO!@^QWO1G.rO!@fQ,UO1G.rO$'xQSO1G0nO$'}QSO'#CfO$(YQSO'#KVO$(bQSO,5=sO$(gQSO'#KVO$(lQSO'#KVO$(wQSO'#ItO$)VQSO,5@pO$)_QbO1G1cOOQ(CY1G1e1G1eO9SQSO1G3^O@TQSO1G3^O$)fQSO1G3^O$)kQSO1G3^OOQQ1G3^1G3^O!BaQSO1G2|O!&VQ,UO1G2yO$)pQSO1G2yOOQQ1G2z1G2zO!&VQ,UO1G2zO$)uQSO1G2zO$)}QWO'#GxOOQQ1G2|1G2|O!3tQWO'#IpO!BfQ`O1G3POOQQ1G3P1G3POOQQ,5=j,5=jO$*VQ,UO,5=lO9SQSO,5=lO#MsQSO,5=nO8wQSO,5=nO!@^QWO,5=nO!@fQ,UO,5=nO9tQ,UO,5=nO$*eQSO'#KTO$*pQSO,5=oOOQQ1G.h1G.hO$*uQ(C[O1G.hO@TQSO1G.hO$+QQSO1G.hO9^Q(C[O1G.hO$-VQbO,5@rO$-gQSO,5@rO8|QSO,5@rO$-rQUO,5=vO$-yQSO,5=vOOQQ1G3`1G3`O`QUO1G3`OOQQ1G3f1G3fOOQQ1G3h1G3hO>^QSO1G3jO$.OQUO1G3lO$2SQUO'#HkOOQQ1G3o1G3oO$2aQSO'#HqO>cQSO'#HsOOQQ1G3u1G3uO$2iQUO1G3uO9^Q(C[O1G3{OOQQ1G3}1G3}OOQ(CW'#GW'#GWO9^Q(C[O1G4PO9^Q(C[O1G4RO$6pQSO,5@SO!){QUO,5;XO8|QSO,5;XO>cQSO,5:RO!){QUO,5:RO!@^QWO,5:RO$6uQ$IUO,5:ROOQO,5;X,5;XO$7PQWO'#I[O$7gQSO,5@ROOQ(CY1G/l1G/lO$7oQWO'#IbO$7yQSO,5@aOOQ(CW1G0r1G0rO!N{QWO,5:ROOQO'#I_'#I_O$8RQWO,5:mOOQ(CY,5:m,5:mO#$vQSO1G0VOOQ(CY1G0V1G0VO%TQUO1G0VOOQ(CY1G0m1G0mO>cQSO1G0mO!@^QWO1G0mO!@fQ,UO1G0mOOQ(CW1G5n1G5nO!@RQ(C[O1G0YOOQO1G0f1G0fO%TQUO1G0fO$8YQ(C[O1G0fO$8eQ(C[O1G0fO!@^QWO1G0YOCaQWO1G0YO$8sQ(C[O1G0fOOQO1G0Y1G0YO$9XQ(CjO1G0fPOOO-E<R-E<RPOOO1G.f1G.fOOOO1G/c1G/cO$9cQ`O,5<cO$9kQbO1G4aOOQO1G4g1G4gO%TQUO,5>uO$9uQSO1G5lO$9}QSO1G5yO$:VQbO1G5zO8|QSO,5>{O$:aQ(CjO1G5wO%TQUO1G5wO$:qQ(C[O1G5wO$;SQSO1G5vO$;SQSO1G5vO8|QSO1G5vO$;[QSO,5?OO8|QSO,5?OOOQO,5?O,5?OO$;pQSO,5?OO$$QQSO,5?OOOQO-E<b-E<bOOQO1G0]1G0]OOQO1G0_1G0_O!,RQSO1G0_OOQQ7+(]7+(]O!&VQ,UO7+(]O%TQUO7+(]O$<OQSO7+(]O$<ZQ,UO7+(]O$<iQ(CjO,59nO$>qQ(CjO,5<dO$@|Q(CjO,5<fO$CXQ(CjO,5<tOOQ(CY7+&Y7+&YO$EjQ(CjO7+&YO$F^Q,UO'#I]O$FhQSO,5@TOOQ(CY1G/v1G/vO$FpQUO'#I^O$F}QSO,5@UO$GVQbO,5@UOOQ(CY1G/{1G/{O$GaQSO7+&cOOQ(CY7+&c7+&cO$GfQ$IUO,5:bO%TQUO7+&uO$GpQ$IUO,5:YO$G}Q$IUO,5:fO$HXQ$IUO,5:hOOQ(CY7+&{7+&{OOQO1G1m1G1mOOQO1G1n1G1nO$HcQ#tO,5<UO!){QUO,5<TOOQO-E<c-E<cOOQ(CY7+'T7+'TOOOO7+'`7+'`OOOO1G1w1G1wO$HnQSO1G1wOOQ(CY1G1y1G1yO$HsQ`O,59hOOOO-E<V-E<VOOQ(CY1G/Q1G/QO$HzQ(CjO7+'fOOQ(CY,5?T,5?TO$InQ`O,5?TOOQ(CY1G2_1G2_P!&VQ,UO'#IiPOQ(CY-E<g-E<gO$J^Q,UO1G2kO$KPQ,UO1G2mO$KZQ`O1G2oOOQ(CY1G2W1G2WO$KbQSO'#IhO$KpQSO,5@hO$KpQSO,5@hO$KxQSO,5@hO$LTQSO,5@hOOQO1G2Y1G2YO$LcQ,UO1G2XO!'oQ,UO1G2XO$LsQMhO'#IjO$MTQSO,5@iO!&VQ,UO,5@iO$M]Q`O,5@iOOQ(CY1G2]1G2]OOQ(CW,5<v,5<vOOQ(CW,5<w,5<wO$$QQSO,5<wOCQQSO,5<wO!@^QWO,5<vOOQO'#G_'#G_O$MgQSO,5<xOOQ(CW,5<z,5<zO$$QQSO,5<}OOQO,5?V,5?VOOQO-E<i-E<iOOQ(CY1G2a1G2aO!3tQWO,5<vO$MoQSO,5<wO#MnQSO,5<xO!3tQWO,5<wO$MzQ,UO1G5dO$NUQ,UO1G5dOOQO,5?W,5?WOOQO-E<j-E<jOOQO1G.w1G.wO!7[QWO,59pO%TQUO,59pO$NcQSO1G2SO!'oQ,UO1G2ZO$NhQ(CjO7+'gOOQ(CY7+'g7+'gO!$SQUO7+'gO% [QSO,5;XOOQ(CW,5?Y,5?YOOQ(CW-E<l-E<lOOQ(CY7+%`7+%`O% aQ`O'#KOO#$vQSO7+(]O% kQbO7+(]O$<RQSO7+(]O% rQ(ChO'#CfO%!VQ(ChO,5<{O%!wQSO,5<{OOQ(CW1G5a1G5aOOQQ7+$^7+$^O!@RQ(C[O7+$^O!@^QWO7+$^O!$SQUO7+&YO%!|QSO'#IsO%#bQSO,5@qOOQO1G3_1G3_O9SQSO,5@qO%#bQSO,5@qO%#jQSO,5@qOOQO,5?`,5?`OOQO-E<r-E<rOOQ(CY7+&}7+&}O%#oQSO7+(xO9^Q(C[O7+(xO9SQSO7+(xO@TQSO7+(xOOQQ7+(h7+(hO%#tQ(ChO7+(eO!&VQ,UO7+(eO%$OQ`O7+(fOOQQ7+(f7+(fO!&VQ,UO7+(fO%$VQSO'#KSO%$bQSO,5=dOOQO,5?[,5?[OOQO-E<n-E<nOOQQ7+(k7+(kO%%qQWO'#HROOQQ1G3W1G3WO!&VQ,UO1G3WO%TQUO1G3WO%%xQSO1G3WO%&TQ,UO1G3WO9^Q(C[O1G3YO#MsQSO1G3YO8wQSO1G3YO!@^QWO1G3YO!@fQ,UO1G3YO%&cQSO'#IrO%&nQSO,5@oO%&vQWO,5@oOOQ(CW1G3Z1G3ZOOQQ7+$S7+$SO@TQSO7+$SO9^Q(C[O7+$SO%'RQSO7+$SO%TQUO1G6^O%TQUO1G6_O%'WQ(C[O1G6^O%'bQUO1G3bO%'iQSO1G3bO%'nQUO1G3bOOQQ7+(z7+(zO9^Q(C[O7+)UO`QUO7+)WOOQQ'#KY'#KYOOQQ'#Iu'#IuO%'uQUO,5>VOOQQ,5>V,5>VO%TQUO'#HlO%(SQSO'#HnOOQQ,5>],5>]O8|QSO,5>]OOQQ,5>_,5>_OOQQ7+)a7+)aOOQQ7+)g7+)gOOQQ7+)k7+)kOOQQ7+)m7+)mO%(XQWO1G5nO%(mQ$IUO1G0sO%(wQSO1G0sOOQO1G/m1G/mO%)SQ$IUO1G/mO>cQSO1G/mO!){QUO'#DgOOQO,5>v,5>vOOQO-E<Y-E<YOOQO,5>|,5>|OOQO-E<`-E<`O!@^QWO1G/mOOQO-E<]-E<]OOQ(CY1G0X1G0XOOQ(CY7+%q7+%qO#$vQSO7+%qOOQ(CY7+&X7+&XO>cQSO7+&XO!@^QWO7+&XOOQO7+%t7+%tO$9XQ(CjO7+&QOOQO7+&Q7+&QO%TQUO7+&QO%)^Q(C[O7+&QO!@RQ(C[O7+%tO!@^QWO7+%tO%)iQ(C[O7+&QO%)wQ(CjO7++cO%TQUO7++cO%*XQSO7++bO%*XQSO7++bOOQO1G4j1G4jO8|QSO1G4jO%*aQSO1G4jOOQO7+%y7+%yO#$vQSO<<KwO% kQbO<<KwO%*oQSO<<KwOOQQ<<Kw<<KwO!&VQ,UO<<KwO%TQUO<<KwO%*wQSO<<KwO%+SQ(CjO1G2kO%-_Q(CjO1G2mO%/jQ(CjO1G2XO%1{Q,UO,5>wOOQO-E<Z-E<ZO%2VQbO,5>xO%TQUO,5>xOOQO-E<[-E<[O%2aQSO1G5pOOQ(CY<<I}<<I}O%2iQ$IUO1G0nO%4sQ$IUO1G0xO%4zQ$IUO1G0xO%7OQ$IUO1G0xO%7VQ$IUO1G0xO%8zQ$IUO1G0xO%9bQ$IUO1G0xO%;uQ$IUO1G0xO%;|Q$IUO1G0xO%>QQ$IUO1G0xO%>XQ$IUO1G0xO%@PQ$IUO1G0xO%@dQ(CjO<<JaO%AiQ$IUO1G0xO%C_Q$IUO'#J_O%EbQ$IUO1G1^O%EoQ$IUO1G0QO!){QUO'#FlOOQO'#Jz'#JzOOQO1G1p1G1pO%EyQSO1G1oO%FOQ$IUO,5?ROOOO7+'c7+'cOOOO1G/S1G/SOOQ(CY1G4o1G4oO!'oQ,UO7+(ZO%FYQSO,5?SO9SQSO,5?SOOQO-E<f-E<fO%FhQSO1G6SO%FhQSO1G6SO%FpQSO1G6SO%F{Q,UO7+'sO%G]Q`O,5?UO%GgQSO,5?UO!&VQ,UO,5?UOOQO-E<h-E<hO%GlQ`O1G6TO%GvQSO1G6TOOQ(CW1G2c1G2cO$$QQSO1G2cOOQ(CW1G2b1G2bO%HOQSO1G2dO!&VQ,UO1G2dOOQ(CW1G2i1G2iO!@^QWO1G2bOCQQSO1G2cO%HTQSO1G2dO%H]QSO1G2cO!'oQ,UO7++OOOQ(CY1G/[1G/[O%HhQSO1G/[OOQ(CY7+'n7+'nO%HmQ,UO7+'uO%H}Q(CjO<<KROOQ(CY<<KR<<KRO%IqQSO1G0sO!&VQ,UO'#ImO%IvQSO,5@jO!&VQ,UO1G2gOOQQ<<Gx<<GxO!@RQ(C[O<<GxO%JOQ(CjO<<ItOOQ(CY<<It<<ItOOQO,5?_,5?_O%JrQSO,5?_O$(lQSO,5?_OOQO-E<q-E<qO%JwQSO1G6]O%JwQSO1G6]O9SQSO1G6]O@TQSO<<LdOOQQ<<Ld<<LdO%KPQSO<<LdO9^Q(C[O<<LdOOQQ<<LP<<LPO%#tQ(ChO<<LPOOQQ<<LQ<<LQO%$OQ`O<<LQO%KUQWO'#IoO%KaQSO,5@nO!){QUO,5@nOOQQ1G3O1G3OO%KiQUO'#JhOOQO'#Iq'#IqO9^Q(C[O'#IqO%KsQWO,5=mOOQQ,5=m,5=mO%KzQWO'#E`O%L`QSO7+(rO%LeQSO7+(rOOQQ7+(r7+(rO!&VQ,UO7+(rO%TQUO7+(rO%LmQSO7+(rOOQQ7+(t7+(tO9^Q(C[O7+(tO#MsQSO7+(tO8wQSO7+(tO!@^QWO7+(tO%LxQSO,5?^OOQO-E<p-E<pOOQO'#HU'#HUO%MTQSO1G6ZO9^Q(C[O<<GnOOQQ<<Gn<<GnO@TQSO<<GnO%M]QSO7++xO%MbQSO7++yO%TQUO7++xO%TQUO7++yOOQQ7+(|7+(|O%MgQSO7+(|O%MlQUO7+(|O%MsQSO7+(|OOQQ<<Lp<<LpOOQQ<<Lr<<LrOOQQ-E<s-E<sOOQQ1G3q1G3qO%MxQSO,5>WOOQQ,5>Y,5>YO%M}QSO1G3wO8|QSO7+&_O!){QUO7+&_OOQO7+%X7+%XO%NSQ$IUO1G5zO>cQSO7+%XOOQ(CY<<I]<<I]OOQ(CY<<Is<<IsO>cQSO<<IsOOQO<<Il<<IlO$9XQ(CjO<<IlO%TQUO<<IlOOQO<<I`<<I`O!@RQ(C[O<<I`O%N^Q(C[O<<IlO%NiQ(CjO<<N}O%NyQSO<<N|OOQO7+*U7+*UO8|QSO7+*UOOQQANAcANAcO& RQSOANAcO!&VQ,UOANAcO#$vQSOANAcO% kQbOANAcO%TQUOANAcO& ZQ(CjO7+'sO&#lQ(CjO7+'uO&%}QbO1G4dO&&XQ$IUO7+&YO&&fQ$IUO,59nO&(iQ$IUO,5<dO&*lQ$IUO,5<fO&,oQ$IUO,5<tO&.eQ$IUO7+'fO&.rQ$IUO7+'gO&/PQSO,5<WOOQO7+'Z7+'ZO&/UQ,UO<<KuOOQO1G4n1G4nO&/]QSO1G4nO&/hQSO1G4nO&/vQSO7++nO&/vQSO7++nO!&VQ,UO1G4pO&0OQ`O1G4pO&0YQSO7++oOOQ(CW7+'}7+'}O$$QQSO7+(OO&0bQ`O7+(OOOQ(CW7+'|7+'|O$$QQSO7+'}O&0iQSO7+(OO!&VQ,UO7+(OOCQQSO7+'}O&0nQ,UO<<NjOOQ(CY7+$v7+$vO&0xQ`O,5?XOOQO-E<k-E<kO&1SQ(ChO7+(ROOQQAN=dAN=dO9SQSO1G4yOOQO1G4y1G4yO&1dQSO1G4yO&1iQSO7++wO&1iQSO7++wO9^Q(C[OANBOO@TQSOANBOOOQQANBOANBOOOQQANAkANAkOOQQANAlANAlO&1qQSO,5?ZOOQO-E<m-E<mO&1|Q$IUO1G6YO&4^QbO'#CfOOQO,5?],5?]OOQO-E<o-E<oOOQQ1G3X1G3XO%KiQUO,5<xOOQQ<<L^<<L^O!&VQ,UO<<L^O%L`QSO<<L^O&4hQSO<<L^O%TQUO<<L^OOQQ<<L`<<L`O9^Q(C[O<<L`O#MsQSO<<L`O8wQSO<<L`O&4pQWO1G4xO&4{QSO7++uOOQQAN=YAN=YO9^Q(C[OAN=YOOQQ<= d<= dOOQQ<= e<= eO&5TQSO<= dO&5YQSO<= eOOQQ<<Lh<<LhO&5_QSO<<LhO&5dQUO<<LhOOQQ1G3r1G3rO>cQSO7+)cO&5kQSO<<IyO&5vQ$IUO<<IyOOQO<<Hs<<HsOOQ(CYAN?_AN?_OOQOAN?WAN?WO$9XQ(CjOAN?WOOQOAN>zAN>zO%TQUOAN?WOOQO<<Mp<<MpOOQQG26}G26}O!&VQ,UOG26}O#$vQSOG26}O&6QQSOG26}O% kQbOG26}O&6YQ$IUO<<JaO&6gQ$IUO1G2XO&8]Q$IUO1G2kO&:`Q$IUO1G2mO&<cQ$IUO<<KRO&<pQ$IUO<<ItOOQO1G1r1G1rO!'oQ,UOANAaOOQO7+*Y7+*YO&<}QSO7+*YO&=YQSO<= YO&=bQ`O7+*[OOQ(CW<<Kj<<KjO$$QQSO<<KjOOQ(CW<<Ki<<KiO&=lQ`O<<KjO$$QQSO<<KiOOQO7+*e7+*eO9SQSO7+*eO&=sQSO<= cOOQQG27jG27jO9^Q(C[OG27jO!){QUO1G4uO&={QSO7++tO%L`QSOANAxOOQQANAxANAxO!&VQ,UOANAxO&>TQSOANAxOOQQANAzANAzO9^Q(C[OANAzO#MsQSOANAzOOQO'#HV'#HVOOQO7+*d7+*dOOQQG22tG22tOOQQANEOANEOOOQQANEPANEPOOQQANBSANBSO&>]QSOANBSOOQQ<<L}<<L}O!){QUOAN?eOOQOG24rG24rO$9XQ(CjOG24rO#$vQSOLD,iOOQQLD,iLD,iO!&VQ,UOLD,iO&>bQSOLD,iO&>jQ$IUO7+'sO&@`Q$IUO7+'uO&BUQ,UOG26{OOQO<<Mt<<MtOOQ(CWANAUANAUO$$QQSOANAUOOQ(CWANATANATOOQO<<NP<<NPOOQQLD-ULD-UO&BfQ$IUO7+*aOOQQG27dG27dO%L`QSOG27dO!&VQ,UOG27dOOQQG27fG27fO9^Q(C[OG27fOOQQG27nG27nO&BpQ$IUOG25POOQOLD*^LD*^OOQQ!$(!T!$(!TO#$vQSO!$(!TO!&VQ,UO!$(!TO&BzQ(CjOG26{OOQ(CWG26pG26pOOQQLD-OLD-OO%L`QSOLD-OOOQQLD-QLD-QOOQQ!)9Eo!)9EoO#$vQSO!)9EoOOQQ!$(!j!$(!jOOQQ!.K;Z!.K;ZO&E]Q$IUOG26{O!){QUO'#DvO0xQSO'#ETO&GRQbO'#JdO!){QUO'#DnO&GYQUO'#DzO&GaQbO'#CfO&IwQbO'#CfO!){QUO'#D|O&JXQUO,5;SO!){QUO,5;^O!){QUO,5;^O!){QUO,5;^O!){QUO,5;^O!){QUO,5;^O!){QUO,5;^O!){QUO,5;^O!){QUO,5;^O!){QUO,5;^O!){QUO,5;^O!){QUO,5;^O!){QUO'#IgO&L[QSO,5<cO&LdQ,UO,5;^O&MwQ,UO,5;^O!){QUO,5;rO0{QSO'#DSO0{QSO'#DSO!&VQ,UO'#FxO&LdQ,UO'#FxO!&VQ,UO'#FzO&LdQ,UO'#FzO!&VQ,UO'#GYO&LdQ,UO'#GYO!){QUO,5:fO!){QUO,5@`O&JXQUO1G0nO&NOQ$IUO'#CfO!){QUO1G1zO!&VQ,UO,5=PO&LdQ,UO,5=PO!&VQ,UO,5=RO&LdQ,UO,5=RO!&VQ,UO,5<mO&LdQ,UO,5<mO&JXQUO1G1{O!){QUO7+&uO!&VQ,UO1G2XO&LdQ,UO1G2XO!&VQ,UO1G2ZO&LdQ,UO1G2ZO&JXQUO7+'gO&JXQUO7+&YO!&VQ,UOANAaO&LdQ,UOANAaO&NYQSO'#EhO&N_QSO'#EhO&NgQSO'#FWO&NlQSO'#ErO&NqQSO'#JtO&N|QSO'#JrO' XQSO,5;SO' ^Q,UO,5<`O' eQSO'#GRO' jQSO'#GRO' oQSO,5<aO' wQSO,5;SO'!PQ$IUO1G1ZO'!WQSO,5<mO'!]QSO,5<mO'!bQSO,5<oO'!gQSO,5<oO'!lQSO1G1{O'!qQSO1G0nO'!vQ,UO<<KuO'!}Q,UO<<KuO7aQ,UO'#FvO8wQSO'#FuOAOQSO'#EgO!){QUO,5;oO!2uQSO'#GRO!2uQSO'#GRO!2uQSO'#GTO!2uQSO'#GTO!'oQ,UO7+(ZO!'oQ,UO7+(ZO$KZQ`O1G2oO$KZQ`O1G2oO!&VQ,UO,5=TO!&VQ,UO,5=T",stateData:"'$W~O'nOS'oOSROS'pRQ~OPYOQYOV!UO^qOayObxOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!ctO!hZO!kYO!lYO!mYO!ouO!qvO!twO!x]O#p!OO$Q{O$UfO%`|O%b!PO%d}O%e}O%f}O%i!QO%k!RO%n!SO%o!SO%q!TO%}!VO&T!WO&V!XO&X!YO&Z!ZO&^![O&d!]O&j!^O&l!_O&n!`O&p!aO&r!bO'uSO'wTO'zUO(SVO(b[O(oiO~OPYOQYOa!iOb!hOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!dO!ctO!hZO!kYO!lYO!mYO!ouO!q!fO!t!gO$Q!jO$UfO'u!cO'wTO'zUO(SVO(b[O(oiO~O^!uOl!mO|!nO![!wO!]!tO!^!tO!x9qO!|!oO!}!oO#O!vO#P!oO#Q!oO#T!xO#U!xO'v!kO'wTO'zUO(V!lO(b!rO~O'p!yO~OPYXXYX^YXkYXyYXzYX|YX!VYX!eYX!fYX!hYX!lYX#XYX#dcX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#oYX#qYX#sYX#uYX#vYX#{YX'lYX(SYX(cYX(jYX(kYX~O!a$zX~P(jO[!{O'w!}O'x!{O'y!}O~O[#OO'y!}O'z!}O'{#OO~Oq#QO!O#RO(T#RO(U#TO~OPYOQYOa!iOb!hOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!dO!ctO!hZO!kYO!lYO!mYO!ouO!q!fO!t!gO$Q!jO$UfO'u9uO'wTO'zUO(SVO(b[O(oiO~O!U#XO!V#UO!S(YP!S(gP~P+vO!W#aO~P`OPYOQYOa!iOb!hOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!dO!ctO!hZO!kYO!lYO!mYO!ouO!q!fO!t!gO$Q!jO$UfO'wTO'zUO(SVO(b[O(oiO~Oi#kO!U#gO!x]O#b#jO#c#gO'u9vO!g(dP~P.bO!h#mO'u#lO~O!t#qO!x]O%`#rO~O#d#sO~O!a#tO#d#sO~OP$[OX$cOk$POy#xOz#yO|#zO!V$`O!e$RO!f#vO!h#wO!l$[O#g#}O#h$OO#i$OO#j$OO#k$QO#l$RO#m$RO#n$bO#o$RO#q$SO#s$UO#u$WO#v$XO(SVO(c$YO(j#{O(k#|O~O^(WX'l(WX'j(WX!g(WX!S(WX!X(WX%a(WX!a(WX~P1jO#X$dO#{$dOP(XXX(XXk(XXy(XXz(XX|(XX!V(XX!e(XX!h(XX!l(XX#g(XX#h(XX#i(XX#j(XX#k(XX#l(XX#m(XX#n(XX#o(XX#q(XX#s(XX#u(XX#v(XX(S(XX(c(XX(j(XX(k(XX!X(XX%a(XX~O^(XX!f(XX'l(XX'j(XX!S(XX!g(XXo(XX!a(XX~P4QO#X$dO~O$W$fO$Y$eO$a$kO~O!X$lO$UfO$d$mO$f$oO~Oi%ROk$sOl$rOm$rOs%SOu%TOw%UO|$zO!X${O!c%ZO!h$wO#c%[O$Q%XO$m%VO$o%WO$r%YO'u$qO'wTO'zUO(O%QO(S$tOd(PP~O!h%]O~O|%`O!X%aO'u%_O~O!a%eO~O^%fO'l%fO~O'v!kO~P%TO%f%mO~P%TO!h%]O'u%_O'v!kO(O%QO~Ob%tO!h%]O'u%_O~O#o$RO~Oy%yO!X%vO!h%xO%b%|O'u%_O'v!kO'wTO'zUO](xP~O!t#qO~O%k&OO|(tX!X(tX'u(tX~O'u&PO~O!q&UO#p!OO%b!PO%d}O%e}O%f}O%i!QO%k!RO%n!SO%o!SO~Oa&ZOb&YO!t&WO%`&XO%s&VO~P;kOa&^ObxO!X&]O!q&UO!twO!x]O#p!OO%`|O%d}O%e}O%f}O%i!QO%k!RO%n!SO%o!SO%q!TO~O_&aO#X&dO%b&_O'v!kO~P<pO!h&eO!q&iO~O!h#mO~O!XXO~O^%fO'k&qO'l%fO~O^%fO'k&tO'l%fO~O^%fO'k&vO'l%fO~O'jYX!SYXoYX!gYX&RYX!XYX%aYX!aYX~P(jO!['TO!]&|O!^&|O'v!kO'wTO'zUO~Ol&zO|&yO!U&}O(V&xO!W(ZP!W(iP~P?wOg'WO!X'UO'u%_O~Ob']O!h%]O'u%_O~Oy%yO!h%xO~Ol!mO|!nO!x9qO!|!oO!}!oO#P!oO#Q!oO'v!kO'wTO'zUO(V!lO(b!rO~O!['cO!]'bO!^'bO#O!oO#T'dO#U'dO~PAcO^%fO!a#tO!h%]O'l%fO(O%QO(c'fO~O!l'jO#X'hO~PBqOl!mO|!nO'wTO'zUO(V!lO(b!rO~O!XXOl(`X|(`X![(`X!](`X!^(`X!x(`X!|(`X!}(`X#O(`X#P(`X#Q(`X#T(`X#U(`X'v(`X'w(`X'z(`X(V(`X(b(`X~O!]'bO!^'bO'v!kO~PCaO'q'nO'r'nO's'pO~O[!{O'w'rO'x!{O'y'rO~O[#OO'y'rO'z'rO'{#OO~Oq#QO!O#RO(T#RO(U'vO~O!U'xO!S&}X!S'TX!V&}X!V'TX~P+vO!V'zO!S(YX~OP$[OX$cOk$POy#xOz#yO|#zO!V'zO!e$RO!f#vO!h#wO!l$[O#g#}O#h$OO#i$OO#j$OO#k$QO#l$RO#m$RO#n$bO#o$RO#q$SO#s$UO#u$WO#v$XO(SVO(c$YO(j#{O(k#|O~O!S(YX~PGTO!S(PO~O!S(fX!V(fX!a(fX!g(fX(c(fX~O#X(fX#d#]X!W(fX~PIZO#X(QO!S(hX!V(hX~O!V(RO!S(gX~O!S(UO~O#X$dO~PIZO!W(VO~P`Oy#xOz#yO|#zO!f#vO!h#wO(SVOP!jaX!jak!ja!V!ja!e!ja!l!ja#g!ja#h!ja#i!ja#j!ja#k!ja#l!ja#m!ja#n!ja#o!ja#q!ja#s!ja#u!ja#v!ja(c!ja(j!ja(k!ja~O^!ja'l!ja'j!ja!S!ja!g!jao!ja!X!ja%a!ja!a!ja~PJqO!g(WO~O!a#tO#X(XO(c'fO!V(eX^(eX'l(eX~O!g(eX~PMaO|%`O!X%aO!x]O#b(^O#c(]O'u%_O~O!V(_O!g(dX~O!g(aO~O|%`O!X%aO#c(]O'u%_O~OP(XXX(XXk(XXy(XXz(XX|(XX!V(XX!e(XX!f(XX!h(XX!l(XX#g(XX#h(XX#i(XX#j(XX#k(XX#l(XX#m(XX#n(XX#o(XX#q(XX#s(XX#u(XX#v(XX(S(XX(c(XX(j(XX(k(XX~O!a#tO!g(XX~PN}Oy(bOz(cO!f#vO!h#wO!x!wa|!wa~O!t!wa%`!wa!X!wa#b!wa#c!wa'u!wa~P!#RO!t(gO~OPYOQYOa!iOb!hOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!ctO!hZO!kYO!lYO!mYO!ouO!q!fO!t!gO$Q!jO$UfO'u!cO'wTO'zUO(SVO(b[O(oiO~Oi%ROk$sOl$rOm$rOs%SOu%TOw:ZO|$zO!X${O!c;eO!h$wO#c:aO$Q%XO$m:]O$o:_O$r%YO'u(kO'wTO'zUO(O%QO(S$tO~O#d(mO~Oi%ROk$sOl$rOm$rOs%SOu%TOw%UO|$zO!X${O!c%ZO!h$wO#c%[O$Q%XO$m%VO$o%WO$r%YO'u(kO'wTO'zUO(O%QO(S$tO~Od(]P~P!'oO!U(qO!g(^P~P%TO(V(sO(b[O~O|(uO!h#wO(V(sO(b[O~OP9pOQ9pOa;aOb!hOikOk9pOlkOmkOskOu9pOw9pO|WO!QkO!RkO!X!dO!c9sO!hZO!k9pO!l9pO!m9pO!o9tO!q9wO!t!gO$Q!jO$UfO'u)TO'wTO'zUO(SVO(b[O(o;_O~Oz)WO!h#wO~O!V$`O^$ka'l$ka'j$ka!g$ka!S$ka!X$ka%a$ka!a$ka~O#p)[O~P!&VOy)_O!a)^O!X$XX$T$XX$W$XX$Y$XX$a$XX~O!a)^O!X(lX$T(lX$W(lX$Y(lX$a(lX~Oy)_O~P!-eOy)_O!X(lX$T(lX$W(lX$Y(lX$a(lX~O!X)aO$T)eO$W)`O$Y)`O$a)fO~O!U)iO~P!){O$W$fO$Y$eO$a)mO~Og$sXy$sX|$sX!f$sX(j$sX(k$sX~OdfXd$sXgfX!VfX#XfX~P!/ZOl)oO~Oq)pO(T)qO(U)sO~Og)|Oy)uO|)vO(j)xO(k)zO~Od)tO~P!0dOd)}O~Oi%ROk$sOl$rOm$rOs%SOu%TOw:ZO|$zO!X${O!c;eO!h$wO#c:aO$Q%XO$m:]O$o:_O$r%YO'wTO'zUO(O%QO(S$tO~O!U*RO'u*OO!g(pP~P!1RO#d*TO~O!h*UO~O!U*ZO'u*WO!S(qP~P!1ROk*gO|*_O![*eO!]*^O!^*^O!h*UO#T*fO%W*aO'v!kO(V!lO~O!W*dO~P!3XO!f#vOg(RXy(RX|(RX(j(RX(k(RX!V(RX#X(RX~Od(RX#y(RX~P!4QOg*jO#X*iOd(QX!V(QX~O!V*kOd(PX~O'u&POd(PP~O!h*rO~O'u(kO~Oi*vO|%`O!U#gO!X%aO!x]O#b#jO#c#gO'u%_O!g(dP~O!a#tO#d*wO~O|%`O!U*yO!V(RO!X%aO'u%_O!S(gP~Ol'QO|*{O!U*zO'wTO'zUO(V(sO~O!W(iP~P!6{O!V*|O^(uX'l(uX~OP$[OX$cOk$POy#xOz#yO|#zO!e$RO!f#vO!h#wO!l$[O#g#}O#h$OO#i$OO#j$OO#k$QO#l$RO#m$RO#n$bO#o$RO#q$SO#s$UO#u$WO#v$XO(SVO(c$YO(j#{O(k#|O~O^!ba!V!ba'l!ba'j!ba!S!ba!g!bao!ba!X!ba%a!ba!a!ba~P!7sOy#xOz#yO|#zO!f#vO!h#wO(SVOP!naX!nak!na!V!na!e!na!l!na#g!na#h!na#i!na#j!na#k!na#l!na#m!na#n!na#o!na#q!na#s!na#u!na#v!na(c!na(j!na(k!na~O^!na'l!na'j!na!S!na!g!nao!na!X!na%a!na!a!na~P!:^Oy#xOz#yO|#zO!f#vO!h#wO(SVOP!paX!pak!pa!V!pa!e!pa!l!pa#g!pa#h!pa#i!pa#j!pa#k!pa#l!pa#m!pa#n!pa#o!pa#q!pa#s!pa#u!pa#v!pa(c!pa(j!pa(k!pa~O^!pa'l!pa'j!pa!S!pa!g!pao!pa!X!pa%a!pa!a!pa~P!<wOg+VO!X'UO%a+UO(O%QO~O!a+XO^'}X!X'}X'l'}X!V'}X~O^%fO!XXO'l%fO~O!h%]O(O%QO~O!h%]O'u%_O(O%QO~O!a#tO#d(mO~O%b+eO'u+aO'wTO'zUO!W(yP~O!V+fO](xX~OX+jO~O]+kO~O!X%vO'u%_O'v!kO](xP~O#X+pO(O%QO~Og+sO!X${O(O%QO~O!X+uO~Oy+wO!XXO~O%f%mO~O!t+|O~Ob,RO~O'u#lO!W(wP~Ob%tO~O%b!PO'u&PO~P<pOX,XO],WO~OPYOQYOayObxOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!ctO!hZO!kYO!lYO!mYO!ouO!twO!x]O$UfO%`|O'wTO'zUO(SVO(b[O(oiO~O!X!dO!q!fO$Q!jO'u!cO~P!CnO],WO^%fO'l%fO~OPYOQYOa!iOb!hOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!dO!ctO!hZO!kYO!lYO!mYO!ouO!t!gO$Q!jO$UfO'u!cO'wTO'zUO(SVO(b[O(oiO~O^,^O!qvO#p}O%d}O%e}O%f}O~P!FWO!h&eO~O&T,dO~O!X,fO~O&f,hO&h,iOP&caQ&caV&ca^&caa&cab&cai&cak&cal&cam&cas&cau&caw&ca|&ca!Q&ca!R&ca!X&ca!c&ca!h&ca!k&ca!l&ca!m&ca!o&ca!q&ca!t&ca!x&ca#p&ca$Q&ca$U&ca%`&ca%b&ca%d&ca%e&ca%f&ca%i&ca%k&ca%n&ca%o&ca%q&ca%}&ca&T&ca&V&ca&X&ca&Z&ca&^&ca&d&ca&j&ca&l&ca&n&ca&p&ca&r&ca'j&ca'u&ca'w&ca'z&ca(S&ca(b&ca(o&ca!W&ca&[&ca_&ca&a&ca~O'u,nO~O!V{X!V!_X!W{X!W!_X!a{X!a!_X!h!_X#X{X(O!_X~O!a,sO#X,rO!V#aX!V([X!W#aX!W([X!a([X!h([X(O([X~O!a,uO!h%]O(O%QO!V!ZX!W!ZX~Ol!mO|!nO'wTO'zUO(V!lO~OP9pOQ9pOa;aOb!hOikOk9pOlkOmkOskOu9pOw9pO|WO!QkO!RkO!X!dO!c9sO!hZO!k9pO!l9pO!m9pO!o9tO!q9wO!t!gO$Q!jO$UfO'wTO'zUO(SVO(b[O(o;_O~O'u:fO~P# ^O!V,yO!W(ZX~O!W,{O~O!a,sO#X,rO!V#aX!W#aX~O!V,|O!W(iX~O!W-OO~O!]-PO!^-PO'v!kO~P!N{O!W-SO~P'WOg-VO!X'UO~O!S-[O~Ol!wa![!wa!]!wa!^!wa!|!wa!}!wa#O!wa#P!wa#Q!wa#T!wa#U!wa'v!wa'w!wa'z!wa(V!wa(b!wa~P!#RO!l-aO#X-_O~PBqO!]-cO!^-cO'v!kO~PCaO^%fO#X-_O'l%fO~O^%fO!a#tO#X-_O'l%fO~O^%fO!a#tO!l-aO#X-_O'l%fO(c'fO~O'q'nO'r'nO's-hO~Oo-iO~O!S&}a!V&}a~P!7sO!U-mO!S&}X!V&}X~P%TO!V'zO!S(Ya~O!S(Ya~PGTO!V(RO!S(ga~O|%`O!U-qO!X%aO'u%_O!S'TX!V'TX~O#X-sO!V(ea!g(ea^(ea'l(ea~O!a#tO~P#)dO!V(_O!g(da~O|%`O!X%aO#c-wO'u%_O~Oi-|O|%`O!U-yO!X%aO!x]O#b-{O#c-yO'u%_O!V'WX!g'WX~Oz.QO!h#wO~Og.TO!X'UO%a.SO(O%QO~O^#[i!V#[i'l#[i'j#[i!S#[i!g#[io#[i!X#[i%a#[i!a#[i~P!7sOg;kOy)uO|)vO(j)xO(k)zO~O#d#Wa^#Wa#X#Wa'l#Wa!V#Wa!g#Wa!X#Wa!S#Wa~P#,`O#d(RXP(RXX(RX^(RXk(RXz(RX!e(RX!h(RX!l(RX#g(RX#h(RX#i(RX#j(RX#k(RX#l(RX#m(RX#n(RX#o(RX#q(RX#s(RX#u(RX#v(RX'l(RX(S(RX(c(RX!g(RX!S(RX'j(RXo(RX!X(RX%a(RX!a(RX~P!4QO!V.^Od(]X~P!0dOd.`O~O!V.aO!g(^X~P!7sO!g.dO~O!S.fO~OP$[Oy#xOz#yO|#zO!f#vO!h#wO!l$[O(SVOX#fi^#fik#fi!V#fi!e#fi#h#fi#i#fi#j#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi'l#fi(c#fi(j#fi(k#fi'j#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~O#g#fi~P#0[O#g#}O~P#0[OP$[Oy#xOz#yO|#zO!f#vO!h#wO!l$[O#g#}O#h$OO#i$OO#j$OO(SVOX#fi^#fi!V#fi!e#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi'l#fi(c#fi(j#fi(k#fi'j#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~Ok#fi~P#2|Ok$PO~P#2|OP$[Ok$POy#xOz#yO|#zO!f#vO!h#wO!l$[O#g#}O#h$OO#i$OO#j$OO#k$QO(SVO^#fi!V#fi#q#fi#s#fi#u#fi#v#fi'l#fi(c#fi(j#fi(k#fi'j#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~OX#fi!e#fi#l#fi#m#fi#n#fi#o#fi~P#5nOX$cO!e$RO#l$RO#m$RO#n$bO#o$RO~P#5nOP$[OX$cOk$POy#xOz#yO|#zO!e$RO!f#vO!h#wO!l$[O#g#}O#h$OO#i$OO#j$OO#k$QO#l$RO#m$RO#n$bO#o$RO#q$SO(SVO^#fi!V#fi#s#fi#u#fi#v#fi'l#fi(c#fi(k#fi'j#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~O(j#fi~P#8oO(j#{O~P#8oOP$[OX$cOk$POy#xOz#yO|#zO!e$RO!f#vO!h#wO!l$[O#g#}O#h$OO#i$OO#j$OO#k$QO#l$RO#m$RO#n$bO#o$RO#q$SO#s$UO(SVO(j#{O^#fi!V#fi#u#fi#v#fi'l#fi(c#fi'j#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~O(k#fi~P#;aO(k#|O~P#;aOP$[OX$cOk$POy#xOz#yO|#zO!e$RO!f#vO!h#wO!l$[O#g#}O#h$OO#i$OO#j$OO#k$QO#l$RO#m$RO#n$bO#o$RO#q$SO#s$UO#u$WO(SVO(j#{O(k#|O~O^#fi!V#fi#v#fi'l#fi(c#fi'j#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~P#>ROPYXXYXkYXyYXzYX|YX!eYX!fYX!hYX!lYX#XYX#dcX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#oYX#qYX#sYX#uYX#vYX#{YX(SYX(cYX(jYX(kYX!VYX!WYX~O#yYX~P#@lOP$[OX:XOk9{Oy#xOz#yO|#zO!e9}O!f#vO!h#wO!l$[O#g9yO#h9zO#i9zO#j9zO#k9|O#l9}O#m9}O#n:WO#o9}O#q:OO#s:QO#u:SO#v:TO(SVO(c$YO(j#{O(k#|O~O#y.hO~P#ByO#X:YO#{:YO#y(XX!W(XX~PN}O^'Za!V'Za'l'Za'j'Za!g'Za!S'Zao'Za!X'Za%a'Za!a'Za~P!7sOP#fiX#fi^#fik#fiz#fi!V#fi!e#fi!f#fi!h#fi!l#fi#g#fi#h#fi#i#fi#j#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi'l#fi(S#fi(c#fi'j#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~P#,`O^#zi!V#zi'l#zi'j#zi!S#zi!g#zio#zi!X#zi%a#zi!a#zi~P!7sO$W.mO$Y.mO~O$W.nO$Y.nO~O!a)^O#X.oO!X$^X$T$^X$W$^X$Y$^X$a$^X~O!U.pO~O!X)aO$T.rO$W)`O$Y)`O$a.sO~O!V:UO!W(WX~P#ByO!W.tO~O!a)^O$a(lX~O$a.vO~Oq)pO(T)qO(U.yO~O!S.}O~P!&VO!VcX!acX!gcX!g$sX(ccX~P!/ZO!g/TO~P#,`O!V/UO!a#tO(c'fO!g(pX~O!g/ZO~O!U*RO'u%_O!g(pP~O#d/]O~O!S$sX!V$sX!a$zX~P!/ZO!V/^O!S(qX~P#,`O!a/`O~O!S/bO~Ok/fO!a#tO!h%]O(O%QO(c'fO~O'u/hO~O!a+XO~O^%fO!V/lO'l%fO~O!W/nO~P!3XO!]/oO!^/oO'v!kO(V!lO~O|/qO(V!lO~O#T/rO~O'u&POd'`X!V'`X~O!V*kOd(Pa~Od/wO~Oy/xOz/xO|/yOgva(jva(kva!Vva#Xva~Odva#yva~P$ aOy)uO|)vOg$la(j$la(k$la!V$la#X$la~Od$la#y$la~P$!VOy)uO|)vOg$na(j$na(k$na!V$na#X$na~Od$na#y$na~P$!xO#d/{O~Od$|a!V$|a#X$|a#y$|a~P!0dO!a#tO~O#d0OO~O!V*|O^(ua'l(ua~Oy#xOz#yO|#zO!f#vO!h#wO(SVOP!niX!nik!ni!V!ni!e!ni!l!ni#g!ni#h!ni#i!ni#j!ni#k!ni#l!ni#m!ni#n!ni#o!ni#q!ni#s!ni#u!ni#v!ni(c!ni(j!ni(k!ni~O^!ni'l!ni'j!ni!S!ni!g!nio!ni!X!ni%a!ni!a!ni~P$$gOg.TO!X'UO%a.SO~Oi0YO'u0XO~P!1UO!a+XO^'}a!X'}a'l'}a!V'}a~O#d0`O~OXYX!VcX!WcX~O!V0aO!W(yX~O!W0cO~OX0dO~O'u+aO'wTO'zUO~O!X%vO'u%_O]'hX!V'hX~O!V+fO](xa~O!g0iO~P!7sOX0lO~O]0mO~O#X0pO~Og0sO!X${O~O(V(sO!W(vP~Og0|O!X0yO%a0{O(O%QO~OX1WO!V1UO!W(wX~O!W1XO~O]1ZO^%fO'l%fO~O'u#lO'wTO'zUO~O#X$dO#{$dOP(XXX(XXk(XXy(XXz(XX|(XX!V(XX!e(XX!h(XX!l(XX#g(XX#h(XX#i(XX#j(XX#k(XX#l(XX#m(XX#n(XX#q(XX#s(XX#u(XX#v(XX(S(XX(c(XX(j(XX(k(XX~O#o1^O&R1_O^(XX!f(XX~P$+]O#X$dO#o1^O&R1_O~O^1aO~P%TO^1cO~O&[1fOP&YiQ&YiV&Yi^&Yia&Yib&Yii&Yik&Yil&Yim&Yis&Yiu&Yiw&Yi|&Yi!Q&Yi!R&Yi!X&Yi!c&Yi!h&Yi!k&Yi!l&Yi!m&Yi!o&Yi!q&Yi!t&Yi!x&Yi#p&Yi$Q&Yi$U&Yi%`&Yi%b&Yi%d&Yi%e&Yi%f&Yi%i&Yi%k&Yi%n&Yi%o&Yi%q&Yi%}&Yi&T&Yi&V&Yi&X&Yi&Z&Yi&^&Yi&d&Yi&j&Yi&l&Yi&n&Yi&p&Yi&r&Yi'j&Yi'u&Yi'w&Yi'z&Yi(S&Yi(b&Yi(o&Yi!W&Yi_&Yi&a&Yi~O_1lO!W1jO&a1kO~P`O!XXO!h1nO~O&h,iOP&ciQ&ciV&ci^&cia&cib&cii&cik&cil&cim&cis&ciu&ciw&ci|&ci!Q&ci!R&ci!X&ci!c&ci!h&ci!k&ci!l&ci!m&ci!o&ci!q&ci!t&ci!x&ci#p&ci$Q&ci$U&ci%`&ci%b&ci%d&ci%e&ci%f&ci%i&ci%k&ci%n&ci%o&ci%q&ci%}&ci&T&ci&V&ci&X&ci&Z&ci&^&ci&d&ci&j&ci&l&ci&n&ci&p&ci&r&ci'j&ci'u&ci'w&ci'z&ci(S&ci(b&ci(o&ci!W&ci&[&ci_&ci&a&ci~O!S1tO~O!V!Za!W!Za~P#ByOl!mO|!nO!U1zO(V!lO!V'OX!W'OX~P?wO!V,yO!W(Za~O!V'UX!W'UX~P!6{O!V,|O!W(ia~O!W2RO~P'WO^%fO#X2[O'l%fO~O^%fO!a#tO#X2[O'l%fO~O^%fO!a#tO!l2`O#X2[O'l%fO(c'fO~O^%fO'l%fO~P!7sO!V$`Oo$ka~O!S&}i!V&}i~P!7sO!V'zO!S(Yi~O!V(RO!S(gi~O!S(hi!V(hi~P!7sO!V(ei!g(ei^(ei'l(ei~P!7sO#X2bO!V(ei!g(ei^(ei'l(ei~O!V(_O!g(di~O|%`O!X%aO!x]O#b2gO#c2fO'u%_O~O|%`O!X%aO#c2fO'u%_O~Og2nO!X'UO%a2mO~Og2nO!X'UO%a2mO(O%QO~O#dvaPvaXva^vakva!eva!fva!hva!lva#gva#hva#iva#jva#kva#lva#mva#nva#ova#qva#sva#uva#vva'lva(Sva(cva!gva!Sva'jvaova!Xva%ava!ava~P$ aO#d$laP$laX$la^$lak$laz$la!e$la!f$la!h$la!l$la#g$la#h$la#i$la#j$la#k$la#l$la#m$la#n$la#o$la#q$la#s$la#u$la#v$la'l$la(S$la(c$la!g$la!S$la'j$lao$la!X$la%a$la!a$la~P$!VO#d$naP$naX$na^$nak$naz$na!e$na!f$na!h$na!l$na#g$na#h$na#i$na#j$na#k$na#l$na#m$na#n$na#o$na#q$na#s$na#u$na#v$na'l$na(S$na(c$na!g$na!S$na'j$nao$na!X$na%a$na!a$na~P$!xO#d$|aP$|aX$|a^$|ak$|az$|a!V$|a!e$|a!f$|a!h$|a!l$|a#g$|a#h$|a#i$|a#j$|a#k$|a#l$|a#m$|a#n$|a#o$|a#q$|a#s$|a#u$|a#v$|a'l$|a(S$|a(c$|a!g$|a!S$|a'j$|a#X$|ao$|a!X$|a%a$|a!a$|a~P#,`O^#[q!V#[q'l#[q'j#[q!S#[q!g#[qo#[q!X#[q%a#[q!a#[q~P!7sOd'PX!V'PX~P!'oO!V.^Od(]a~O!U2vO!V'QX!g'QX~P%TO!V.aO!g(^a~O!V.aO!g(^a~P!7sO!S2yO~O#y!ja!W!ja~PJqO#y!ba!V!ba!W!ba~P#ByO#y!na!W!na~P!:^O#y!pa!W!pa~P!<wO!X3]O$UfO$_3^O~O!W3bO~Oo3cO~P#,`O^$hq!V$hq'l$hq'j$hq!S$hq!g$hqo$hq!X$hq%a$hq!a$hq~P!7sO!S3dO~P#,`Oy)uO|)vO(k)zOg%Xi(j%Xi!V%Xi#X%Xi~Od%Xi#y%Xi~P$IuOy)uO|)vOg%Zi(j%Zi(k%Zi!V%Zi#X%Zi~Od%Zi#y%Zi~P$JhO(c$YO~P#,`O!U3gO'u%_O!V'[X!g'[X~O!V/UO!g(pa~O!V/UO!a#tO!g(pa~O!V/UO!a#tO(c'fO!g(pa~Od$ui!V$ui#X$ui#y$ui~P!0dO!U3oO'u*WO!S'^X!V'^X~P!1RO!V/^O!S(qa~O!V/^O!S(qa~P#,`O!a#tO#o3wO~Ok3zO!a#tO(c'fO~Od(Qi!V(Qi~P!0dO#X3}Od(Qi!V(Qi~P!0dO!g4QO~O^$iq!V$iq'l$iq'j$iq!S$iq!g$iqo$iq!X$iq%a$iq!a$iq~P!7sO!S4UO~O!V4VO!X(rX~P#,`O!f#vO~P4QO^$sX!X$sX%UYX'l$sX!V$sX~P!/ZO%U4XO^hXghXyhX|hX!XhX'lhX(jhX(khX!VhX~O%U4XO~O%b4`O'u+aO'wTO'zUO!V'gX!W'gX~O!V0aO!W(ya~OX4dO~O]4eO~O^%fO'l%fO~P#,`O!X${O~P#,`O!V4mO#X4oO!W(vX~O!W4pO~Ol!mO|4qO![!wO!]!tO!^!tO!x9qO!|!oO!}!oO#O!oO#P!oO#Q!oO#T4vO#U!xO'v!kO'wTO'zUO(V!lO(b!rO~O!W4uO~P%$gOg4{O!X0yO%a4zO~Og4{O!X0yO%a4zO(O%QO~O'u#lO!V'fX!W'fX~O!V1UO!W(wa~O'wTO'zUO(V5UO~O]5YO~O#o5]O&R5^O~PMaO!g5_O~P%TO^5aO~O^5aO~P%TO_1lO!W5fO&a1kO~P`O!a5hO~O!a5jO!V([i!W([i!a([i!h([i(O([i~O!V#ai!W#ai~P#ByO#X5kO!V#ai!W#ai~O!V!Zi!W!Zi~P#ByO^%fO#X5tO'l%fO~O^%fO!a#tO#X5tO'l%fO~O!V(eq!g(eq^(eq'l(eq~P!7sO!V(_O!g(dq~O|%`O!X%aO#c5{O'u%_O~O!X'UO%a6OO~Og6RO!X'UO%a6OO~O#d%XiP%XiX%Xi^%Xik%Xiz%Xi!e%Xi!f%Xi!h%Xi!l%Xi#g%Xi#h%Xi#i%Xi#j%Xi#k%Xi#l%Xi#m%Xi#n%Xi#o%Xi#q%Xi#s%Xi#u%Xi#v%Xi'l%Xi(S%Xi(c%Xi!g%Xi!S%Xi'j%Xio%Xi!X%Xi%a%Xi!a%Xi~P$IuO#d%ZiP%ZiX%Zi^%Zik%Ziz%Zi!e%Zi!f%Zi!h%Zi!l%Zi#g%Zi#h%Zi#i%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#q%Zi#s%Zi#u%Zi#v%Zi'l%Zi(S%Zi(c%Zi!g%Zi!S%Zi'j%Zio%Zi!X%Zi%a%Zi!a%Zi~P$JhO#d$uiP$uiX$ui^$uik$uiz$ui!V$ui!e$ui!f$ui!h$ui!l$ui#g$ui#h$ui#i$ui#j$ui#k$ui#l$ui#m$ui#n$ui#o$ui#q$ui#s$ui#u$ui#v$ui'l$ui(S$ui(c$ui!g$ui!S$ui'j$ui#X$uio$ui!X$ui%a$ui!a$ui~P#,`Od'Pa!V'Pa~P!0dO!V'Qa!g'Qa~P!7sO!V.aO!g(^i~O#y#[i!V#[i!W#[i~P#ByOP$[Oy#xOz#yO|#zO!f#vO!h#wO!l$[O(SVOX#fik#fi!e#fi#h#fi#i#fi#j#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi#y#fi(c#fi(j#fi(k#fi!V#fi!W#fi~O#g#fi~P%2vO#g9yO~P%2vOP$[Oy#xOz#yO|#zO!f#vO!h#wO!l$[O#g9yO#h9zO#i9zO#j9zO(SVOX#fi!e#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi#y#fi(c#fi(j#fi(k#fi!V#fi!W#fi~Ok#fi~P%5ROk9{O~P%5ROP$[Ok9{Oy#xOz#yO|#zO!f#vO!h#wO!l$[O#g9yO#h9zO#i9zO#j9zO#k9|O(SVO#q#fi#s#fi#u#fi#v#fi#y#fi(c#fi(j#fi(k#fi!V#fi!W#fi~OX#fi!e#fi#l#fi#m#fi#n#fi#o#fi~P%7^OX:XO!e9}O#l9}O#m9}O#n:WO#o9}O~P%7^OP$[OX:XOk9{Oy#xOz#yO|#zO!e9}O!f#vO!h#wO!l$[O#g9yO#h9zO#i9zO#j9zO#k9|O#l9}O#m9}O#n:WO#o9}O#q:OO(SVO#s#fi#u#fi#v#fi#y#fi(c#fi(k#fi!V#fi!W#fi~O(j#fi~P%9xO(j#{O~P%9xOP$[OX:XOk9{Oy#xOz#yO|#zO!e9}O!f#vO!h#wO!l$[O#g9yO#h9zO#i9zO#j9zO#k9|O#l9}O#m9}O#n:WO#o9}O#q:OO#s:QO(SVO(j#{O#u#fi#v#fi#y#fi(c#fi!V#fi!W#fi~O(k#fi~P%<TO(k#|O~P%<TOP$[OX:XOk9{Oy#xOz#yO|#zO!e9}O!f#vO!h#wO!l$[O#g9yO#h9zO#i9zO#j9zO#k9|O#l9}O#m9}O#n:WO#o9}O#q:OO#s:QO#u:SO(SVO(j#{O(k#|O~O#v#fi#y#fi(c#fi!V#fi!W#fi~P%>`O^#wy!V#wy'l#wy'j#wy!S#wy!g#wyo#wy!X#wy%a#wy!a#wy~P!7sOg;lOy)uO|)vO(j)xO(k)zO~OP#fiX#fik#fiz#fi!e#fi!f#fi!h#fi!l#fi#g#fi#h#fi#i#fi#j#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi#y#fi(S#fi(c#fi!V#fi!W#fi~P%AWO!f#vOP(RXX(RXg(RXk(RXy(RXz(RX|(RX!e(RX!h(RX!l(RX#g(RX#h(RX#i(RX#j(RX#k(RX#l(RX#m(RX#n(RX#o(RX#q(RX#s(RX#u(RX#v(RX#y(RX(S(RX(c(RX(j(RX(k(RX!V(RX!W(RX~O#y#zi!V#zi!W#zi~P#ByO#y!ni!W!ni~P$$gO!W6_O~O!V'Za!W'Za~P#ByO!a#tO(c'fO!V'[a!g'[a~O!V/UO!g(pi~O!V/UO!a#tO!g(pi~Od$uq!V$uq#X$uq#y$uq~P!0dO!S'^a!V'^a~P#,`O!a6fO~O!V/^O!S(qi~P#,`O!V/^O!S(qi~O!S6jO~O!a#tO#o6oO~Ok6pO!a#tO(c'fO~O!S6rO~Od$wq!V$wq#X$wq#y$wq~P!0dO^$iy!V$iy'l$iy'j$iy!S$iy!g$iyo$iy!X$iy%a$iy!a$iy~P!7sO!a5jO~O!V4VO!X(ra~O^#[y!V#[y'l#[y'j#[y!S#[y!g#[yo#[y!X#[y%a#[y!a#[y~P!7sOX6wO~O!V0aO!W(yi~O]6}O~O(V(sO!V'cX!W'cX~O!V4mO!W(va~OikO'u7UO~P.bO!W7XO~P%$gOl!mO|7YO'wTO'zUO(V!lO(b!rO~O!X0yO~O!X0yO%a7[O~Og7_O!X0yO%a7[O~OX7dO!V'fa!W'fa~O!V1UO!W(wi~O!g7hO~O!g7iO~O!g7lO~O!g7lO~P%TO^7nO~O!a7oO~O!g7pO~O!V(hi!W(hi~P#ByO^%fO#X7xO'l%fO~O!V(ey!g(ey^(ey'l(ey~P!7sO!V(_O!g(dy~O!X'UO%a7{O~O#d$uqP$uqX$uq^$uqk$uqz$uq!V$uq!e$uq!f$uq!h$uq!l$uq#g$uq#h$uq#i$uq#j$uq#k$uq#l$uq#m$uq#n$uq#o$uq#q$uq#s$uq#u$uq#v$uq'l$uq(S$uq(c$uq!g$uq!S$uq'j$uq#X$uqo$uq!X$uq%a$uq!a$uq~P#,`O#d$wqP$wqX$wq^$wqk$wqz$wq!V$wq!e$wq!f$wq!h$wq!l$wq#g$wq#h$wq#i$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#q$wq#s$wq#u$wq#v$wq'l$wq(S$wq(c$wq!g$wq!S$wq'j$wq#X$wqo$wq!X$wq%a$wq!a$wq~P#,`O!V'Qi!g'Qi~P!7sO#y#[q!V#[q!W#[q~P#ByOy/xOz/xO|/yOPvaXvagvakva!eva!fva!hva!lva#gva#hva#iva#jva#kva#lva#mva#nva#ova#qva#sva#uva#vva#yva(Sva(cva(jva(kva!Vva!Wva~Oy)uO|)vOP$laX$lag$lak$laz$la!e$la!f$la!h$la!l$la#g$la#h$la#i$la#j$la#k$la#l$la#m$la#n$la#o$la#q$la#s$la#u$la#v$la#y$la(S$la(c$la(j$la(k$la!V$la!W$la~Oy)uO|)vOP$naX$nag$nak$naz$na!e$na!f$na!h$na!l$na#g$na#h$na#i$na#j$na#k$na#l$na#m$na#n$na#o$na#q$na#s$na#u$na#v$na#y$na(S$na(c$na(j$na(k$na!V$na!W$na~OP$|aX$|ak$|az$|a!e$|a!f$|a!h$|a!l$|a#g$|a#h$|a#i$|a#j$|a#k$|a#l$|a#m$|a#n$|a#o$|a#q$|a#s$|a#u$|a#v$|a#y$|a(S$|a(c$|a!V$|a!W$|a~P%AWO#y$hq!V$hq!W$hq~P#ByO#y$iq!V$iq!W$iq~P#ByO!W8VO~O#y8WO~P!0dO!a#tO!V'[i!g'[i~O!a#tO(c'fO!V'[i!g'[i~O!V/UO!g(pq~O!S'^i!V'^i~P#,`O!V/^O!S(qq~O!S8^O~P#,`O!S8^O~Od(Qy!V(Qy~P!0dO!V'aa!X'aa~P#,`O^%Tq!X%Tq'l%Tq!V%Tq~P#,`OX8cO~O!V0aO!W(yq~O#X8gO!V'ca!W'ca~O!V4mO!W(vi~P#ByOPYXXYXkYXyYXzYX|YX!SYX!VYX!eYX!fYX!hYX!lYX#XYX#dcX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#oYX#qYX#sYX#uYX#vYX#{YX(SYX(cYX(jYX(kYX~O!a%RX#o%RX~P&2WO!X0yO%a8kO~O'wTO'zUO(V8pO~O!V1UO!W(wq~O!g8sO~O!g8tO~O!g8uO~O!g8uO~P%TO#X8xO!V#ay!W#ay~O!V#ay!W#ay~P#ByO!X'UO%a8}O~O#y#wy!V#wy!W#wy~P#ByOP$uiX$uik$uiz$ui!e$ui!f$ui!h$ui!l$ui#g$ui#h$ui#i$ui#j$ui#k$ui#l$ui#m$ui#n$ui#o$ui#q$ui#s$ui#u$ui#v$ui#y$ui(S$ui(c$ui!V$ui!W$ui~P%AWOy)uO|)vO(k)zOP%XiX%Xig%Xik%Xiz%Xi!e%Xi!f%Xi!h%Xi!l%Xi#g%Xi#h%Xi#i%Xi#j%Xi#k%Xi#l%Xi#m%Xi#n%Xi#o%Xi#q%Xi#s%Xi#u%Xi#v%Xi#y%Xi(S%Xi(c%Xi(j%Xi!V%Xi!W%Xi~Oy)uO|)vOP%ZiX%Zig%Zik%Ziz%Zi!e%Zi!f%Zi!h%Zi!l%Zi#g%Zi#h%Zi#i%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#q%Zi#s%Zi#u%Zi#v%Zi#y%Zi(S%Zi(c%Zi(j%Zi(k%Zi!V%Zi!W%Zi~O#y$iy!V$iy!W$iy~P#ByO#y#[y!V#[y!W#[y~P#ByO!a#tO!V'[q!g'[q~O!V/UO!g(py~O!S'^q!V'^q~P#,`O!S9UO~P#,`O!V0aO!W(yy~O!V4mO!W(vq~O!X0yO%a9]O~O!g9`O~O!X'UO%a9eO~OP$uqX$uqk$uqz$uq!e$uq!f$uq!h$uq!l$uq#g$uq#h$uq#i$uq#j$uq#k$uq#l$uq#m$uq#n$uq#o$uq#q$uq#s$uq#u$uq#v$uq#y$uq(S$uq(c$uq!V$uq!W$uq~P%AWOP$wqX$wqk$wqz$wq!e$wq!f$wq!h$wq!l$wq#g$wq#h$wq#i$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#q$wq#s$wq#u$wq#v$wq#y$wq(S$wq(c$wq!V$wq!W$wq~P%AWOd%]!Z!V%]!Z#X%]!Z#y%]!Z~P!0dO!V'cq!W'cq~P#ByO!V#a!Z!W#a!Z~P#ByO#d%]!ZP%]!ZX%]!Z^%]!Zk%]!Zz%]!Z!V%]!Z!e%]!Z!f%]!Z!h%]!Z!l%]!Z#g%]!Z#h%]!Z#i%]!Z#j%]!Z#k%]!Z#l%]!Z#m%]!Z#n%]!Z#o%]!Z#q%]!Z#s%]!Z#u%]!Z#v%]!Z'l%]!Z(S%]!Z(c%]!Z!g%]!Z!S%]!Z'j%]!Z#X%]!Zo%]!Z!X%]!Z%a%]!Z!a%]!Z~P#,`OP%]!ZX%]!Zk%]!Zz%]!Z!e%]!Z!f%]!Z!h%]!Z!l%]!Z#g%]!Z#h%]!Z#i%]!Z#j%]!Z#k%]!Z#l%]!Z#m%]!Z#n%]!Z#o%]!Z#q%]!Z#s%]!Z#u%]!Z#v%]!Z#y%]!Z(S%]!Z(c%]!Z!V%]!Z!W%]!Z~P%AWOo(WX~P1jO'v!kO~P!){O!ScX!VcX#XcX~P&2WOPYXXYXkYXyYXzYX|YX!VYX!VcX!eYX!fYX!hYX!lYX#XYX#XcX#dcX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#oYX#qYX#sYX#uYX#vYX#{YX(SYX(cYX(jYX(kYX~O!acX!gYX!gcX(ccX~P&GnOP9pOQ9pOa;aOb!hOikOk9pOlkOmkOskOu9pOw9pO|WO!QkO!RkO!XXO!c9sO!hZO!k9pO!l9pO!m9pO!o9tO!q9wO!t!gO$Q!jO$UfO'u)TO'wTO'zUO(SVO(b[O(o;_O~O!V:UO!W$ka~Oi%ROk$sOl$rOm$rOs%SOu%TOw:[O|$zO!X${O!c;fO!h$wO#c:bO$Q%XO$m:^O$o:`O$r%YO'u(kO'wTO'zUO(O%QO(S$tO~O#p)[O~P&LdO!WYX!WcX~P&GnO#d9xO~O!a#tO#d9xO~O#X:YO~O#o9}O~O#X:dO!V(hX!W(hX~O#X:YO!V(fX!W(fX~O#d:eO~Od:gO~P!0dO#d:lO~O#d:mO~O!a#tO#d:nO~O!a#tO#d:eO~O#y:oO~P#ByO#d:pO~O#d:qO~O#d:rO~O#d:sO~O#d:tO~O#d:uO~O#y:vO~P!0dO#y:wO~P!0dO$U~!f!|!}#P#Q#T#b#c#n(o$m$o$r%U%`%a%b%i%k%n%o%q%s~'pR$U(o#h!R'n'v#il#g#jky'o(V'o'u$W$Y$W~",goto:"$&a(}PPPP)OP)RP)cP*r.uPPPP5UPP5kP;f>mP?QP?QPPP?QP@rP?QP?QP?QP@vPP@{PAfPF]PPPFaPPPPFaIaPPPIgJbPFaPLoPPPPN}FaPPPFaPFaP!#]FaP!&p!'r!'{P!(n!(r!(nPPPPP!+|!'rPP!,j!-dP!0WFaFa!0]!3f!7z!7z!;oPPP!;vFaPPPPPPPPPPP!?SP!@ePPFa!ArPFaPFaFaFaFaPFa!CUPP!F]P!I`P!Id!In!Ir!IrP!FYP!Iv!IvP!LyP!L}FaFa!MT#!V?QP?QP?Q?QP##a?Q?Q#%]?Q#'l?Q#)b?Q?Q#*O#+|#+|#,Q#,Y#+|#,bP#+|P?Q#,z?Q#.T?Q?Q5UPPP#/aPPP#/y#/yP#/yP#0`#/yPP#0fP#0]P#0]#0x#0]#1d#1j5R)R#1m)RP#1t#1t#1tP)RP)RP)RP)RPP)RP#1z#1}P#1})RP#2RP#2UP)RP)RP)RP)RP)RP)R)RPP#2[#2b#2l#2r#2x#3O#3U#3d#3j#3p#3z#4Q#4[#4k#4q#5b#5t#5z#6Q#6`#6u#8W#8f#8l#8r#8x#9O#9Y#9`#9f#9p#:S#:YPPPPPPPPPP#:`PPPPPPP#;S#>ZP#?j#?q#?yPPPP#DX#F}#Me#Mh#Mk#Nd#Ng#Nj#Nq#NyPP$ P$ T$ {$!z$#O$#dPP$#h$#n$#rP$#u$#y$#|$$r$%Y$%p$%t$%w$%z$&Q$&T$&X$&]R!zRmqOXs!Y#b%e&h&j&k&m,a,f1f1iY!tQ'U-R0y4tQ%kuQ%sxQ%z{Q&`!US&|!d,yQ'[!hS'b!q!wS*^${*cQ+_%tQ+l%|Q,Q&YQ-P'TQ-Z']Q-c'cQ/o*eQ1T,RR:c9t$|dOPWXYZstuv!Y!_!f!n#Q#U#X#b#m#s#w#z#}$O$P$Q$R$S$T$U$V$W$X$`$d%e%k%x&a&d&h&j&k&m&q&y'W'h'x'z(Q(X(m(q(u)t*w*{,^,a,f-V-_-m-s.a.h/y0O0`0|1^1_1a1c1f1i1k2[2b2v4q4{5]5^5a5t7Y7_7n7xS#o]9q!r)V$Z$l&})i,r,u.p1z3]4o5k8g8x9p9s9t9w9x9y9z9{9|9}:O:P:Q:R:S:T:U:Y:c:d:e:g:n:o:t:u;bQ*n%UQ+d%vQ,S&]Q,Z&eQ.W:ZQ0V+VQ0Z+XQ0f+eQ1],XQ2j.TQ4_0aQ5S1UQ6Q2nQ6W:[Q6y4`R8O6R&zkOPWXYZstuv!Y!_!f!n#Q#U#X#b#m#s#w#z#}$O$P$Q$R$S$T$U$V$W$X$Z$`$d$l%e%k%x&a&d&e&h&j&k&m&q&y&}'W'h'x'z(Q(X(m(q(u)i)t*w*{+V,^,a,f,r,u-V-_-m-s.T.a.h.p/y0O0`0|1^1_1a1c1f1i1k1z2[2b2n2v3]4o4q4{5]5^5a5k5t6R7Y7_7n7x8g8x9p9s9t9w9x9y9z9{9|9}:O:P:Q:R:S:T:U:Y:c:d:e:g:n:o:t:u;bt!mQ!q!t!w!x&|'T'U'b'c'd,y-P-R-c0y4t4v$^$ri#t#v$b$c$w$z%V%W%[)p)v)y){)|*T*Z*i*j+U+X+p+s.S.^/O/]/^/`/{0p0s0{2m3e3o3w3}4V4X4z6O6f6o7[7{8W8k8}9]9e:W:X:]:^:_:`:a:b:h:i:j:k:l:m:p:q:r:s:v:w;_;g;h;k;lQ%}{Q&z!dS'Q%a,|Q+d%vQ/z*rQ0f+eQ0k+kQ1[,WQ1],XQ4_0aQ4h0mQ5V1WQ5W1ZQ6y4`Q6|4eQ7g5YQ8f6}R8q7dpnOXs!U!Y#b%e&_&h&j&k&m,a,f1f1iR,U&a&t^OPXYstuvy!Y!_!f!i!n#Q#b#m#s#w#z#}$O$P$Q$R$S$T$U$V$W$X$Z$`$d$l%e%k%x&a&d&e&h&j&k&m&q&y'W'h'z(Q(X(m(q(u)i)t*w*{+V,^,a,f,r,u-V-_-m-s.T.a.h.p/y0O0`0|1^1_1a1c1f1i1k1z2[2b2n2v3]4o4q4{5]5^5a5k5t6R7Y7_7n7x8g8x9p9s9t9w9x9y9z9{9|9}:O:P:Q:R:S:T:U:Y:c:d:e:g:n:o:t:u;a;b[#ZWZ#U#X&}'x!S%bm#f#g#j%]%`(R(](^(_*y*z*|,],s-q-w-x-y-{1n2f2g5j5{Q%nwQ%rxS%w{%|Q&T!SQ'X!gQ'Z!hQ(f#qS*Q$w*US+^%s%tQ+b%vQ+{&WQ,P&YS-Y'[']Q.V(gQ/Y*RQ0_+_Q0e+eQ0g+fQ0j+jQ1O+|S1S,Q,RQ2W-ZQ3f/UQ4^0aQ4b0dQ4g0lQ5R1TQ6c3gQ6x4`Q6{4dQ8b6wR9W8cv$yi#v%V%W%[)y){*T*i*j.^/]/{3e3}8W;_;g;h!S%px!h!s%r%s%t&{'Z'[']'a'k*]+^+_,v-Y-Z-b/g0_2P2W2_3yQ+W%nQ+q&QQ+t&RQ,O&YQ.U(fQ0}+{U1R,P,Q,RQ2o.VQ4|1OS5Q1S1TQ7c5R#O;c#t$b$c$w$z)p)v)|*Z+U+X+p+s.S/O/^/`0p0s0{2m3o3w4V4X4z6O6f6o7[7{8k8}9]9e:]:_:a:h:j:l:p:r:v;k;lg;d:W:X:^:`:b:i:k:m:q:s:wW%Oi%Q*k;_S&Q!P&_Q&R!QQ&S!RR+o&O$_$}i#t#v$b$c$w$z%V%W%[)p)v)y){)|*T*Z*i*j+U+X+p+s.S.^/O/]/^/`/{0p0s0{2m3e3o3w3}4V4X4z6O6f6o7[7{8W8k8}9]9e:W:X:]:^:_:`:a:b:h:i:j:k:l:m:p:q:r:s:v:w;_;g;h;k;lT)q$t)rV*o%U:Z:[U'Q!d%a,|S(t#x#yQ+i%yS.O(b(cQ0t+uQ4O/xR7R4m&zkOPWXYZstuv!Y!_!f!n#Q#U#X#b#m#s#w#z#}$O$P$Q$R$S$T$U$V$W$X$Z$`$d$l%e%k%x&a&d&e&h&j&k&m&q&y&}'W'h'x'z(Q(X(m(q(u)i)t*w*{+V,^,a,f,r,u-V-_-m-s.T.a.h.p/y0O0`0|1^1_1a1c1f1i1k1z2[2b2n2v3]4o4q4{5]5^5a5k5t6R7Y7_7n7x8g8x9p9s9t9w9x9y9z9{9|9}:O:P:Q:R:S:T:U:Y:c:d:e:g:n:o:t:u;b$i$_c#W#c%i%j%l'w'}(i(p(x(y(z({(|(})O)P)Q)R)S)U)X)])g+S+h,w-f-k-p-r.].c.g.i.j.k.z/|1u1x2Y2a2u2z2{2|2}3O3P3Q3R3S3T3U3V3W3Z3[3a4S4[5m5s5x6U6V6[6]7T7r7v8P8T8U8z9Y9a9r;UT#RV#S&{kOPWXYZstuv!Y!_!f!n#Q#U#X#b#m#s#w#z#}$O$P$Q$R$S$T$U$V$W$X$Z$`$d$l%e%k%x&a&d&e&h&j&k&m&q&y&}'W'h'x'z(Q(X(m(q(u)i)t*w*{+V,^,a,f,r,u-V-_-m-s.T.a.h.p/y0O0`0|1^1_1a1c1f1i1k1z2[2b2n2v3]4o4q4{5]5^5a5k5t6R7Y7_7n7x8g8x9p9s9t9w9x9y9z9{9|9}:O:P:Q:R:S:T:U:Y:c:d:e:g:n:o:t:u;bQ'O!dR1{,yv!mQ!d!q!t!w!x&|'T'U'b'c'd,y-P-R-c0y4t4vS*]${*cS/g*^*eQ/p*fQ0v+wQ3y/oR3|/rlqOXs!Y#b%e&h&j&k&m,a,f1f1iQ&o!]Q'l!vS(h#s9xQ+[%qQ+y&TQ+z&VQ-W'YQ-e'eS.[(m:eS/}*w:nQ0]+]Q0x+xQ1m,hQ1o,iQ1w,tQ2U-XQ2X-]S4T0O:tQ4Y0^S4]0`:uQ5l1yQ5p2VQ5u2^Q6v4ZQ7s5nQ7t5qQ7w5vR8w7p$d$^c#W#c%j%l'w'}(i(p(x(y(z({(|(})O)P)Q)R)S)U)X)])g+S+h,w-f-k-p-r.].c.g.j.k.z/|1u1x2Y2a2u2z2{2|2}3O3P3Q3R3S3T3U3V3W3Z3[3a4S4[5m5s5x6U6V6[6]7T7r7v8P8T8U8z9Y9a9r;US(e#n'_U*h$|(l3YS+R%i.iQ2k0VQ5}2jQ7}6QR9O8O$d$]c#W#c%j%l'w'}(i(p(x(y(z({(|(})O)P)Q)R)S)U)X)])g+S+h,w-f-k-p-r.].c.g.j.k.z/|1u1x2Y2a2u2z2{2|2}3O3P3Q3R3S3T3U3V3W3Z3[3a4S4[5m5s5x6U6V6[6]7T7r7v8P8T8U8z9Y9a9r;US(d#n'_S(v#y$^S+Q%i.iS.P(c(eQ.l)WQ0S+RR2h.Q&zkOPWXYZstuv!Y!_!f!n#Q#U#X#b#m#s#w#z#}$O$P$Q$R$S$T$U$V$W$X$Z$`$d$l%e%k%x&a&d&e&h&j&k&m&q&y&}'W'h'x'z(Q(X(m(q(u)i)t*w*{+V,^,a,f,r,u-V-_-m-s.T.a.h.p/y0O0`0|1^1_1a1c1f1i1k1z2[2b2n2v3]4o4q4{5]5^5a5k5t6R7Y7_7n7x8g8x9p9s9t9w9x9y9z9{9|9}:O:P:Q:R:S:T:U:Y:c:d:e:g:n:o:t:u;bS#o]9qQ&j!WQ&k!XQ&m!ZQ&n![R1e,dQ'V!gQ+T%nQ-U'XS.R(f+WQ2S-TW2l.U.V0U0WQ5o2TU5|2i2k2oS7z5}6PS8|7|7}S9c8{9OQ9k9dR9n9lU!uQ'U-RT4r0y4t!O_OXZ`s!U!Y#b#f%]%e&_&a&h&j&k&m(_,a,f-x1f1i]!oQ!q'U-R0y4tT#o]9q%WzOPWXYZstuv!Y!_!f!n#Q#U#X#b#m#s#w#z#}$O$P$Q$R$S$T$U$V$W$X$`$d%e%k%x&a&d&e&h&j&k&m&q&y'W'h'x'z(Q(X(m(q(u)t*w*{+V,^,a,f-V-_-m-s.T.a.h/y0O0`0|1^1_1a1c1f1i1k2[2b2n2v4q4{5]5^5a5t6R7Y7_7n7xS(t#x#yS.O(b(c!s:{$Z$l&})i,r,u.p1z3]4o5k8g8x9p9s9t9w9x9y9z9{9|9}:O:P:Q:R:S:T:U:Y:c:d:e:g:n:o:t:u;bY!sQ'U-R0y4tQ'a!qS'k!t!wS'm!x4vS-b'b'cQ-d'dR2_-cQ'j!sS(Z#e1`S-a'a'mQ/X*QQ/e*]Q2`-dQ3k/YS3t/f/pQ6b3fS6m3z3|Q8Y6cR8a6pQ#ubQ'i!sS(Y#e1`S([#k*vQ*x%^Q+Y%oQ+`%uU-`'a'j'mQ-t(ZQ/W*QQ/d*]Q/j*`Q0[+ZQ1P+}S2]-a-dQ2e-|S3j/X/YS3s/e/pQ3v/iQ3x/kQ5O1QQ5w2`Q6a3fQ6e3kS6i3t3|Q6n3{Q7a5PS8X6b6cQ8]6jQ8_6mQ8n7bQ9S8YQ9T8^Q9V8aQ9_8oQ9g9UQ;O:yQ;Z;SR;[;TV!uQ'U-R%WaOPWXYZstuv!Y!_!f!n#Q#U#X#b#m#s#w#z#}$O$P$Q$R$S$T$U$V$W$X$`$d%e%k%x&a&d&e&h&j&k&m&q&y'W'h'x'z(Q(X(m(q(u)t*w*{+V,^,a,f-V-_-m-s.T.a.h/y0O0`0|1^1_1a1c1f1i1k2[2b2n2v4q4{5]5^5a5t6R7Y7_7n7xS#uy!i!r:x$Z$l&})i,r,u.p1z3]4o5k8g8x9p9s9t9w9x9y9z9{9|9}:O:P:Q:R:S:T:U:Y:c:d:e:g:n:o:t:u;bR;O;a%WbOPWXYZstuv!Y!_!f!n#Q#U#X#b#m#s#w#z#}$O$P$Q$R$S$T$U$V$W$X$`$d%e%k%x&a&d&e&h&j&k&m&q&y'W'h'x'z(Q(X(m(q(u)t*w*{+V,^,a,f-V-_-m-s.T.a.h/y0O0`0|1^1_1a1c1f1i1k2[2b2n2v4q4{5]5^5a5t6R7Y7_7n7xQ%^j!S%ox!h!s%r%s%t&{'Z'[']'a'k*]+^+_,v-Y-Z-b/g0_2P2W2_3yS%uy!iQ+Z%pQ+}&YW1Q,O,P,Q,RU5P1R1S1TS7b5Q5RQ8o7c!r:y$Z$l&})i,r,u.p1z3]4o5k8g8x9p9s9t9w9x9y9z9{9|9}:O:P:Q:R:S:T:U:Y:c:d:e:g:n:o:t:u;bQ;S;`R;T;a$zeOPXYstuv!Y!_!f!n#Q#b#m#s#w#z#}$O$P$Q$R$S$T$U$V$W$X$`$d%e%k%x&a&d&h&j&k&m&q&y'W'h'z(Q(X(m(q(u)t*w*{+V,^,a,f-V-_-m-s.T.a.h/y0O0`0|1^1_1a1c1f1i1k2[2b2n2v4q4{5]5^5a5t6R7Y7_7n7xY#`WZ#U#X'x!S%bm#f#g#j%]%`(R(](^(_*y*z*|,],s-q-w-x-y-{1n2f2g5j5{Q,[&e!p:z$Z$l)i,r,u.p1z3]4o5k8g8x9p9s9t9w9x9y9z9{9|9}:O:P:Q:R:S:T:U:Y:c:d:e:g:n:o:t:u;bR:}&}S'R!d%aR1},|$|dOPWXYZstuv!Y!_!f!n#Q#U#X#b#m#s#w#z#}$O$P$Q$R$S$T$U$V$W$X$`$d%e%k%x&a&d&h&j&k&m&q&y'W'h'x'z(Q(X(m(q(u)t*w*{,^,a,f-V-_-m-s.a.h/y0O0`0|1^1_1a1c1f1i1k2[2b2v4q4{5]5^5a5t7Y7_7n7x!r)V$Z$l&})i,r,u.p1z3]4o5k8g8x9p9s9t9w9x9y9z9{9|9}:O:P:Q:R:S:T:U:Y:c:d:e:g:n:o:t:u;bQ,Z&eQ0V+VQ2j.TQ6Q2nR8O6R!f$Tc#W%i'w'}(i(p)P)Q)R)S)X)]+h-f-k-p-r.].c.z/|2Y2a2u3W4S4[5s5x6U7v8z9r!T:P)U)g,w.i1u1x2z3S3T3U3V3Z3a5m6V6[6]7T7r8P8T8U9Y9a;U!b$Vc#W%i'w'}(i(p)R)S)X)]+h-f-k-p-r.].c.z/|2Y2a2u3W4S4[5s5x6U7v8z9r!P:R)U)g,w.i1u1x2z3U3V3Z3a5m6V6[6]7T7r8P8T8U9Y9a;U!^$Zc#W%i'w'}(i(p)X)]+h-f-k-p-r.].c.z/|2Y2a2u3W4S4[5s5x6U7v8z9rQ3e/Sz;b)U)g,w.i1u1x2z3Z3a5m6V6[6]7T7r8P8T8U9Y9a;UQ;g;iR;h;j&zkOPWXYZstuv!Y!_!f!n#Q#U#X#b#m#s#w#z#}$O$P$Q$R$S$T$U$V$W$X$Z$`$d$l%e%k%x&a&d&e&h&j&k&m&q&y&}'W'h'x'z(Q(X(m(q(u)i)t*w*{+V,^,a,f,r,u-V-_-m-s.T.a.h.p/y0O0`0|1^1_1a1c1f1i1k1z2[2b2n2v3]4o4q4{5]5^5a5k5t6R7Y7_7n7x8g8x9p9s9t9w9x9y9z9{9|9}:O:P:Q:R:S:T:U:Y:c:d:e:g:n:o:t:u;bS$mh$nR3^.o'RgOPWXYZhstuv!Y!_!f!n#Q#U#X#b#m#s#w#z#}$O$P$Q$R$S$T$U$V$W$X$Z$`$d$l$n%e%k%x&a&d&e&h&j&k&m&q&y&}'W'h'x'z(Q(X(m(q(u)i)t*w*{+V,^,a,f,r,u-V-_-m-s.T.a.h.o.p/y0O0`0|1^1_1a1c1f1i1k1z2[2b2n2v3]4o4q4{5]5^5a5k5t6R7Y7_7n7x8g8x9p9s9t9w9x9y9z9{9|9}:O:P:Q:R:S:T:U:Y:c:d:e:g:n:o:t:u;bT$if$oQ$gfS)`$j)dR)l$oT$hf$oT)b$j)d'RhOPWXYZhstuv!Y!_!f!n#Q#U#X#b#m#s#w#z#}$O$P$Q$R$S$T$U$V$W$X$Z$`$d$l$n%e%k%x&a&d&e&h&j&k&m&q&y&}'W'h'x'z(Q(X(m(q(u)i)t*w*{+V,^,a,f,r,u-V-_-m-s.T.a.h.o.p/y0O0`0|1^1_1a1c1f1i1k1z2[2b2n2v3]4o4q4{5]5^5a5k5t6R7Y7_7n7x8g8x9p9s9t9w9x9y9z9{9|9}:O:P:Q:R:S:T:U:Y:c:d:e:g:n:o:t:u;bT$mh$nQ$phR)k$n%WjOPWXYZstuv!Y!_!f!n#Q#U#X#b#m#s#w#z#}$O$P$Q$R$S$T$U$V$W$X$`$d%e%k%x&a&d&e&h&j&k&m&q&y'W'h'x'z(Q(X(m(q(u)t*w*{+V,^,a,f-V-_-m-s.T.a.h/y0O0`0|1^1_1a1c1f1i1k2[2b2n2v4q4{5]5^5a5t6R7Y7_7n7x!s;`$Z$l&})i,r,u.p1z3]4o5k8g8x9p9s9t9w9x9y9z9{9|9}:O:P:Q:R:S:T:U:Y:c:d:e:g:n:o:t:u;b#alOPXZs!Y!_!n#Q#b#m#z$l%e&a&d&e&h&j&k&m&q&y'W(u)i*{+V,^,a,f-V.T.p/y0|1^1_1a1c1f1i1k2n3]4q4{5]5^5a6R7Y7_7nv$|i#v%V%W%[)y){*T*i*j.^/]/{3e3}8W;_;g;h#O(l#t$b$c$w$z)p)v)|*Z+U+X+p+s.S/O/^/`0p0s0{2m3o3w4V4X4z6O6f6o7[7{8k8}9]9e:]:_:a:h:j:l:p:r:v;k;lQ*s%YQ.{)ug3Y:W:X:^:`:b:i:k:m:q:s:wv$xi#v%V%W%[)y){*T*i*j.^/]/{3e3}8W;_;g;hQ*V$yS*`${*cQ*t%ZQ/k*a#O;Q#t$b$c$w$z)p)v)|*Z+U+X+p+s.S/O/^/`0p0s0{2m3o3w4V4X4z6O6f6o7[7{8k8}9]9e:]:_:a:h:j:l:p:r:v;k;lf;R:W:X:^:`:b:i:k:m:q:s:wQ;V;cQ;W;dQ;X;eR;Y;fv$|i#v%V%W%[)y){*T*i*j.^/]/{3e3}8W;_;g;h#O(l#t$b$c$w$z)p)v)|*Z+U+X+p+s.S/O/^/`0p0s0{2m3o3w4V4X4z6O6f6o7[7{8k8}9]9e:]:_:a:h:j:l:p:r:v;k;lg3Y:W:X:^:`:b:i:k:m:q:s:wloOXs!Y#b%e&h&j&k&m,a,f1f1iQ*Y$zQ,o&tQ,p&vR3n/^$^$}i#t#v$b$c$w$z%V%W%[)p)v)y){)|*T*Z*i*j+U+X+p+s.S.^/O/]/^/`/{0p0s0{2m3e3o3w3}4V4X4z6O6f6o7[7{8W8k8}9]9e:W:X:]:^:_:`:a:b:h:i:j:k:l:m:p:q:r:s:v:w;_;g;h;k;lQ+r&RQ0r+tQ4k0qR7Q4lT*b${*cS*b${*cT4s0y4tS/i*_4qT3{/q7YQ+Y%oQ/j*`Q0[+ZQ1P+}Q5O1QQ7a5PQ8n7bR9_8on)y$u(n*u/[/s/t2s3l4R6`6q9R;P;];^!Y:h(j)Z*P*X.Z.w.|/S/a0T0o0q2r3m3q4j4l6S6T6g6k6s6u8[8`9f;i;j]:i3X6Z8Q9P9Q9op){$u(n*u/Q/[/s/t2s3l4R6`6q9R;P;];^![:j(j)Z*P*X.Z.w.|/S/a0T0o0q2p2r3m3q4j4l6S6T6g6k6s6u8[8`9f;i;j_:k3X6Z8Q8R9P9Q9opnOXs!U!Y#b%e&_&h&j&k&m,a,f1f1iQ&[!TR,^&epnOXs!U!Y#b%e&_&h&j&k&m,a,f1f1iR&[!TQ+v&SR0n+oqnOXs!U!Y#b%e&_&h&j&k&m,a,f1f1iQ0z+{S4y0}1OU7Z4w4x4|S8j7]7^S9Z8i8lQ9h9[R9m9iQ&c!UR,V&_R5V1WS%w{%|R0g+fQ&h!VR,a&iR,g&nT1g,f1iR,k&oQ,j&oR1p,kQ'o!yR-g'oQsOQ#bXT%hs#bQ!|TR'q!|Q#PUR's#PQ)r$tR.x)rQ#SVR'u#SQ#VWU'{#V'|-nQ'|#WR-n'}Q,z'OR1|,zQ._(nR2t._Q.b(pS2w.b2xR2x.cQ-R'UR2Q-RY!qQ'U-R0y4tR'`!qS#]W%`U(S#](T-oQ(T#^R-o(OQ,}'RR2O,}r`OXs!U!Y#b%e&_&a&h&j&k&m,a,f1f1iS#fZ%]U#p`#f-xR-x(_Q(`#hQ-u([W-}(`-u2c5yQ2c-vR5y2dQ)d$jR.q)dQ$nhR)j$nQ$acU)Y$a-j:VQ-j9rR:V)gQ/V*QW3h/V3i6d8ZU3i/W/X/YS6d3j3kR8Z6e#o)w$u(j(n)Z*P*X*p*q*u.X.Y.Z.w.|/Q/R/S/[/a/s/t0T0o0q2p2q2r2s3X3l3m3q4R4j4l6S6T6X6Y6Z6`6g6k6q6s6u8Q8R8S8[8`9P9Q9R9f9o;P;];^;i;jQ/_*XU3p/_3r6hQ3r/aR6h3qQ*c${R/m*cQ*l%PR/v*lQ4W0TR6t4WQ*}%cR0R*}Q4n0tS7S4n8hR8h7TQ+x&TR0w+xQ4t0yR7W4tQ1V,SS5T1V7eR7e5VQ0b+bW4a0b4c6z8dQ4c0eQ6z4bR8d6{Q+g%wR0h+gQ1i,fR5e1iWrOXs#bQ&l!YQ+P%eQ,`&hQ,b&jQ,c&kQ,e&mQ1d,aS1g,f1iR5d1fQ%gpQ&p!^Q&s!`Q&u!aQ&w!bQ'g!sQ+O%dQ+[%qQ+n%}Q,U&cQ,m&rW-^'a'i'j'mQ-e'eQ/l*bQ0]+]S1Y,V,YQ1q,lQ1r,oQ1s,pQ2X-]W2Z-`-a-d-fQ4Y0^Q4f0kQ4i0oQ4}1PQ5X1[Q5c1eU5r2Y2]2`Q5u2^Q6v4ZQ7O4hQ7P4jQ7V4sQ7`5OQ7f5WS7u5s5wQ7w5vQ8e6|Q8m7aQ8r7gQ8y7vQ9X8fQ9^8nQ9b8zR9j9_Q%qxQ'Y!hQ'e!sU+]%r%s%tQ,t&{U-X'Z'[']S-]'a'kQ/c*]S0^+^+_Q1y,vS2V-Y-ZQ2^-bQ3u/gQ4Z0_Q5n2PQ5q2WQ5v2_R6l3yS$vi;_R*m%QU%Pi%Q;_R/u*kQ$uiS(j#t+XQ(n#vS)Z$b$cQ*P$wQ*X$zQ*p%VQ*q%WQ*u%[Q.X:]Q.Y:_Q.Z:aQ.w)pS.|)v/OQ/Q)yQ/R){Q/S)|Q/[*TQ/a*ZQ/s*iQ/t*jh0T+U.S0{2m4z6O7[7{8k8}9]9eQ0o+pQ0q+sQ2p:hQ2q:jQ2r:lQ2s.^S3X:W:XQ3l/]Q3m/^Q3q/`Q4R/{Q4j0pQ4l0sQ6S:pQ6T:rQ6X:^Q6Y:`Q6Z:bQ6`3eQ6g3oQ6k3wQ6q3}Q6s4VQ6u4XQ8Q:mQ8R:iQ8S:kQ8[6fQ8`6oQ9P:qQ9Q:sQ9R8WQ9f:vQ9o:wQ;P;_Q;];gQ;^;hQ;i;kR;j;llpOXs!Y#b%e&h&j&k&m,a,f1f1iQ!ePS#dZ#mQ&r!_U'^!n4q7YQ't#QQ(w#zQ)h$lS,Y&a&dQ,_&eQ,l&qQ,q&yQ-T'WQ.e(uQ.u)iQ0P*{Q0W+VQ1b,^Q2T-VQ2k.TQ3`.pQ4P/yQ4x0|Q5Z1^Q5[1_Q5`1aQ5b1cQ5g1kQ5}2nQ6^3]Q7^4{Q7j5]Q7k5^Q7m5aQ7}6RQ8l7_R8v7n#UcOPXZs!Y!_!n#b#m#z%e&a&d&e&h&j&k&m&q&y'W(u*{+V,^,a,f-V.T/y0|1^1_1a1c1f1i1k2n4q4{5]5^5a6R7Y7_7nQ#WWQ#cYQ%itQ%juS%lv!fS'w#U'zQ'}#XQ(i#sQ(p#wQ(x#}Q(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)R$WQ)S$XQ)U$ZQ)X$`Q)]$dW)g$l)i.p3]Q+S%kQ+h%xS,w&}1zQ-f'hS-k'x-mQ-p(QQ-r(XQ.](mQ.c(qQ.g9pQ.i9sQ.j9tQ.k9wQ.z)tQ/|*wQ1u,rQ1x,uQ2Y-_Q2a-sQ2u.aQ2z9xQ2{9yQ2|9zQ2}9{Q3O9|Q3P9}Q3Q:OQ3R:PQ3S:QQ3T:RQ3U:SQ3V:TQ3W.hQ3Z:YQ3[:cQ3a:UQ4S0OQ4[0`Q5m:dQ5s2[Q5x2bQ6U2vQ6V:eQ6[:gQ6]:nQ7T4oQ7r5kQ7v5tQ8P:oQ8T:tQ8U:uQ8z7xQ9Y8gQ9a8xQ9r#QR;U;bR#YWR'P!dY!sQ'U-R0y4tS&{!d,yQ'a!qS'k!t!wS'm!x4vS,v&|'TS-b'b'cQ-d'dQ2P-PR2_-cR(o#vR(r#wQ!eQT-Q'U-R]!pQ!q'U-R0y4tQ#n]R'_9qT#iZ%]S#hZ%]S%cm,]U([#f#g#jS-v(](^Q-z(_Q0Q*|Q2d-wU2e-x-y-{S5z2f2gR7y5{`#[W#U#X%`'x(R*y-qr#eZm#f#g#j%](](^(_*|-w-x-y-{2f2g5{Q1`,]Q1v,sQ5i1nQ7q5jT:|&}*zT#_W%`S#^W%`S'y#U(RS(O#X*yS,x&}*zT-l'x-qT'S!d%aQ$jfR)n$oT)c$j)dR3_.oT*S$w*UR*[$zQ0U+UQ2i.SQ4w0{Q6P2mQ7]4zQ7|6OQ8i7[Q8{7{Q9[8kQ9d8}Q9i9]R9l9elqOXs!Y#b%e&h&j&k&m,a,f1f1iQ&b!UR,U&_rmOXs!T!U!Y#b%e&_&h&j&k&m,a,f1f1iR,]&eT%dm,]R0u+uR,T&]Q%{{R+m%|R+c%vT&f!V&iT&g!V&iT1h,f1i",nodeNames:"⚠ ArithOp ArithOp LineComment BlockComment Script ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:366,context:mE,nodeProps:[["group",-26,6,14,16,62,199,203,207,208,210,213,216,226,228,234,236,238,240,243,249,255,257,259,261,263,265,266,"Statement",-32,10,11,25,28,29,35,45,48,49,51,56,64,72,76,78,80,81,103,104,113,114,131,134,136,137,138,139,141,142,162,163,165,"Expression",-23,24,26,30,34,36,38,166,168,170,171,173,174,175,177,178,179,181,182,183,193,195,197,198,"Type",-3,84,96,102,"ClassItem"],["openedBy",31,"InterpolationStart",50,"[",54,"{",69,"(",143,"JSXStartTag",155,"JSXStartTag JSXStartCloseTag"],["closedBy",33,"InterpolationEnd",44,"]",55,"}",70,")",144,"JSXSelfCloseEndTag JSXEndTag",160,"JSXEndTag"]],propSources:[vE],skippedNodes:[0,3,4,269],repeatNodeCount:33,tokenData:"$>y(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tu>PuvBavwDxwxGgxyMvyz! Qz{!![{|!%O|}!&]}!O!%O!O!P!'g!P!Q!1w!Q!R#0t!R![#3T![!]#@T!]!^#Aa!^!_#Bk!_!`#GS!`!a#In!a!b#N{!b!c$$z!c!}>P!}#O$&U#O#P$'`#P#Q$,w#Q#R$.R#R#S>P#S#T$/`#T#o$0j#o#p$4z#p#q$5p#q#r$7Q#r#s$8^#s$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$I|>P$I|$I}$<s$I}$JO$<s$JO$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(n%d_$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$d&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$d&j'{!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'{!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$d&j'xpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'xpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'xp'{!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$d&j'xp'{!b'n(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'y#S$d&j'o(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$d&j'xp'{!b'o(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$d&j!l$Ip'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#q$Id$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#q$Id$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'w$(n$d&j'{!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$d&j'{!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$d&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$_#t$d&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$_#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$_#t$d&j'{!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'{!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$_#t'{!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hg$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|<[i$d&j(b!L^'xp'{!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!Q%Z!Q![<P![!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|=|P;=`<%l<P(CS>`k$d&j'xp'{!b(V!LY'u&;d$W#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P+d@`k$d&j'xp'{!b$W#tOY%ZYZ&cZr%Zrs&}st%Ztu@Tuw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![@T![!^%Z!^!_*g!_!c%Z!c!}@T!}#O%Z#O#P&c#P#R%Z#R#S@T#S#T%Z#T#o@T#o#p*g#p$g%Z$g;'S@T;'S;=`BT<%lO@T+dBWP;=`<%l@T(CSB^P;=`<%l>P%#SBl`$d&j'xp'{!b#i$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SCy_$d&j#{$Id'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfETa(k%<v$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sv%ZvwFYwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SFe`$d&j#u$Id'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2bGp_'z$)`$d&j'xpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo*QHv_$d&j'xpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo)`IzX$d&jOwIuwx6cx!^Iu!^!_Jg!_#oIu#o#pJg#p;'SIu;'S;=`KP<%lOIu#tJjTOwJgwx7]x;'SJg;'S;=`Jy<%lOJg#tJ|P;=`<%lJg)`KSP;=`<%lIu*QK`]$_#t$d&j'xpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$fL^Z'xpOYLXYZJgZrLXrsJgswLXwxMPx#OLX#O#PJg#P;'SLX;'S;=`Mj<%lOLX$fMWU$_#t'xpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$fMmP;=`<%lLX*QMsP;=`<%lHo(*QNR_!h(!b$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l! ]_!gM|$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!!ib$d&j'xp'{!b'v#)d#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!#q{!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!#|`$d&j'xp'{!b#g$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!%Z`$d&j'xp'{!bk&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!&h_!V&;l$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!'rc$d&j'xp'{!by'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!(}!P!Q%Z!Q![!+g![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!)Wa$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!*]!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!*h_!UMt$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!+rg$d&j'xp'{!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!+g![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S!+g#S#X%Z#X#Y!-Z#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!-dg$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!.{|}%Z}!O!.{!O!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!/Uc$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!0lc$d&j'xp'{!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!2Sf$d&j'xp'{!b#h$IdOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}xz!3hz{#$s{!P!3h!P!Q#&Y!Q!^!3h!^!_!Mh!_!`#-x!`!a#/_!a!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(r!3sb$d&j'xp'{!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(Q!5U`$d&j'{!b!RSOY!4{YZ&cZw!4{wx!6Wx!P!4{!P!Q!=o!Q!^!4{!^!_!?g!_!}!4{!}#O!Bn#O#P!<w#P#o!4{#o#p!?g#p;'S!4{;'S;=`!Cw<%lO!4{&n!6_^$d&j!RSOY!6WYZ&cZ!P!6W!P!Q!7Z!Q!^!6W!^!_!8g!_!}!6W!}#O!;U#O#P!<w#P#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!7ba$d&j!RSO!^&c!_#Z&c#Z#[!7Z#[#]&c#]#^!7Z#^#a&c#a#b!7Z#b#g&c#g#h!7Z#h#i&c#i#j!7Z#j#m&c#m#n!7Z#n#o&c#p;'S&c;'S;=`&w<%lO&cS!8lX!RSOY!8gZ!P!8g!P!Q!9X!Q!}!8g!}#O!9p#O#P!:o#P;'S!8g;'S;=`!;O<%lO!8gS!9^U!RS#Z#[!9X#]#^!9X#a#b!9X#g#h!9X#i#j!9X#m#n!9XS!9sVOY!9pZ#O!9p#O#P!:Y#P#Q!8g#Q;'S!9p;'S;=`!:i<%lO!9pS!:]SOY!9pZ;'S!9p;'S;=`!:i<%lO!9pS!:lP;=`<%l!9pS!:rSOY!8gZ;'S!8g;'S;=`!;O<%lO!8gS!;RP;=`<%l!8g&n!;Z[$d&jOY!;UYZ&cZ!^!;U!^!_!9p!_#O!;U#O#P!<P#P#Q!6W#Q#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<UX$d&jOY!;UYZ&cZ!^!;U!^!_!9p!_#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<tP;=`<%l!;U&n!<|X$d&jOY!6WYZ&cZ!^!6W!^!_!8g!_#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!=lP;=`<%l!6W(Q!=xi$d&j'{!b!RSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!=o#[#]&}#]#^!=o#^#a&}#a#b!=o#b#g&}#g#h!=o#h#i&}#i#j!=o#j#m&}#m#n!=o#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!?nZ'{!b!RSOY!?gZw!?gwx!8gx!P!?g!P!Q!@a!Q!}!?g!}#O!Ap#O#P!:o#P;'S!?g;'S;=`!Bh<%lO!?g!f!@hb'{!b!RSOY'}Zw'}x#O'}#P#Z'}#Z#[!@a#[#]'}#]#^!@a#^#a'}#a#b!@a#b#g'}#g#h!@a#h#i'}#i#j!@a#j#m'}#m#n!@a#n;'S'};'S;=`(f<%lO'}!f!AuX'{!bOY!ApZw!Apwx!9px#O!Ap#O#P!:Y#P#Q!?g#Q;'S!Ap;'S;=`!Bb<%lO!Ap!f!BeP;=`<%l!Ap!f!BkP;=`<%l!?g(Q!Bu^$d&j'{!bOY!BnYZ&cZw!Bnwx!;Ux!^!Bn!^!_!Ap!_#O!Bn#O#P!<P#P#Q!4{#Q#o!Bn#o#p!Ap#p;'S!Bn;'S;=`!Cq<%lO!Bn(Q!CtP;=`<%l!Bn(Q!CzP;=`<%l!4{'`!DW`$d&j'xp!RSOY!C}YZ&cZr!C}rs!6Ws!P!C}!P!Q!EY!Q!^!C}!^!_!GQ!_!}!C}!}#O!JX#O#P!<w#P#o!C}#o#p!GQ#p;'S!C};'S;=`!Kb<%lO!C}'`!Eci$d&j'xp!RSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!EY#[#](r#]#^!EY#^#a(r#a#b!EY#b#g(r#g#h!EY#h#i(r#i#j!EY#j#m(r#m#n!EY#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!GXZ'xp!RSOY!GQZr!GQrs!8gs!P!GQ!P!Q!Gz!Q!}!GQ!}#O!IZ#O#P!:o#P;'S!GQ;'S;=`!JR<%lO!GQt!HRb'xp!RSOY)rZr)rs#O)r#P#Z)r#Z#[!Gz#[#])r#]#^!Gz#^#a)r#a#b!Gz#b#g)r#g#h!Gz#h#i)r#i#j!Gz#j#m)r#m#n!Gz#n;'S)r;'S;=`*Z<%lO)rt!I`X'xpOY!IZZr!IZrs!9ps#O!IZ#O#P!:Y#P#Q!GQ#Q;'S!IZ;'S;=`!I{<%lO!IZt!JOP;=`<%l!IZt!JUP;=`<%l!GQ'`!J`^$d&j'xpOY!JXYZ&cZr!JXrs!;Us!^!JX!^!_!IZ!_#O!JX#O#P!<P#P#Q!C}#Q#o!JX#o#p!IZ#p;'S!JX;'S;=`!K[<%lO!JX'`!K_P;=`<%l!JX'`!KeP;=`<%l!C}(r!Ksk$d&j'xp'{!b!RSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[!Kh#[#]%Z#]#^!Kh#^#a%Z#a#b!Kh#b#g%Z#g#h!Kh#h#i%Z#i#j!Kh#j#m%Z#m#n!Kh#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W!Mq]'xp'{!b!RSOY!MhZr!Mhrs!?gsw!Mhwx!GQx!P!Mh!P!Q!Nj!Q!}!Mh!}#O#!U#O#P!:o#P;'S!Mh;'S;=`##U<%lO!Mh#W!Nse'xp'{!b!RSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[!Nj#[#]*g#]#^!Nj#^#a*g#a#b!Nj#b#g*g#g#h!Nj#h#i*g#i#j!Nj#j#m*g#m#n!Nj#n;'S*g;'S;=`+Z<%lO*g#W#!]Z'xp'{!bOY#!UZr#!Urs!Apsw#!Uwx!IZx#O#!U#O#P!:Y#P#Q!Mh#Q;'S#!U;'S;=`##O<%lO#!U#W##RP;=`<%l#!U#W##XP;=`<%l!Mh(r##e`$d&j'xp'{!bOY##[YZ&cZr##[rs!Bnsw##[wx!JXx!^##[!^!_#!U!_#O##[#O#P!<P#P#Q!3h#Q#o##[#o#p#!U#p;'S##[;'S;=`#$g<%lO##[(r#$jP;=`<%l##[(r#$pP;=`<%l!3h(CS#%Qb$d&j'xp'{!b'p(;d!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(CS#&e_$d&j'xp'{!bR(;dOY#&YYZ&cZr#&Yrs#'dsw#&Ywx#*tx!^#&Y!^!_#,s!_#O#&Y#O#P#(f#P#o#&Y#o#p#,s#p;'S#&Y;'S;=`#-r<%lO#&Y(Bb#'m]$d&j'{!bR(;dOY#'dYZ&cZw#'dwx#(fx!^#'d!^!_#)w!_#O#'d#O#P#(f#P#o#'d#o#p#)w#p;'S#'d;'S;=`#*n<%lO#'d(AO#(mX$d&jR(;dOY#(fYZ&cZ!^#(f!^!_#)Y!_#o#(f#o#p#)Y#p;'S#(f;'S;=`#)q<%lO#(f(;d#)_SR(;dOY#)YZ;'S#)Y;'S;=`#)k<%lO#)Y(;d#)nP;=`<%l#)Y(AO#)tP;=`<%l#(f(<v#*OW'{!bR(;dOY#)wZw#)wwx#)Yx#O#)w#O#P#)Y#P;'S#)w;'S;=`#*h<%lO#)w(<v#*kP;=`<%l#)w(Bb#*qP;=`<%l#'d(Ap#*}]$d&j'xpR(;dOY#*tYZ&cZr#*trs#(fs!^#*t!^!_#+v!_#O#*t#O#P#(f#P#o#*t#o#p#+v#p;'S#*t;'S;=`#,m<%lO#*t(<U#+}W'xpR(;dOY#+vZr#+vrs#)Ys#O#+v#O#P#)Y#P;'S#+v;'S;=`#,g<%lO#+v(<U#,jP;=`<%l#+v(Ap#,pP;=`<%l#*t(=h#,|Y'xp'{!bR(;dOY#,sZr#,srs#)wsw#,swx#+vx#O#,s#O#P#)Y#P;'S#,s;'S;=`#-l<%lO#,s(=h#-oP;=`<%l#,s(CS#-uP;=`<%l#&Y%#W#.Vb$d&j#{$Id'xp'{!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h+h#/lb$T#t$d&j'xp'{!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h$/l#1Pp$d&j'xp'{!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#U%Z#U#V#6_#V#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#d#9g#d#l%Z#l#m#<i#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#3`k$d&j'xp'{!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#5`_$d&j'xp'{!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#6hd$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#8Rf$d&j'xp'{!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#9pc$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;We$d&j'xp'{!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#<rg$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>fi$d&j'xp'{!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#@b_!a$b$d&j#y%<f'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Al_^l$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Bz^(O!*v!e'.r'xp'{!b$U)d(oSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Cv!Q!^*g!^!_#Dl!_!`#F^!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#DPX$f&j'xp'{!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#DuZ#k$Id'xp'{!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Eh!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#EqX#{$Id'xp'{!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#FgX#l$Id'xp'{!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh#G_a#X%?x$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a#Hd!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W#Ho_#d$Ih$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#I}adBf#l$Id$a#|$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`#KS!`!a#L^!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#K__#l$Id$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#Lia#k$Id$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`!a#Mn!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#My`#k$Id$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$ Wc(c$Ip$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$!c!P!^%Z!^!_*g!_!a%Z!a!b$#m!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$!n_z'#p$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$#x`$d&j#v$Id'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$%V_!x!Ln$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$&a_|(8n$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$'eZ$d&jO!^$(W!^!_$(n!_#i$(W#i#j$(s#j#l$(W#l#m$*f#m#o$(W#o#p$(n#p;'S$(W;'S;=`$,q<%lO$(W(n$(_T[#S$d&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$(sO[#S(n$(x[$d&jO!Q&c!Q![$)n![!^&c!_!c&c!c!i$)n!i#T&c#T#Z$)n#Z#o&c#o#p$,U#p;'S&c;'S;=`&w<%lO&c(n$)sZ$d&jO!Q&c!Q![$*f![!^&c!_!c&c!c!i$*f!i#T&c#T#Z$*f#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$*kZ$d&jO!Q&c!Q![$+^![!^&c!_!c&c!c!i$+^!i#T&c#T#Z$+^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$+cZ$d&jO!Q&c!Q![$(W![!^&c!_!c&c!c!i$(W!i#T&c#T#Z$(W#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$,XR!Q![$,b!c!i$,b#T#Z$,b#S$,eS!Q![$,b!c!i$,b#T#Z$,b#q#r$(n(n$,tP;=`<%l$(W!2r$-S_!S!+S$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$.^`#s$Id$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$/k_$d&j'xp'{!b(S&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$0yk$d&j'xp'{!b(V!LY'u&;d$Y#tOY%ZYZ&cZr%Zrs&}st%Ztu$0juw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$0j![!^%Z!^!_*g!_!c%Z!c!}$0j!}#O%Z#O#P&c#P#R%Z#R#S$0j#S#T%Z#T#o$0j#o#p*g#p$g%Z$g;'S$0j;'S;=`$4t<%lO$0j+d$2yk$d&j'xp'{!b$Y#tOY%ZYZ&cZr%Zrs&}st%Ztu$2nuw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$2n![!^%Z!^!_*g!_!c%Z!c!}$2n!}#O%Z#O#P&c#P#R%Z#R#S$2n#S#T%Z#T#o$2n#o#p*g#p$g%Z$g;'S$2n;'S;=`$4n<%lO$2n+d$4qP;=`<%l$2n(CS$4wP;=`<%l$0j!5p$5TX!X!3l'xp'{!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$5{a(j%<v$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$#m#q;'S%Z;'S;=`+a<%lO%Z%#`$7__!W$I`o`$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$8i_!mS$d&j'xp'{!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$9y|$d&j'xp'{!b'n(;d(V!LY'u&;d$W#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(CS$=Uk$d&j'xp'{!b'o(;d(V!LY'u&;d$W#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P",tokenizers:[OE,yE,2,3,4,5,6,7,8,9,10,11,12,13,gE,new Vf("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOq~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!O~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(U~~",141,327),new Vf("j~RQYZXz{^~^O'r~~aP!P!Qd~iO's~~",25,309)],topRules:{Script:[0,5],SingleExpression:[1,267],SingleClassItem:[2,268]},dialects:{jsx:12794,ts:12796},dynamicPrecedences:{76:1,78:1,163:1,191:1},specialized:[{term:313,get:i=>xE[i]||-1},{term:329,get:i=>SE[i]||-1},{term:67,get:i=>bE[i]||-1}],tokenPrec:12820});var cu;const Pr=new _e;function Rx(i){return pe.define({combine:i?e=>e.concat(i):void 0})}const jd=new _e;class Vi{constructor(e,t,n=[],s=""){this.data=e,this.name=s,Ve.prototype.hasOwnProperty("tree")||Object.defineProperty(Ve.prototype,"tree",{get(){return St(this)}}),this.parser=t,this.extension=[Ss.of(this),Ve.languageData.of((r,o,a)=>{let l=rO(r,o,a),h=l.type.prop(Pr);if(!h)return[];let c=r.facet(h),f=l.type.prop(jd);if(f){let p=l.resolve(o-l.from,a);for(let g of f)if(g.test(p,r)){let y=r.facet(g.facet);return g.type=="replace"?y:y.concat(c)}}return c})].concat(n)}isActiveAt(e,t,n=-1){return rO(e,t,n).type.prop(Pr)==this.data}findRegions(e){let t=e.facet(Ss);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],s=(r,o)=>{if(r.prop(Pr)==this.data){n.push({from:o,to:o+r.length});return}let a=r.prop(_e.mounted);if(a){if(a.tree.prop(Pr)==this.data){if(a.overlay)for(let l of a.overlay)n.push({from:l.from+o,to:l.to+o});else n.push({from:o,to:o+r.length});return}else if(a.overlay){let l=n.length;if(s(a.tree,a.overlay[0].from+o),n.length>l)return}}for(let l=0;l<r.children.length;l++){let h=r.children[l];h instanceof Et&&s(h,r.positions[l]+o)}};return s(St(e),0),n}get allowsNesting(){return!0}}Vi.setState=$e.define();function rO(i,e,t){let n=i.facet(Ss),s=St(i).topNode;if(!n||n.allowsNesting)for(let r=s;r;r=r.enter(e,t,Nt.ExcludeBuffers))r.type.isTop&&(s=r);return s}class kh extends Vi{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=Rx(e.languageData);return new kh(t,e.parser.configure({props:[Pr.add(n=>n.isTop?t:void 0)]}),e.name)}configure(e,t){return new kh(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function St(i){let e=i.field(Vi.state,!1);return e?e.tree:Et.empty}function Lx(i,e,t=50){var n;let s=(n=i.field(Vi.state,!1))===null||n===void 0?void 0:n.context;if(!s)return null;let r=s.viewport;s.updateViewport({from:0,to:e});let o=s.isDone(e)||s.work(t,e)?s.tree:null;return s.updateViewport(r),o}class kE{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let mo=null;class Ch{constructor(e,t,n=[],s,r,o,a,l){this.parser=e,this.state=t,this.fragments=n,this.tree=s,this.treeLen=r,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new Ch(e,t,[],Et.empty,0,n,[],null)}startParse(){return this.parser.startParse(new kE(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Et.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(js.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(js.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=mo;mo=this;try{return e()}finally{mo=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=oO(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:s,treeLen:r,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((h,c,f,p)=>l.push({fromA:h,toA:c,fromB:f,toB:p})),n=js.applyChanges(n,l),s=Et.empty,r=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let h of this.skipped){let c=e.mapPos(h.from,1),f=e.mapPos(h.to,-1);c<f&&a.push({from:c,to:f})}}}return new Ch(this.parser,t,n,s,r,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:s,to:r}=this.skipped[n];s<e.to&&r>e.from&&(this.fragments=oO(this.fragments,s,r),this.skipped.splice(n--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Ax{createParse(t,n,s){let r=s[0].from,o=s[s.length-1].to;return{parsedPos:r,advance(){let l=mo;if(l){for(let h of s)l.tempSkipped.push(h);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Et(mi.none,[],[],o-r)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return mo}}function oO(i,e,t){return js.applyChanges(i,[{fromA:e,toA:t,fromB:e,toB:t}])}class jr{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new jr(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=Ch.create(e.facet(Ss).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new jr(n)}}Vi.state=It.define({create:jr.init,update(i,e){for(let t of e.effects)if(t.is(Vi.setState))return t.value;return e.startState.facet(Ss)!=e.state.facet(Ss)?jr.init(e.state):i.apply(e)}});let Nx=i=>{let e=setTimeout(()=>i(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Nx=i=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(i,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const uu=typeof navigator<"u"&&(!((cu=navigator.scheduling)===null||cu===void 0)&&cu.isInputPending)?()=>navigator.scheduling.isInputPending():null,CE=gt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Vi.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Vi.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Nx(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:s}}=this.view,r=n.field(Vi.state);if(r.tree==r.context.tree&&r.context.isDone(s+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!uu?Math.max(25,e.timeRemaining()-5):1e9),a=r.context.treeLen<s&&n.doc.length>s+1e3,l=r.context.work(()=>uu&&uu()||Date.now()>o,s+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:Vi.setState.of(new jr(r.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>zi(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ss=pe.define({combine(i){return i.length?i[0]:null},enables:i=>[Vi.state,CE,he.contentAttributes.compute([i],e=>{let t=e.facet(i);return t&&t.name?{"data-language":t.name}:{}})]});class $E{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const PE=pe.define(),er=pe.define({combine:i=>{if(!i.length)return"  ";let e=i[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(i[0]));return e}});function $h(i){let e=i.facet(er);return e.charCodeAt(0)==9?i.tabSize*e.length:e.length}function oa(i,e){let t="",n=i.tabSize,s=i.facet(er)[0];if(s=="	"){for(;e>=n;)t+="	",e-=n;s=" "}for(let r=0;r<e;r++)t+=s;return t}function Fd(i,e){i instanceof Ve&&(i=new cc(i));for(let n of i.state.facet(PE)){let s=n(i,e);if(s!==void 0)return s}let t=St(i.state);return t.length>=e?EE(i,t,e):null}class cc{constructor(e,t={}){this.state=e,this.options=t,this.unit=$h(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:r}=this.options;return s!=null&&s>=n.from&&s<=n.to?r&&s==e?{text:"",from:e}:(t<0?s<e:s<=e)?{text:n.text.slice(s-n.from),from:s}:{text:n.text.slice(0,s-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:s}=this.lineAt(e,t);return n.slice(e-s,Math.min(n.length,e+100-s))}column(e,t=1){let{text:n,from:s}=this.lineAt(e,t),r=this.countColumn(n,e-s),o=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return o>-1&&(r+=o-this.countColumn(n,n.search(/\S|$/))),r}countColumn(e,t=e.length){return $a(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:s}=this.lineAt(e,t),r=this.options.overrideIndentation;if(r){let o=r(s);if(o>-1)return o}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Dx=new _e;function EE(i,e,t){return Vx(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,i)}function AE(i){return i.pos==i.options.simulateBreak&&i.options.simulateDoubleBreak}function IE(i){let e=i.type.prop(Dx);if(e)return e;let t=i.firstChild,n;if(t&&(n=t.type.prop(_e.closedBy))){let s=i.lastChild,r=s&&n.indexOf(s.name)>-1;return o=>Bx(o,!0,1,void 0,r&&!AE(o)?s.from:void 0)}return i.parent==null?ME:null}function Vx(i,e,t){for(;i;i=i.parent){let n=IE(i);if(n)return n(Wd.create(t,e,i))}return null}function ME(){return 0}class Wd extends cc{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.node=n}static create(e,t,n){return new Wd(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(_E(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){let e=this.node.parent;return e?Vx(e,this.pos,this.base):0}}function _E(i,e){for(let t=e;t;t=t.parent)if(i==t)return!0;return!1}function TE(i){let e=i.node,t=e.childAfter(e.from),n=e.lastChild;if(!t)return null;let s=i.options.simulateBreak,r=i.state.doc.lineAt(t.from),o=s==null||s<=r.from?r.to:Math.min(r.to,s);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==n)return null;if(!l.type.isSkipped)return l.from<o?t:null;a=l.to}}function QE({closing:i,align:e=!0,units:t=1}){return n=>Bx(n,e,t,i)}function Bx(i,e,t,n,s){let r=i.textAfter,o=r.match(/^\s*/)[0].length,a=n&&r.slice(o,o+n.length)==n||s==i.pos+o,l=e?TE(i):null;return l?a?i.column(l.from):i.column(l.to):i.baseIndent+(a?0:i.unit*t)}const RE=i=>i.baseIndent;function fu({except:i,units:e=1}={}){return t=>{let n=i&&i.test(t.textAfter);return t.baseIndent+(n?0:e*t.unit)}}const LE=200;function NE(){return Ve.transactionFilter.of(i=>{if(!i.docChanged||!i.isUserEvent("input.type")&&!i.isUserEvent("input.complete"))return i;let e=i.startState.languageDataAt("indentOnInput",i.startState.selection.main.head);if(!e.length)return i;let t=i.newDoc,{head:n}=i.newSelection.main,s=t.lineAt(n);if(n>s.from+LE)return i;let r=t.sliceString(s.from,n);if(!e.some(h=>h.test(r)))return i;let{state:o}=i,a=-1,l=[];for(let{head:h}of o.selection.ranges){let c=o.doc.lineAt(h);if(c.from==a)continue;a=c.from;let f=Fd(o,c.from);if(f==null)continue;let p=/^\s*/.exec(c.text)[0],g=oa(o,f);p!=g&&l.push({from:c.from,to:c.from+p.length,insert:g})}return l.length?[i,{changes:l,sequential:!0}]:i})}const DE=pe.define(),Xx=new _e;function VE(i){let e=i.firstChild,t=i.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?i.to:t.from}:null}function BE(i,e,t){let n=St(i);if(n.length<t)return null;let s=n.resolveInner(t,1),r=null;for(let o=s;o;o=o.parent){if(o.to<=t||o.from>t)continue;if(r&&o.from<e)break;let a=o.type.prop(Xx);if(a&&(o.to<n.length-50||n.length==i.doc.length||!XE(o))){let l=a(o,i);l&&l.from<=t&&l.from>=e&&l.to>t&&(r=l)}}return r}function XE(i){let e=i.lastChild;return e&&e.to==i.to&&e.type.isError}function Ph(i,e,t){for(let n of i.facet(DE)){let s=n(i,e,t);if(s)return s}return BE(i,e,t)}function zx(i,e){let t=e.mapPos(i.from,1),n=e.mapPos(i.to,-1);return t>=n?void 0:{from:t,to:n}}const uc=$e.define({map:zx}),Ma=$e.define({map:zx});function Zx(i){let e=[];for(let{head:t}of i.state.selection.ranges)e.some(n=>n.from<=t&&n.to>=t)||e.push(i.lineBlockAt(t));return e}const tr=It.define({create(){return ye.none},update(i,e){i=i.map(e.changes);for(let t of e.effects)if(t.is(uc)&&!zE(i,t.value.from,t.value.to)){let{preparePlaceholder:n}=e.state.facet(Yd),s=n?ye.replace({widget:new YE(n(e.state,t.value))}):aO;i=i.update({add:[s.range(t.value.from,t.value.to)]})}else t.is(Ma)&&(i=i.update({filter:(n,s)=>t.value.from!=n||t.value.to!=s,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:n}=e.selection.main;i.between(n,n,(s,r)=>{s<n&&r>n&&(t=!0)}),t&&(i=i.update({filterFrom:n,filterTo:n,filter:(s,r)=>r<=n||s>=n}))}return i},provide:i=>he.decorations.from(i),toJSON(i,e){let t=[];return i.between(0,e.doc.length,(n,s)=>{t.push(n,s)}),t},fromJSON(i){if(!Array.isArray(i)||i.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<i.length;){let n=i[t++],s=i[t++];if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid JSON for fold state");e.push(aO.range(n,s))}return ye.set(e,!0)}});function Eh(i,e,t){var n;let s=null;return(n=i.field(tr,!1))===null||n===void 0||n.between(e,t,(r,o)=>{(!s||s.from>r)&&(s={from:r,to:o})}),s}function zE(i,e,t){let n=!1;return i.between(e,e,(s,r)=>{s==e&&r==t&&(n=!0)}),n}function Ux(i,e){return i.field(tr,!1)?e:e.concat($e.appendConfig.of(Wx()))}const jx=i=>{for(let e of Zx(i)){let t=Ph(i.state,e.from,e.to);if(t)return i.dispatch({effects:Ux(i.state,[uc.of(t),Fx(i,t)])}),!0}return!1},ZE=i=>{if(!i.state.field(tr,!1))return!1;let e=[];for(let t of Zx(i)){let n=Eh(i.state,t.from,t.to);n&&e.push(Ma.of(n),Fx(i,n,!1))}return e.length&&i.dispatch({effects:e}),e.length>0};function Fx(i,e,t=!0){let n=i.state.doc.lineAt(e.from).number,s=i.state.doc.lineAt(e.to).number;return he.announce.of(`${i.state.phrase(t?"Folded lines":"Unfolded lines")} ${n} ${i.state.phrase("to")} ${s}.`)}const UE=i=>{let{state:e}=i,t=[];for(let n=0;n<e.doc.length;){let s=i.lineBlockAt(n),r=Ph(e,s.from,s.to);r&&t.push(uc.of(r)),n=(r?i.lineBlockAt(r.to):s).to+1}return t.length&&i.dispatch({effects:Ux(i.state,t)}),!!t.length},jE=i=>{let e=i.state.field(tr,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,i.state.doc.length,(n,s)=>{t.push(Ma.of({from:n,to:s}))}),i.dispatch({effects:t}),!0},FE=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:jx},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:ZE},{key:"Ctrl-Alt-[",run:UE},{key:"Ctrl-Alt-]",run:jE}],WE={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Yd=pe.define({combine(i){return Mn(i,WE)}});function Wx(i){let e=[tr,HE];return i&&e.push(Yd.of(i)),e}function Yx(i,e){let{state:t}=i,n=t.facet(Yd),s=o=>{let a=i.lineBlockAt(i.posAtDOM(o.target)),l=Eh(i.state,a.from,a.to);l&&i.dispatch({effects:Ma.of(l)}),o.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(i,s,e);let r=document.createElement("span");return r.textContent=n.placeholderText,r.setAttribute("aria-label",t.phrase("folded code")),r.title=t.phrase("unfold"),r.className="cm-foldPlaceholder",r.onclick=s,r}const aO=ye.replace({widget:new class extends _n{toDOM(i){return Yx(i,null)}}});class YE extends _n{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return Yx(e,this.value)}}const GE={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class du extends En{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function qE(i={}){let e=Object.assign(Object.assign({},GE),i),t=new du(e,!0),n=new du(e,!1),s=gt.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Ss)!=o.state.facet(Ss)||o.startState.field(tr,!1)!=o.state.field(tr,!1)||St(o.startState)!=St(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new Un;for(let l of o.viewportLineBlocks){let h=Eh(o.state,l.from,l.to)?n:Ph(o.state,l.from,l.to)?t:null;h&&a.add(l.from,l.from,h)}return a.finish()}}),{domEventHandlers:r}=e;return[s,CP({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(s))===null||a===void 0?void 0:a.markers)||Ze.empty},initialSpacer(){return new du(e,!1)},domEventHandlers:Object.assign(Object.assign({},r),{click:(o,a,l)=>{if(r.click&&r.click(o,a,l))return!0;let h=Eh(o.state,a.from,a.to);if(h)return o.dispatch({effects:Ma.of(h)}),!0;let c=Ph(o.state,a.from,a.to);return c?(o.dispatch({effects:uc.of(c)}),!0):!1}})}),Wx()]}const HE=he.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class _a{constructor(e,t){this.specs=e;let n;function s(a){let l=Os.newName();return(n||(n=Object.create(null)))["."+l]=a,l}const r=typeof t.all=="string"?t.all:t.all?s(t.all):void 0,o=t.scope;this.scope=o instanceof Vi?a=>a.prop(Pr)==o.data:o?a=>a==o:void 0,this.style=Tx(e.map(a=>({tag:a.tag,class:a.class||s(Object.assign({},a,{tag:null}))})),{all:r}).style,this.module=n?new Os(n):null,this.themeType=t.themeType}static define(e,t){return new _a(e,t||{})}}const Xf=pe.define(),Gx=pe.define({combine(i){return i.length?[i[0]]:null}});function pu(i){let e=i.facet(Xf);return e.length?e:i.facet(Gx)}function qx(i,e){let t=[JE],n;return i instanceof _a&&(i.module&&t.push(he.styleModule.of(i.module)),n=i.themeType),e?.fallback?t.push(Gx.of(i)):n?t.push(Xf.computeN([he.darkTheme],s=>s.facet(he.darkTheme)==(n=="dark")?[i]:[])):t.push(Xf.of(i)),t}class KE{constructor(e){this.markCache=Object.create(null),this.tree=St(e.state),this.decorations=this.buildDeco(e,pu(e.state))}update(e){let t=St(e.state),n=pu(e.state),s=n!=pu(e.startState);t.length<e.view.viewport.to&&!s&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||s)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(!t||!this.tree.length)return ye.none;let n=new Un;for(let{from:s,to:r}of e.visibleRanges)eE(this.tree,t,(o,a,l)=>{n.add(o,a,this.markCache[l]||(this.markCache[l]=ye.mark({class:l})))},s,r);return n.finish()}}const JE=$s.high(gt.fromClass(KE,{decorations:i=>i.decorations})),eA=_a.define([{tag:D.meta,color:"#404740"},{tag:D.link,textDecoration:"underline"},{tag:D.heading,textDecoration:"underline",fontWeight:"bold"},{tag:D.emphasis,fontStyle:"italic"},{tag:D.strong,fontWeight:"bold"},{tag:D.strikethrough,textDecoration:"line-through"},{tag:D.keyword,color:"#708"},{tag:[D.atom,D.bool,D.url,D.contentSeparator,D.labelName],color:"#219"},{tag:[D.literal,D.inserted],color:"#164"},{tag:[D.string,D.deleted],color:"#a11"},{tag:[D.regexp,D.escape,D.special(D.string)],color:"#e40"},{tag:D.definition(D.variableName),color:"#00f"},{tag:D.local(D.variableName),color:"#30a"},{tag:[D.typeName,D.namespace],color:"#085"},{tag:D.className,color:"#167"},{tag:[D.special(D.variableName),D.macroName],color:"#256"},{tag:D.definition(D.propertyName),color:"#00c"},{tag:D.comment,color:"#940"},{tag:D.invalid,color:"#f00"}]),tA=he.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Hx=1e4,Kx="()[]{}",Jx=pe.define({combine(i){return Mn(i,{afterCursor:!0,brackets:Kx,maxScanDistance:Hx,renderMatch:sA})}}),iA=ye.mark({class:"cm-matchingBracket"}),nA=ye.mark({class:"cm-nonmatchingBracket"});function sA(i){let e=[],t=i.matched?iA:nA;return e.push(t.range(i.start.from,i.start.to)),i.end&&e.push(t.range(i.end.from,i.end.to)),e}const rA=It.define({create(){return ye.none},update(i,e){if(!e.docChanged&&!e.selection)return i;let t=[],n=e.state.facet(Jx);for(let s of e.state.selection.ranges){if(!s.empty)continue;let r=Bi(e.state,s.head,-1,n)||s.head>0&&Bi(e.state,s.head-1,1,n)||n.afterCursor&&(Bi(e.state,s.head,1,n)||s.head<e.state.doc.length&&Bi(e.state,s.head+1,-1,n));r&&(t=t.concat(n.renderMatch(r,e.state)))}return ye.set(t,!0)},provide:i=>he.decorations.from(i)}),oA=[rA,tA];function aA(i={}){return[Jx.of(i),oA]}const lA=new _e;function zf(i,e,t){let n=i.prop(e<0?_e.openedBy:_e.closedBy);if(n)return n;if(i.name.length==1){let s=t.indexOf(i.name);if(s>-1&&s%2==(e<0?1:0))return[t[s+e]]}return null}function Zf(i){let e=i.type.prop(lA);return e?e(i.node):i}function Bi(i,e,t,n={}){let s=n.maxScanDistance||Hx,r=n.brackets||Kx,o=St(i),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let h=zf(l.type,t,r);if(h&&l.from<l.to){let c=Zf(l);if(c&&(t>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return hA(i,e,t,l,c,h,r)}}return cA(i,e,t,o,a.type,s,r)}function hA(i,e,t,n,s,r,o){let a=n.parent,l={from:s.from,to:s.to},h=0,c=a?.cursor();if(c&&(t<0?c.childBefore(n.from):c.childAfter(n.to)))do if(t<0?c.to<=n.from:c.from>=n.to){if(h==0&&r.indexOf(c.type.name)>-1&&c.from<c.to){let f=Zf(c);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(zf(c.type,t,o))h++;else if(zf(c.type,-t,o)){if(h==0){let f=Zf(c);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}h--}}while(t<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function cA(i,e,t,n,s,r,o){let a=t<0?i.sliceDoc(e-1,e):i.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let h={from:t<0?e-1:e,to:t>0?e+1:e},c=i.doc.iterRange(e,t>0?i.doc.length:0),f=0;for(let p=0;!c.next().done&&p<=r;){let g=c.value;t<0&&(p+=g.length);let y=e+p*t;for(let v=t>0?0:g.length-1,w=t>0?g.length:-1;v!=w;v+=t){let k=o.indexOf(g[v]);if(!(k<0||n.resolveInner(y+v,1).type!=s))if(k%2==0==t>0)f++;else{if(f==1)return{start:h,end:{from:y+v,to:y+v+1},matched:k>>1==l>>1};f--}}t>0&&(p+=g.length)}return c.done?{start:h,matched:!1}:null}function lO(i,e,t,n=0,s=0){e==null&&(e=i.search(/[^\s\u00a0]/),e==-1&&(e=i.length));let r=s;for(let o=n;o<e;o++)i.charCodeAt(o)==9?r+=t-r%t:r++;return r}class uA{constructor(e,t,n,s){this.string=e,this.tabSize=t,this.indentUnit=n,this.overrideIndent=s,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let t=this.string.charAt(this.pos),n;if(typeof e=="string"?n=t==e:n=t&&(e instanceof RegExp?e.test(t):e(t)),n)return++this.pos,t}eatWhile(e){let t=this.pos;for(;this.eat(e););return this.pos>t}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=lO(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:lO(this.string,null,this.tabSize)}match(e,t,n){if(typeof e=="string"){let s=o=>n?o.toLowerCase():o,r=this.string.substr(this.pos,e.length);return s(r)==s(e)?(t!==!1&&(this.pos+=e.length),!0):null}else{let s=this.string.slice(this.pos).match(e);return s&&s.index>0?null:(s&&t!==!1&&(this.pos+=s[0].length),s)}}current(){return this.string.slice(this.start,this.pos)}}const fA=Object.create(null),hO=[mi.none],cO=[],dA=Object.create(null);for(let[i,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])dA[i]=pA(fA,e);function mu(i,e){cO.indexOf(i)>-1||(cO.push(i),console.warn(e))}function pA(i,e){let t=null;for(let r of e.split(".")){let o=i[r]||D[r];o?typeof o=="function"?t?t=o(t):mu(r,`Modifier ${r} used at start of tag`):t?mu(r,`Tag ${r} used as modifier`):t=o:mu(r,`Unknown highlighting tag ${r}`)}if(!t)return 0;let n=e.replace(/ /g,"_"),s=mi.define({id:hO.length,name:n,props:[Mx({[n]:t})]});return hO.push(s),s.id}class e1{constructor(e,t,n){this.state=e,this.pos=t,this.explicit=n,this.abortListeners=[]}tokenBefore(e){let t=St(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),s=t.text.slice(n-t.from,this.pos-t.from),r=s.search(i1(e,!1));return r<0?null:{from:n+r,to:this.pos,text:s.slice(r)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}function uO(i){let e=Object.keys(i).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function mA(i){let e=Object.create(null),t=Object.create(null);for(let{label:s}of i){e[s[0]]=!0;for(let r=1;r<s.length;r++)t[s[r]]=!0}let n=uO(e)+uO(t)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function t1(i){let e=i.map(s=>typeof s=="string"?{label:s}:s),[t,n]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:mA(e);return s=>{let r=s.matchBefore(n);return r||s.explicit?{from:r?r.from:s.pos,options:e,validFor:t}:null}}function gA(i,e){return t=>{for(let n=St(t.state).resolveInner(t.pos,-1);n;n=n.parent){if(i.indexOf(n.name)>-1)return null;if(n.type.isTop)break}return e(t)}}class fO{constructor(e,t,n,s){this.completion=e,this.source=t,this.match=n,this.score=s}}function us(i){return i.selection.main.from}function i1(i,e){var t;let{source:n}=i,s=e&&n[0]!="^",r=n[n.length-1]!="$";return!s&&!r?i:new RegExp(`${s?"^":""}(?:${n})${r?"$":""}`,(t=i.flags)!==null&&t!==void 0?t:i.ignoreCase?"i":"")}const n1=qn.define();function OA(i,e,t,n){let{main:s}=i.selection,r=t-s.from,o=n-s.from;return Object.assign(Object.assign({},i.changeByRange(a=>a!=s&&t!=n&&i.sliceDoc(a.from+r,a.from+o)!=i.sliceDoc(t,n)?{range:a}:{changes:{from:a.from+r,to:n==s.from?a.to:a.from+o,insert:e},range:F.cursor(a.from+r+e.length)})),{userEvent:"input.complete"})}const dO=new WeakMap;function yA(i){if(!Array.isArray(i))return i;let e=dO.get(i);return e||dO.set(i,e=t1(i)),e}const Gd=$e.define(),aa=$e.define();class vA{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=Ft(e,t),s=Di(n);this.chars.push(n);let r=e.slice(t,t+s),o=r.toUpperCase();this.folded.push(Ft(o==r?r.toLowerCase():o,0)),t+=s}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,!0}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:t,folded:n,any:s,precise:r,byWord:o}=this;if(t.length==1){let T=Ft(e,0),$=Di(T),E=$==e.length?0:-100;if(T!=t[0])if(T==n[0])E+=-200;else return!1;return this.ret(E,[0,$])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,h=0;if(a<0){for(let T=0,$=Math.min(e.length,200);T<$&&h<l;){let E=Ft(e,T);(E==t[h]||E==n[h])&&(s[h++]=T),T+=Di(E)}if(h<l)return!1}let c=0,f=0,p=!1,g=0,y=-1,v=-1,w=/[a-z]/.test(e),k=!0;for(let T=0,$=Math.min(e.length,200),E=0;T<$&&f<l;){let _=Ft(e,T);a<0&&(c<l&&_==t[c]&&(r[c++]=T),g<l&&(_==t[g]||_==n[g]?(g==0&&(y=T),v=T+1,g++):g=0));let N,z=_<255?_>=48&&_<=57||_>=97&&_<=122?2:_>=65&&_<=90?1:0:(N=Ed(_))!=N.toLowerCase()?1:N!=N.toUpperCase()?2:0;(!T||z==1&&w||E==0&&z!=0)&&(t[f]==_||n[f]==_&&(p=!0)?o[f++]=T:o.length&&(k=!1)),E=z,T+=Di(_)}return f==l&&o[0]==0&&k?this.result(-100+(p?-200:0),o,e):g==l&&y==0?this.ret(-200-e.length+(v==e.length?0:-100),[0,v]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):g==l?this.ret(-200+-700-e.length,[y,v]):f==l?this.result(-100+(p?-200:0)+-700+(k?0:-1100),o,e):t.length==2?!1:this.result((s[0]?-700:0)+-200+-1100,s,e)}result(e,t,n){let s=[],r=0;for(let o of t){let a=o+(this.astral?Di(Ft(n,o)):1);r&&s[r-1]==o?s[r-1]=a:(s[r++]=o,s[r++]=a)}return this.ret(e-n.length,s)}}const di=pe.define({combine(i){return Mn(i,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:xA,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>pO(e(n),t(n)),optionClass:(e,t)=>n=>pO(e(n),t(n)),addToOptions:(e,t)=>e.concat(t)})}});function pO(i,e){return i?e?i+" "+e:i:e}function xA(i,e,t,n,s){let r=i.textDirection==lt.RTL,o=r,a=!1,l="top",h,c,f=e.left-s.left,p=s.right-e.right,g=n.right-n.left,y=n.bottom-n.top;if(o&&f<Math.min(g,p)?o=!1:!o&&p<Math.min(g,f)&&(o=!0),g<=(o?f:p))h=Math.max(s.top,Math.min(t.top,s.bottom-y))-e.top,c=Math.min(400,o?f:p);else{a=!0,c=Math.min(400,(r?e.right:s.right-e.left)-30);let v=s.bottom-e.bottom;v>=y||v>e.top?h=t.bottom-e.top:(l="bottom",h=e.bottom-t.top)}return{style:`${l}: ${h}px; max-width: ${c}px`,class:"cm-completionInfo-"+(a?r?"left-narrow":"right-narrow":o?"left":"right")}}function SA(i){let e=i.addToOptions.slice();return i.icons&&e.push({render(t){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),t.type&&n.classList.add(...t.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(t,n,s){let r=document.createElement("span");r.className="cm-completionLabel";let o=t.displayLabel||t.label,a=0;for(let l=0;l<s.length;){let h=s[l++],c=s[l++];h>a&&r.appendChild(document.createTextNode(o.slice(a,h)));let f=r.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(o.slice(h,c))),f.className="cm-completionMatchedText",a=c}return a<o.length&&r.appendChild(document.createTextNode(o.slice(a))),r},position:50},{render(t){if(!t.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=t.detail,n},position:80}),e.sort((t,n)=>t.position-n.position).map(t=>t.render)}function mO(i,e,t){if(i<=t)return{from:0,to:i};if(e<0&&(e=0),e<=i>>1){let s=Math.floor(e/t);return{from:s*t,to:(s+1)*t}}let n=Math.floor((i-e)/t);return{from:i-(n+1)*t,to:i-n*t}}class bA{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let s=e.state.field(t),{options:r,selected:o}=s.open,a=e.state.facet(di);this.optionContent=SA(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=mO(r.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{for(let h=l.target,c;h&&h!=this.dom;h=h.parentNode)if(h.nodeName=="LI"&&(c=/-(\d+)$/.exec(h.id))&&+c[1]<r.length){this.applyCompletion(e,r[+c[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(di).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:aa.of(null)})}),this.list=this.dom.appendChild(this.createListBox(r,s.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(e){var t,n,s;let r=e.state.field(this.stateField),o=e.startState.field(this.stateField);this.updateTooltipClass(e.state),r!=o&&(this.updateSel(),((t=r.open)===null||t===void 0?void 0:t.disabled)!=((n=o.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((s=r.open)===null||s===void 0)&&s.disabled)))}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of t.split(" "))n&&this.dom.classList.add(n);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=mO(t.options.length,t.selected,this.view.state.facet(di).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:n}=t.options[t.selected],{info:s}=n;if(!s)return;let r=typeof s=="string"?document.createTextNode(s):s(n);if(!r)return;"then"in r?r.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,n)}).catch(o=>zi(this.view.state,o,"completion info")):this.addInfoPane(r,n)}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:s,destroy:r}=e;n.appendChild(s),this.infoDestroy=r||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,s=this.range.from;n;n=n.nextSibling,s++)n.nodeName!="LI"||!n.id?s--:s==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&kA(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),s=e.getBoundingClientRect(),r=this.space;if(!r){let o=this.dom.ownerDocument.defaultView||window;r={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return s.top>Math.min(r.bottom,t.bottom)-10||s.bottom<Math.max(r.top,t.top)+10?null:this.view.state.facet(di).positionInfo(this.view,t,s,n,r)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const s=document.createElement("ul");s.id=t,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions"));let r=null;for(let o=n.from;o<n.to;o++){let{completion:a,match:l}=e[o],{section:h}=a;if(h){let p=typeof h=="string"?h:h.name;if(p!=r&&(o>n.from||n.from==0))if(r=p,typeof h!="string"&&h.header)s.appendChild(h.header(h));else{let g=s.appendChild(document.createElement("completion-section"));g.textContent=p}}const c=s.appendChild(document.createElement("li"));c.id=t+"-"+o,c.setAttribute("role","option");let f=this.optionClass(a);f&&(c.className=f);for(let p of this.optionContent){let g=p(a,this.view.state,l);g&&c.appendChild(g)}}return n.from&&s.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function wA(i,e){return t=>new bA(t,i,e)}function kA(i,e){let t=i.getBoundingClientRect(),n=e.getBoundingClientRect();n.top<t.top?i.scrollTop-=t.top-n.top:n.bottom>t.bottom&&(i.scrollTop+=n.bottom-t.bottom)}function gO(i){return(i.boost||0)*100+(i.apply?10:0)+(i.info?5:0)+(i.type?1:0)}function CA(i,e){let t=[],n=null,s=l=>{t.push(l);let{section:h}=l.completion;if(h){n||(n=[]);let c=typeof h=="string"?h:h.name;n.some(f=>f.name==c)||n.push(typeof h=="string"?{name:c}:h)}};for(let l of i)if(l.hasResult()){let h=l.result.getMatch;if(l.result.filter===!1)for(let c of l.result.options)s(new fO(c,l.source,h?h(c):[],1e9-t.length));else{let c=new vA(e.sliceDoc(l.from,l.to));for(let f of l.result.options)if(c.match(f.label)){let p=f.displayLabel?h?h(f,c.matched):[]:c.matched;s(new fO(f,l.source,p,c.score+(f.boost||0)))}}}if(n){let l=Object.create(null),h=0,c=(f,p)=>{var g,y;return((g=f.rank)!==null&&g!==void 0?g:1e9)-((y=p.rank)!==null&&y!==void 0?y:1e9)||(f.name<p.name?-1:1)};for(let f of n.sort(c))h-=1e5,l[f.name]=h;for(let f of t){let{section:p}=f.completion;p&&(f.score+=l[typeof p=="string"?p:p.name])}}let r=[],o=null,a=e.facet(di).compareCompletions;for(let l of t.sort((h,c)=>c.score-h.score||a(h.completion,c.completion))){let h=l.completion;!o||o.label!=h.label||o.detail!=h.detail||o.type!=null&&h.type!=null&&o.type!=h.type||o.apply!=h.apply||o.boost!=h.boost?r.push(l):gO(l.completion)>gO(o)&&(r[r.length-1]=l),o=l.completion}return r}class Er{constructor(e,t,n,s,r,o){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=s,this.selected=r,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Er(this.options,OO(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,s,r){let o=CA(e,t);if(!o.length)return s&&e.some(l=>l.state==1)?new Er(s.options,s.attrs,s.tooltip,s.timestamp,s.selected,!0):null;let a=t.facet(di).selectOnOpen?0:-1;if(s&&s.selected!=a&&s.selected!=-1){let l=s.options[s.selected].completion;for(let h=0;h<o.length;h++)if(o[h].completion==l){a=h;break}}return new Er(o,OO(n,a),{pos:e.reduce((l,h)=>h.hasResult()?Math.min(l,h.from):l,1e8),create:wA(bi,o1),above:r.aboveCursor},s?s.timestamp:Date.now(),a,!1)}map(e){return new Er(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Ah{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new Ah(EA,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,n=t.facet(di),r=(n.override||t.languageDataAt("autocomplete",us(t)).map(yA)).map(a=>(this.active.find(h=>h.source==a)||new ui(a,this.active.some(h=>h.state!=0)?1:0)).update(e,n));r.length==this.active.length&&r.every((a,l)=>a==this.active[l])&&(r=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||r.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!$A(r,this.active)?o=Er.build(r,t,this.id,o,n):o&&o.disabled&&!r.some(a=>a.state==1)&&(o=null),!o&&r.every(a=>a.state!=1)&&r.some(a=>a.hasResult())&&(r=r.map(a=>a.hasResult()?new ui(a.source,0):a));for(let a of e.effects)a.is(r1)&&(o=o&&o.setSelected(a.value,this.id));return r==this.active&&o==this.open?this:new Ah(r,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:PA}}function $A(i,e){if(i==e)return!0;for(let t=0,n=0;;){for(;t<i.length&&!i[t].hasResult;)t++;for(;n<e.length&&!e[n].hasResult;)n++;let s=t==i.length,r=n==e.length;if(s||r)return s==r;if(i[t++].result!=e[n++].result)return!1}}const PA={"aria-autocomplete":"list"};function OO(i,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":i};return e>-1&&(t["aria-activedescendant"]=i+"-"+e),t}const EA=[];function Uf(i){return i.isUserEvent("input.type")?"input":i.isUserEvent("delete.backward")?"delete":null}class ui{constructor(e,t,n=-1){this.source=e,this.state=t,this.explicitPos=n}hasResult(){return!1}update(e,t){let n=Uf(e),s=this;n?s=s.handleUserEvent(e,n,t):e.docChanged?s=s.handleChange(e):e.selection&&s.state!=0&&(s=new ui(s.source,0));for(let r of e.effects)if(r.is(Gd))s=new ui(s.source,1,r.value?us(e.state):-1);else if(r.is(aa))s=new ui(s.source,0);else if(r.is(s1))for(let o of r.value)o.source==s.source&&(s=o);return s}handleUserEvent(e,t,n){return t=="delete"||!n.activateOnTyping?this.map(e.changes):new ui(this.source,1)}handleChange(e){return e.changes.touchesRange(us(e.startState))?new ui(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new ui(this.source,this.state,e.mapPos(this.explicitPos))}}class Lr extends ui{constructor(e,t,n,s,r){super(e,2,t),this.result=n,this.from=s,this.to=r}hasResult(){return!0}handleUserEvent(e,t,n){var s;let r=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=us(e.state);if((this.explicitPos<0?a<=r:a<this.from)||a>o||t=="delete"&&us(e.startState)==this.from)return new ui(this.source,t=="input"&&n.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),h;return AA(this.result.validFor,e.state,r,o)?new Lr(this.source,l,this.result,r,o):this.result.update&&(h=this.result.update(this.result,r,o,new e1(e.state,a,l>=0)))?new Lr(this.source,l,h,h.from,(s=h.to)!==null&&s!==void 0?s:us(e.state)):new ui(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new ui(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Lr(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function AA(i,e,t,n){if(!i)return!1;let s=e.sliceDoc(t,n);return typeof i=="function"?i(s,t,n,e):i1(i,!0).test(s)}const s1=$e.define({map(i,e){return i.map(t=>t.map(e))}}),r1=$e.define(),bi=It.define({create(){return Ah.start()},update(i,e){return i.update(e)},provide:i=>[Dd.from(i,e=>e.tooltip),he.contentAttributes.from(i,e=>e.attrs)]});function o1(i,e){const t=e.completion.apply||e.completion.label;let n=i.state.field(bi).active.find(s=>s.source==e.source);return n instanceof Lr?(typeof t=="string"?i.dispatch(Object.assign(Object.assign({},OA(i.state,t,n.from,n.to)),{annotations:n1.of(e.completion)})):t(i,e.completion,n.from,n.to),!0):!1}function ml(i,e="option"){return t=>{let n=t.state.field(bi,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<t.state.facet(di).interactionDelay)return!1;let s=1,r;e=="page"&&(r=Sx(t,n.open.tooltip))&&(s=Math.max(2,Math.floor(r.dom.offsetHeight/r.dom.querySelector("li").offsetHeight)-1));let{length:o}=n.open.options,a=n.open.selected>-1?n.open.selected+s*(i?1:-1):i?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),t.dispatch({effects:r1.of(a)}),!0}}const IA=i=>{let e=i.state.field(bi,!1);return i.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<i.state.facet(di).interactionDelay?!1:o1(i,e.open.options[e.open.selected])},MA=i=>i.state.field(bi,!1)?(i.dispatch({effects:Gd.of(!0)}),!0):!1,_A=i=>{let e=i.state.field(bi,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(i.dispatch({effects:aa.of(null)}),!0)};class TA{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const yO=50,QA=50,RA=1e3,LA=gt.fromClass(class{constructor(i){this.view=i,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of i.state.field(bi).active)e.state==1&&this.startQuery(e)}update(i){let e=i.state.field(bi);if(!i.selectionSet&&!i.docChanged&&i.startState.field(bi)==e)return;let t=i.transactions.some(n=>(n.selection||n.docChanged)&&!Uf(n));for(let n=0;n<this.running.length;n++){let s=this.running[n];if(t||s.updates.length+i.transactions.length>QA&&Date.now()-s.time>RA){for(let r of s.context.abortListeners)try{r()}catch(o){zi(this.view.state,o)}s.context.abortListeners=null,this.running.splice(n--,1)}else s.updates.push(...i.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(n=>n.state==1&&!this.running.some(s=>s.active.source==n.source))?setTimeout(()=>this.startUpdate(),yO):-1,this.composing!=0)for(let n of i.transactions)Uf(n)=="input"?this.composing=2:this.composing==2&&n.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:i}=this.view,e=i.field(bi);for(let t of e.active)t.state==1&&!this.running.some(n=>n.active.source==t.source)&&this.startQuery(t)}startQuery(i){let{state:e}=this.view,t=us(e),n=new e1(e,t,i.explicitPos==t),s=new TA(i,n);this.running.push(s),Promise.resolve(i.source(n)).then(r=>{s.context.aborted||(s.done=r||null,this.scheduleAccept())},r=>{this.view.dispatch({effects:aa.of(null)}),zi(this.view.state,r)})}scheduleAccept(){this.running.every(i=>i.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),yO))}accept(){var i;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(di);for(let n=0;n<this.running.length;n++){let s=this.running[n];if(s.done===void 0)continue;if(this.running.splice(n--,1),s.done){let o=new Lr(s.active.source,s.active.explicitPos,s.done,s.done.from,(i=s.done.to)!==null&&i!==void 0?i:us(s.updates.length?s.updates[0].startState:this.view.state));for(let a of s.updates)o=o.update(a,t);if(o.hasResult()){e.push(o);continue}}let r=this.view.state.field(bi).active.find(o=>o.source==s.active.source);if(r&&r.state==1)if(s.done==null){let o=new ui(s.active.source,0);for(let a of s.updates)o=o.update(a,t);o.state!=1&&e.push(o)}else this.startQuery(r)}e.length&&this.view.dispatch({effects:s1.of(e)})}},{eventHandlers:{blur(i){let e=this.view.state.field(bi,!1);if(e&&e.tooltip&&this.view.state.facet(di).closeOnBlur){let t=e.open&&Sx(this.view,e.open.tooltip);(!t||!t.dom.contains(i.relatedTarget))&&this.view.dispatch({effects:aa.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Gd.of(!1)}),20),this.composing=0}}}),a1=he.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class NA{constructor(e,t,n,s){this.field=e,this.line=t,this.from=n,this.to=s}}class qd{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,Dt.TrackDel),n=e.mapPos(this.to,1,Dt.TrackDel);return t==null||n==null?null:new qd(this.field,t,n)}}class Hd{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],s=[t],r=e.doc.lineAt(t),o=/^\s*/.exec(r.text)[0];for(let l of this.lines){if(n.length){let h=o,c=/^\t*/.exec(l)[0].length;for(let f=0;f<c;f++)h+=e.facet(er);s.push(t+h.length-c),l=h+l.slice(c)}n.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new qd(l.field,s[l.line]+l.from,s[l.line]+l.to));return{text:n,ranges:a}}static parse(e){let t=[],n=[],s=[],r;for(let o of e.split(/\r\n?|\n/)){for(;r=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(o);){let a=r[1]?+r[1]:null,l=r[2]||r[3]||"",h=-1;for(let c=0;c<t.length;c++)(a!=null?t[c].seq==a:l&&t[c].name==l)&&(h=c);if(h<0){let c=0;for(;c<t.length&&(a==null||t[c].seq!=null&&t[c].seq<a);)c++;t.splice(c,0,{seq:a,name:l}),h=c;for(let f of s)f.field>=h&&f.field++}s.push(new NA(h,n.length,r.index,r.index+l.length)),o=o.slice(0,r.index)+l+o.slice(r.index+r[0].length)}for(let a;a=/\\([{}])/.exec(o);){o=o.slice(0,a.index)+a[1]+o.slice(a.index+a[0].length);for(let l of s)l.line==n.length&&l.from>a.index&&(l.from--,l.to--)}n.push(o)}return new Hd(n,s)}}let DA=ye.widget({widget:new class extends _n{toDOM(){let i=document.createElement("span");return i.className="cm-snippetFieldPosition",i}ignoreEvent(){return!1}}}),VA=ye.mark({class:"cm-snippetField"});class eo{constructor(e,t){this.ranges=e,this.active=t,this.deco=ye.set(e.map(n=>(n.from==n.to?DA:VA).range(n.from,n.to)))}map(e){let t=[];for(let n of this.ranges){let s=n.map(e);if(!s)return null;t.push(s)}return new eo(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(n=>n.field==this.active&&n.from<=t.from&&n.to>=t.to))}}const Ta=$e.define({map(i,e){return i&&i.map(e)}}),BA=$e.define(),la=It.define({create(){return null},update(i,e){for(let t of e.effects){if(t.is(Ta))return t.value;if(t.is(BA)&&i)return new eo(i.ranges,t.value)}return i&&e.docChanged&&(i=i.map(e.changes)),i&&e.selection&&!i.selectionInsideField(e.selection)&&(i=null),i},provide:i=>he.decorations.from(i,e=>e?e.deco:ye.none)});function Kd(i,e){return F.create(i.filter(t=>t.field==e).map(t=>F.range(t.from,t.to)))}function XA(i){let e=Hd.parse(i);return(t,n,s,r)=>{let{text:o,ranges:a}=e.instantiate(t.state,s),l={changes:{from:s,to:r,insert:ze.of(o)},scrollIntoView:!0,annotations:n?n1.of(n):void 0};if(a.length&&(l.selection=Kd(a,0)),a.length>1){let h=new eo(a,0),c=l.effects=[Ta.of(h)];t.state.field(la,!1)===void 0&&c.push($e.appendConfig.of([la,FA,WA,a1]))}t.dispatch(t.state.update(l))}}function l1(i){return({state:e,dispatch:t})=>{let n=e.field(la,!1);if(!n||i<0&&n.active==0)return!1;let s=n.active+i,r=i>0&&!n.ranges.some(o=>o.field==s+i);return t(e.update({selection:Kd(n.ranges,s),effects:Ta.of(r?null:new eo(n.ranges,s))})),!0}}const zA=({state:i,dispatch:e})=>i.field(la,!1)?(e(i.update({effects:Ta.of(null)})),!0):!1,ZA=l1(1),UA=l1(-1),jA=[{key:"Tab",run:ZA,shift:UA},{key:"Escape",run:zA}],vO=pe.define({combine(i){return i.length?i[0]:jA}}),FA=$s.highest(Aa.compute([vO],i=>i.facet(vO)));function Gi(i,e){return Object.assign(Object.assign({},e),{apply:XA(i)})}const WA=he.domEventHandlers({mousedown(i,e){let t=e.state.field(la,!1),n;if(!t||(n=e.posAtCoords({x:i.clientX,y:i.clientY}))==null)return!1;let s=t.ranges.find(r=>r.from<=n&&r.to>=n);return!s||s.field==t.active?!1:(e.dispatch({selection:Kd(t.ranges,s.field),effects:Ta.of(t.ranges.some(r=>r.field>s.field)?new eo(t.ranges,s.field):null)}),!0)}}),ha={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},zs=$e.define({map(i,e){let t=e.mapPos(i,-1,Dt.TrackAfter);return t??void 0}}),Jd=new class extends Hs{};Jd.startSide=1;Jd.endSide=-1;const h1=It.define({create(){return Ze.empty},update(i,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,n=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(n,-1)&&(i=Ze.empty)}i=i.map(e.changes);for(let t of e.effects)t.is(zs)&&(i=i.update({add:[Jd.range(t.value,t.value+1)]}));return i}});function YA(){return[qA,h1]}const gu="()[]{}<>";function c1(i){for(let e=0;e<gu.length;e+=2)if(gu.charCodeAt(e)==i)return gu.charAt(e+1);return Ed(i<128?i:i+1)}function u1(i,e){return i.languageDataAt("closeBrackets",e)[0]||ha}const GA=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),qA=he.inputHandler.of((i,e,t,n)=>{if((GA?i.composing:i.compositionStarted)||i.state.readOnly)return!1;let s=i.state.selection.main;if(n.length>2||n.length==2&&Di(Ft(n,0))==1||e!=s.from||t!=s.to)return!1;let r=JA(i.state,n);return r?(i.dispatch(r),!0):!1}),HA=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let n=u1(i,i.selection.main.head).brackets||ha.brackets,s=null,r=i.changeByRange(o=>{if(o.empty){let a=eI(i.doc,o.head);for(let l of n)if(l==a&&fc(i.doc,o.head)==c1(Ft(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:F.cursor(o.head-l.length)}}return{range:s=o}});return s||e(i.update(r,{scrollIntoView:!0,userEvent:"delete.backward"})),!s},KA=[{key:"Backspace",run:HA}];function JA(i,e){let t=u1(i,i.selection.main.head),n=t.brackets||ha.brackets;for(let s of n){let r=c1(Ft(s,0));if(e==s)return r==s?nI(i,s,n.indexOf(s+s+s)>-1,t):tI(i,s,r,t.before||ha.before);if(e==r&&f1(i,i.selection.main.from))return iI(i,s,r)}return null}function f1(i,e){let t=!1;return i.field(h1).between(0,i.doc.length,n=>{n==e&&(t=!0)}),t}function fc(i,e){let t=i.sliceString(e,e+2);return t.slice(0,Di(Ft(t,0)))}function eI(i,e){let t=i.sliceString(e-2,e);return Di(Ft(t,0))==t.length?t:t.slice(1)}function tI(i,e,t,n){let s=null,r=i.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:zs.of(o.to+e.length),range:F.range(o.anchor+e.length,o.head+e.length)};let a=fc(i.doc,o.head);return!a||/\s/.test(a)||n.indexOf(a)>-1?{changes:{insert:e+t,from:o.head},effects:zs.of(o.head+e.length),range:F.cursor(o.head+e.length)}:{range:s=o}});return s?null:i.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function iI(i,e,t){let n=null,s=i.changeByRange(r=>r.empty&&fc(i.doc,r.head)==t?{changes:{from:r.head,to:r.head+t.length,insert:t},range:F.cursor(r.head+t.length)}:n={range:r});return n?null:i.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function nI(i,e,t,n){let s=n.stringPrefixes||ha.stringPrefixes,r=null,o=i.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:zs.of(a.to+e.length),range:F.range(a.anchor+e.length,a.head+e.length)};let l=a.head,h=fc(i.doc,l),c;if(h==e){if(xO(i,l))return{changes:{insert:e+e,from:l},effects:zs.of(l+e.length),range:F.cursor(l+e.length)};if(f1(i,l)){let p=t&&i.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+p.length,insert:p},range:F.cursor(l+p.length)}}}else{if(t&&i.sliceDoc(l-2*e.length,l)==e+e&&(c=SO(i,l-2*e.length,s))>-1&&xO(i,c))return{changes:{insert:e+e+e+e,from:l},effects:zs.of(l+e.length),range:F.cursor(l+e.length)};if(i.charCategorizer(l)(h)!=at.Word&&SO(i,l,s)>-1&&!sI(i,l,e,s))return{changes:{insert:e+e,from:l},effects:zs.of(l+e.length),range:F.cursor(l+e.length)}}return{range:r=a}});return r?null:i.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function xO(i,e){let t=St(i).resolveInner(e+1);return t.parent&&t.from==e}function sI(i,e,t,n){let s=St(i).resolveInner(e,-1),r=n.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=i.sliceDoc(s.from,Math.min(s.to,s.from+t.length+r)),l=a.indexOf(t);if(!l||l>-1&&n.indexOf(a.slice(0,l))>-1){let c=s.firstChild;for(;c&&c.from==s.from&&c.to-c.from>t.length+l;){if(i.sliceDoc(c.to-t.length,c.to)==t)return!1;c=c.firstChild}return!0}let h=s.to==e&&s.parent;if(!h)break;s=h}return!1}function SO(i,e,t){let n=i.charCategorizer(e);if(n(i.sliceDoc(e-1,e))!=at.Word)return e;for(let s of t){let r=e-s.length;if(i.sliceDoc(r,e)==s&&n(i.sliceDoc(r-1,r))!=at.Word)return r}return-1}function rI(i={}){return[bi,di.of(i),LA,oI,a1]}const d1=[{key:"Ctrl-Space",run:MA},{key:"Escape",run:_A},{key:"ArrowDown",run:ml(!0)},{key:"ArrowUp",run:ml(!1)},{key:"PageDown",run:ml(!0,"page")},{key:"PageUp",run:ml(!1,"page")},{key:"Enter",run:IA}],oI=$s.highest(Aa.computeN([di],i=>i.facet(di).defaultKeymap?[d1]:[])),aI=[Gi("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Gi("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Gi("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Gi("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Gi("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Gi(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Gi("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Gi(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Gi(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Gi('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Gi('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],bO=new DP,p1=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function go(i){return(e,t)=>{let n=e.node.getChild("VariableDefinition");return n&&t(n,i),!0}}const lI=["FunctionDeclaration"],hI={FunctionDeclaration:go("function"),ClassDeclaration:go("class"),ClassExpression:()=>!0,EnumDeclaration:go("constant"),TypeAliasDeclaration:go("type"),NamespaceDeclaration:go("namespace"),VariableDefinition(i,e){i.matchContext(lI)||e(i,"variable")},TypeDefinition(i,e){e(i,"type")},__proto__:null};function m1(i,e){let t=bO.get(e);if(t)return t;let n=[],s=!0;function r(o,a){let l=i.sliceString(o.from,o.to);n.push({label:l,type:a})}return e.cursor(Nt.IncludeAnonymous).iterate(o=>{if(s)s=!1;else if(o.name){let a=hI[o.name];if(a&&a(o,r)||p1.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of m1(i,o.node))n.push(a);return!1}}),bO.set(e,n),n}const wO=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,g1=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function cI(i){let e=St(i.state).resolveInner(i.pos,-1);if(g1.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&wO.test(i.state.sliceDoc(e.from,e.to));if(!t&&!i.explicit)return null;let n=[];for(let s=e;s;s=s.parent)p1.has(s.name)&&(n=n.concat(m1(i.state.doc,s)));return{options:n,from:t?e.from:i.pos,validFor:wO}}const Fs=kh.define({name:"javascript",parser:wE.configure({props:[Dx.add({IfStatement:fu({except:/^\s*({|else\b)/}),TryStatement:fu({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:RE,SwitchBody:i=>{let e=i.textAfter,t=/^\s*\}/.test(e),n=/^\s*(case|default)\b/.test(e);return i.baseIndent+(t?0:n?1:2)*i.unit},Block:QE({closing:"}"}),ArrowFunction:i=>i.baseIndent+i.unit,"TemplateString BlockComment":()=>null,"Statement Property":fu({except:/^{/}),JSXElement(i){let e=/^\s*<\//.test(i.textAfter);return i.lineIndent(i.node.from)+(e?0:i.unit)},JSXEscape(i){let e=/\s*\}/.test(i.textAfter);return i.lineIndent(i.node.from)+(e?0:i.unit)},"JSXOpenTag JSXSelfClosingTag"(i){return i.column(i.node.from)+i.unit}}),Xx.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":VE,BlockComment(i){return{from:i.from+2,to:i.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),O1={test:i=>/^JSX/.test(i.name),facet:Rx({commentTokens:{block:{open:"{/*",close:"*/}"}}})},uI=Fs.configure({dialect:"ts"},"typescript"),fI=Fs.configure({dialect:"jsx",props:[jd.add(i=>i.isTop?[O1]:void 0)]}),dI=Fs.configure({dialect:"jsx ts",props:[jd.add(i=>i.isTop?[O1]:void 0)]},"typescript"),pI="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(i=>({label:i,type:"keyword"}));function mI(i={}){let e=i.jsx?i.typescript?dI:fI:i.typescript?uI:Fs;return new $E(e,[Fs.data.of({autocomplete:gA(g1,t1(aI.concat(pI)))}),Fs.data.of({autocomplete:cI}),i.jsx?vI:[]])}function gI(i){for(;;){if(i.name=="JSXOpenTag"||i.name=="JSXSelfClosingTag"||i.name=="JSXFragmentTag")return i;if(i.name=="JSXEscape"||!i.parent)return null;i=i.parent}}function kO(i,e,t=i.length){for(let n=e?.firstChild;n;n=n.nextSibling)if(n.name=="JSXIdentifier"||n.name=="JSXBuiltin"||n.name=="JSXNamespacedName"||n.name=="JSXMemberExpression")return i.sliceString(n.from,Math.min(n.to,t));return""}function OI(i){return i&&(i.name=="JSXEndTag"||i.name=="JSXSelfCloseEndTag")}const yI=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),vI=he.inputHandler.of((i,e,t,n)=>{if((yI?i.composing:i.compositionStarted)||i.state.readOnly||e!=t||n!=">"&&n!="/"||!Fs.isActiveAt(i.state,e,-1))return!1;let{state:s}=i,r=s.changeByRange(o=>{var a;let{head:l}=o,h=St(s).resolveInner(l,-1),c;if(h.name=="JSXStartTag"&&(h=h.parent),!(h.name=="JSXAttributeValue"&&h.to>l)){if(n==">"&&h.name=="JSXFragmentTag")return{range:F.cursor(l+1),changes:{from:l,insert:"></>"}};if(n=="/"&&h.name=="JSXFragmentTag"){let f=h.parent,p=f?.parent;if(f.from==l-1&&((a=p.lastChild)===null||a===void 0?void 0:a.name)!="JSXEndTag"&&(c=kO(s.doc,p?.firstChild,l))){let g=`/${c}>`;return{range:F.cursor(l+g.length),changes:{from:l,insert:g}}}}else if(n==">"){let f=gI(h);if(f&&!OI(f.lastChild)&&s.sliceDoc(l,l+2)!="</"&&(c=kO(s.doc,f,l)))return{range:F.cursor(l+1),changes:{from:l,insert:`></${c}>`}}}}return{range:o}});return r.changes.empty?!1:(i.dispatch(r,{userEvent:"input.type",scrollIntoView:!0}),!0)}),xI=i=>{let{state:e}=i,t=e.doc.lineAt(e.selection.main.from),n=tp(i.state,t.from);return n.line?SI(i):n.block?wI(i):!1};function ep(i,e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let s=i(e,t);return s?(n(t.update(s)),!0):!1}}const SI=ep($I,0),bI=ep(y1,0),wI=ep((i,e)=>y1(i,e,CI(e)),0);function tp(i,e){let t=i.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Oo=50;function kI(i,{open:e,close:t},n,s){let r=i.sliceDoc(n-Oo,n),o=i.sliceDoc(s,s+Oo),a=/\s*$/.exec(r)[0].length,l=/^\s*/.exec(o)[0].length,h=r.length-a;if(r.slice(h-e.length,h)==e&&o.slice(l,l+t.length)==t)return{open:{pos:n-a,margin:a&&1},close:{pos:s+l,margin:l&&1}};let c,f;s-n<=2*Oo?c=f=i.sliceDoc(n,s):(c=i.sliceDoc(n,n+Oo),f=i.sliceDoc(s-Oo,s));let p=/^\s*/.exec(c)[0].length,g=/\s*$/.exec(f)[0].length,y=f.length-g-t.length;return c.slice(p,p+e.length)==e&&f.slice(y,y+t.length)==t?{open:{pos:n+p+e.length,margin:/\s/.test(c.charAt(p+e.length))?1:0},close:{pos:s-g-t.length,margin:/\s/.test(f.charAt(y-1))?1:0}}:null}function CI(i){let e=[];for(let t of i.selection.ranges){let n=i.doc.lineAt(t.from),s=t.to<=n.to?n:i.doc.lineAt(t.to),r=e.length-1;r>=0&&e[r].to>n.from?e[r].to=s.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:s.to})}return e}function y1(i,e,t=e.selection.ranges){let n=t.map(r=>tp(e,r.from).block);if(!n.every(r=>r))return null;let s=t.map((r,o)=>kI(e,n[o],r.from,r.to));if(i!=2&&!s.every(r=>r))return{changes:e.changes(t.map((r,o)=>s[o]?[]:[{from:r.from,insert:n[o].open+" "},{from:r.to,insert:" "+n[o].close}]))};if(i!=1&&s.some(r=>r)){let r=[];for(let o=0,a;o<s.length;o++)if(a=s[o]){let l=n[o],{open:h,close:c}=a;r.push({from:h.pos-l.open.length,to:h.pos+h.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:r}}return null}function $I(i,e,t=e.selection.ranges){let n=[],s=-1;for(let{from:r,to:o}of t){let a=n.length,l=1e9,h=tp(e,r).line;if(h){for(let c=r;c<=o;){let f=e.doc.lineAt(c);if(f.from>s&&(r==o||o>f.from)){s=f.from;let p=/^\s*/.exec(f.text)[0].length,g=p==f.length,y=f.text.slice(p,p+h.length)==h?p:-1;p<f.text.length&&p<l&&(l=p),n.push({line:f,comment:y,token:h,indent:p,empty:g,single:!1})}c=f.to+1}if(l<1e9)for(let c=a;c<n.length;c++)n[c].indent<n[c].line.text.length&&(n[c].indent=l);n.length==a+1&&(n[a].single=!0)}}if(i!=2&&n.some(r=>r.comment<0&&(!r.empty||r.single))){let r=[];for(let{line:a,token:l,indent:h,empty:c,single:f}of n)(f||!c)&&r.push({from:a.from+h,insert:l+" "});let o=e.changes(r);return{changes:o,selection:e.selection.map(o,1)}}else if(i!=1&&n.some(r=>r.comment>=0)){let r=[];for(let{line:o,comment:a,token:l}of n)if(a>=0){let h=o.from+a,c=h+l.length;o.text[c-o.from]==" "&&c++,r.push({from:h,to:c})}return{changes:r}}return null}const jf=qn.define(),PI=qn.define(),EI=pe.define(),v1=pe.define({combine(i){return Mn(i,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,s)=>e(n,s)||t(n,s)})}});function AI(i){let e=0;return i.iterChangedRanges((t,n)=>e=n),e}const x1=It.define({create(){return kn.empty},update(i,e){let t=e.state.facet(v1),n=e.annotation(jf);if(n){let l=e.docChanged?F.single(AI(e.changes)):void 0,h=pi.fromTransaction(e,l),c=n.side,f=c==0?i.undone:i.done;return h?f=Mh(f,f.length,t.minDepth,h):f=b1(f,e.startState.selection),new kn(c==0?n.rest:f,c==0?f:n.rest)}let s=e.annotation(PI);if((s=="full"||s=="before")&&(i=i.isolate()),e.annotation($t.addToHistory)===!1)return e.changes.empty?i:i.addMapping(e.changes.desc);let r=pi.fromTransaction(e),o=e.annotation($t.time),a=e.annotation($t.userEvent);return r?i=i.addChanges(r,o,a,t,e):e.selection&&(i=i.addSelection(e.startState.selection,o,a,t.newGroupDelay)),(s=="full"||s=="after")&&(i=i.isolate()),i},toJSON(i){return{done:i.done.map(e=>e.toJSON()),undone:i.undone.map(e=>e.toJSON())}},fromJSON(i){return new kn(i.done.map(pi.fromJSON),i.undone.map(pi.fromJSON))}});function II(i={}){return[x1,v1.of(i),he.domEventHandlers({beforeinput(e,t){let n=e.inputType=="historyUndo"?ip:e.inputType=="historyRedo"?Ih:null;return n?(e.preventDefault(),n(t)):!1}})]}function dc(i,e){return function({state:t,dispatch:n}){if(!e&&t.readOnly)return!1;let s=t.field(x1,!1);if(!s)return!1;let r=s.pop(i,t,e);return r?(n(r),!0):!1}}const ip=dc(0,!1),Ih=dc(1,!1),MI=dc(0,!0),_I=dc(1,!0);class pi{constructor(e,t,n,s,r){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=s,this.selectionsAfter=r}setSelAfter(e){return new pi(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new pi(e.changes&&Rt.fromJSON(e.changes),[],e.mapped&&$n.fromJSON(e.mapped),e.startSelection&&F.fromJSON(e.startSelection),e.selectionsAfter.map(F.fromJSON))}static fromTransaction(e,t){let n=Xi;for(let s of e.startState.facet(EI)){let r=s(e);r.length&&(n=n.concat(r))}return!n.length&&e.changes.empty?null:new pi(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,Xi)}static selection(e){return new pi(void 0,Xi,void 0,void 0,e)}}function Mh(i,e,t,n){let s=e+1>t+20?e-t-1:0,r=i.slice(s,e);return r.push(n),r}function TI(i,e){let t=[],n=!1;return i.iterChangedRanges((s,r)=>t.push(s,r)),e.iterChangedRanges((s,r,o,a)=>{for(let l=0;l<t.length;){let h=t[l++],c=t[l++];a>=h&&o<=c&&(n=!0)}}),n}function QI(i,e){return i.ranges.length==e.ranges.length&&i.ranges.filter((t,n)=>t.empty!=e.ranges[n].empty).length===0}function S1(i,e){return i.length?e.length?i.concat(e):i:e}const Xi=[],RI=200;function b1(i,e){if(i.length){let t=i[i.length-1],n=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-RI));return n.length&&n[n.length-1].eq(e)?i:(n.push(e),Mh(i,i.length-1,1e9,t.setSelAfter(n)))}else return[pi.selection([e])]}function LI(i){let e=i[i.length-1],t=i.slice();return t[i.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Ou(i,e){if(!i.length)return i;let t=i.length,n=Xi;for(;t;){let s=NI(i[t-1],e,n);if(s.changes&&!s.changes.empty||s.effects.length){let r=i.slice(0,t);return r[t-1]=s,r}else e=s.mapped,t--,n=s.selectionsAfter}return n.length?[pi.selection(n)]:Xi}function NI(i,e,t){let n=S1(i.selectionsAfter.length?i.selectionsAfter.map(a=>a.map(e)):Xi,t);if(!i.changes)return pi.selection(n);let s=i.changes.map(e),r=e.mapDesc(i.changes,!0),o=i.mapped?i.mapped.composeDesc(r):r;return new pi(s,$e.mapEffects(i.effects,e),o,i.startSelection.map(r),n)}const DI=/^(input\.type|delete)($|\.)/;class kn{constructor(e,t,n=0,s=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=s}isolate(){return this.prevTime?new kn(this.done,this.undone):this}addChanges(e,t,n,s,r){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!n||DI.test(n))&&(!a.selectionsAfter.length&&t-this.prevTime<s.newGroupDelay&&s.joinToEvent(r,TI(a.changes,e.changes))||n=="input.type.compose")?o=Mh(o,o.length-1,s.minDepth,new pi(e.changes.compose(a.changes),S1(e.effects,a.effects),a.mapped,a.startSelection,Xi)):o=Mh(o,o.length,s.minDepth,e),new kn(o,Xi,t,n)}addSelection(e,t,n,s){let r=this.done.length?this.done[this.done.length-1].selectionsAfter:Xi;return r.length>0&&t-this.prevTime<s&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&QI(r[r.length-1],e)?this:new kn(b1(this.done,e),this.undone,t,n)}addMapping(e){return new kn(Ou(this.done,e),Ou(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let s=e==0?this.done:this.undone;if(s.length==0)return null;let r=s[s.length-1];if(n&&r.selectionsAfter.length)return t.update({selection:r.selectionsAfter[r.selectionsAfter.length-1],annotations:jf.of({side:e,rest:LI(s)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(r.changes){let o=s.length==1?Xi:s.slice(0,s.length-1);return r.mapped&&(o=Ou(o,r.mapped)),t.update({changes:r.changes,selection:r.startSelection,effects:r.effects,annotations:jf.of({side:e,rest:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}kn.empty=new kn(Xi,Xi);const VI=[{key:"Mod-z",run:ip,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Ih,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Ih,preventDefault:!0},{key:"Mod-u",run:MI,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:_I,preventDefault:!0}];function to(i,e){return F.create(i.ranges.map(e),i.mainIndex)}function Tn(i,e){return i.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function nn({state:i,dispatch:e},t){let n=to(i.selection,t);return n.eq(i.selection)?!1:(e(Tn(i,n)),!0)}function pc(i,e){return F.cursor(e?i.to:i.from)}function np(i,e){return nn(i,t=>t.empty?i.moveByChar(t,e):pc(t,e))}function ei(i){return i.textDirectionAt(i.state.selection.main.head)==lt.LTR}const sp=i=>np(i,!ei(i)),w1=i=>np(i,ei(i)),BI=i=>np(i,!1);function k1(i,e){return nn(i,t=>t.empty?i.moveByGroup(t,e):pc(t,e))}const XI=i=>k1(i,!ei(i)),zI=i=>k1(i,ei(i));function ZI(i,e,t){if(e.type.prop(t))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(i.sliceDoc(e.from,e.to)))||e.firstChild}function mc(i,e,t){let n=St(i).resolveInner(e.head),s=t?_e.closedBy:_e.openedBy;for(let l=e.head;;){let h=t?n.childAfter(l):n.childBefore(l);if(!h)break;ZI(i,h,s)?n=h:l=t?h.to:h.from}let r=n.type.prop(s),o,a;return r&&(o=t?Bi(i,n.from,1):Bi(i,n.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?n.to:n.from,F.cursor(a,t?-1:1)}const UI=i=>nn(i,e=>mc(i.state,e,!ei(i))),jI=i=>nn(i,e=>mc(i.state,e,ei(i)));function C1(i,e){return nn(i,t=>{if(!t.empty)return pc(t,e);let n=i.moveVertically(t,e);return n.head!=t.head?n:i.moveToLineBoundary(t,e)})}const $1=i=>C1(i,!1),P1=i=>C1(i,!0);function E1(i){let e=i.scrollDOM.clientHeight<i.scrollDOM.scrollHeight-2,t=0,n=0,s;if(e){for(let r of i.state.facet(he.scrollMargins)){let o=r(i);o?.top&&(t=Math.max(o?.top,t)),o?.bottom&&(n=Math.max(o?.bottom,n))}s=i.scrollDOM.clientHeight-t-n}else s=(i.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:n,selfScroll:e,height:Math.max(i.defaultLineHeight,s-5)}}function A1(i,e){let t=E1(i),{state:n}=i,s=to(n.selection,o=>o.empty?i.moveVertically(o,e,t.height):pc(o,e));if(s.eq(n.selection))return!1;let r;if(t.selfScroll){let o=i.coordsAtPos(n.selection.main.head),a=i.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,h=a.bottom-t.marginBottom;o&&o.top>l&&o.bottom<h&&(r=he.scrollIntoView(s.main.head,{y:"start",yMargin:o.top-l}))}return i.dispatch(Tn(n,s),{effects:r}),!0}const CO=i=>A1(i,!1),Ff=i=>A1(i,!0);function Ps(i,e,t){let n=i.lineBlockAt(e.head),s=i.moveToLineBoundary(e,t);if(s.head==e.head&&s.head!=(t?n.to:n.from)&&(s=i.moveToLineBoundary(e,t,!1)),!t&&s.head==n.from&&n.length){let r=/^\s*/.exec(i.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;r&&e.head!=n.from+r&&(s=F.cursor(n.from+r))}return s}const I1=i=>nn(i,e=>Ps(i,e,!0)),M1=i=>nn(i,e=>Ps(i,e,!1)),FI=i=>nn(i,e=>Ps(i,e,!ei(i))),WI=i=>nn(i,e=>Ps(i,e,ei(i))),YI=i=>nn(i,e=>F.cursor(i.lineBlockAt(e.head).from,1)),GI=i=>nn(i,e=>F.cursor(i.lineBlockAt(e.head).to,-1));function qI(i,e,t){let n=!1,s=to(i.selection,r=>{let o=Bi(i,r.head,-1)||Bi(i,r.head,1)||r.head>0&&Bi(i,r.head-1,1)||r.head<i.doc.length&&Bi(i,r.head+1,-1);if(!o||!o.end)return r;n=!0;let a=o.start.from==r.head?o.end.to:o.end.from;return t?F.range(r.anchor,a):F.cursor(a)});return n?(e(Tn(i,s)),!0):!1}const HI=({state:i,dispatch:e})=>qI(i,e,!1);function Fi(i,e){let t=to(i.state.selection,n=>{let s=e(n);return F.range(n.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return t.eq(i.state.selection)?!1:(i.dispatch(Tn(i.state,t)),!0)}function _1(i,e){return Fi(i,t=>i.moveByChar(t,e))}const T1=i=>_1(i,!ei(i)),Q1=i=>_1(i,ei(i));function R1(i,e){return Fi(i,t=>i.moveByGroup(t,e))}const KI=i=>R1(i,!ei(i)),JI=i=>R1(i,ei(i)),eM=i=>Fi(i,e=>mc(i.state,e,!ei(i))),tM=i=>Fi(i,e=>mc(i.state,e,ei(i)));function L1(i,e){return Fi(i,t=>i.moveVertically(t,e))}const N1=i=>L1(i,!1),D1=i=>L1(i,!0);function V1(i,e){return Fi(i,t=>i.moveVertically(t,e,E1(i).height))}const $O=i=>V1(i,!1),PO=i=>V1(i,!0),iM=i=>Fi(i,e=>Ps(i,e,!0)),nM=i=>Fi(i,e=>Ps(i,e,!1)),sM=i=>Fi(i,e=>Ps(i,e,!ei(i))),rM=i=>Fi(i,e=>Ps(i,e,ei(i))),oM=i=>Fi(i,e=>F.cursor(i.lineBlockAt(e.head).from)),aM=i=>Fi(i,e=>F.cursor(i.lineBlockAt(e.head).to)),EO=({state:i,dispatch:e})=>(e(Tn(i,{anchor:0})),!0),AO=({state:i,dispatch:e})=>(e(Tn(i,{anchor:i.doc.length})),!0),IO=({state:i,dispatch:e})=>(e(Tn(i,{anchor:i.selection.main.anchor,head:0})),!0),MO=({state:i,dispatch:e})=>(e(Tn(i,{anchor:i.selection.main.anchor,head:i.doc.length})),!0),lM=({state:i,dispatch:e})=>(e(i.update({selection:{anchor:0,head:i.doc.length},userEvent:"select"})),!0),hM=({state:i,dispatch:e})=>{let t=Oc(i).map(({from:n,to:s})=>F.range(n,Math.min(s+1,i.doc.length)));return e(i.update({selection:F.create(t),userEvent:"select"})),!0},cM=({state:i,dispatch:e})=>{let t=to(i.selection,n=>{var s;let r=St(i).resolveInner(n.head,1);for(;!(r.from<n.from&&r.to>=n.to||r.to>n.to&&r.from<=n.from||!(!((s=r.parent)===null||s===void 0)&&s.parent));)r=r.parent;return F.range(r.to,r.from)});return e(Tn(i,t)),!0},uM=({state:i,dispatch:e})=>{let t=i.selection,n=null;return t.ranges.length>1?n=F.create([t.main]):t.main.empty||(n=F.create([F.cursor(t.main.head)])),n?(e(Tn(i,n)),!0):!1};function gc(i,e){if(i.state.readOnly)return!1;let t="delete.selection",{state:n}=i,s=n.changeByRange(r=>{let{from:o,to:a}=r;if(o==a){let l=e(o);l<o?(t="delete.backward",l=gl(i,l,!1)):l>o&&(t="delete.forward",l=gl(i,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=gl(i,o,!1),a=gl(i,a,!0);return o==a?{range:r}:{changes:{from:o,to:a},range:F.cursor(o)}});return s.changes.empty?!1:(i.dispatch(n.update(s,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?he.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function gl(i,e,t){if(i instanceof he)for(let n of i.state.facet(he.atomicRanges).map(s=>s(i)))n.between(e,e,(s,r)=>{s<e&&r>e&&(e=t?r:s)});return e}const B1=(i,e)=>gc(i,t=>{let{state:n}=i,s=n.doc.lineAt(t),r,o;if(!e&&t>s.from&&t<s.from+200&&!/[^ \t]/.test(r=s.text.slice(0,t-s.from))){if(r[r.length-1]=="	")return t-1;let a=$a(r,n.tabSize),l=a%$h(n)||$h(n);for(let h=0;h<l&&r[r.length-1-h]==" ";h++)t--;o=t}else o=Kt(s.text,t-s.from,e,e)+s.from,o==t&&s.number!=(e?n.doc.lines:1)&&(o+=e?1:-1);return o}),Wf=i=>B1(i,!1),X1=i=>B1(i,!0),z1=(i,e)=>gc(i,t=>{let n=t,{state:s}=i,r=s.doc.lineAt(n),o=s.charCategorizer(n);for(let a=null;;){if(n==(e?r.to:r.from)){n==t&&r.number!=(e?s.doc.lines:1)&&(n+=e?1:-1);break}let l=Kt(r.text,n-r.from,e)+r.from,h=r.text.slice(Math.min(n,l)-r.from,Math.max(n,l)-r.from),c=o(h);if(a!=null&&c!=a)break;(h!=" "||n!=t)&&(a=c),n=l}return n}),Z1=i=>z1(i,!1),fM=i=>z1(i,!0),U1=i=>gc(i,e=>{let t=i.lineBlockAt(e).to;return e<t?t:Math.min(i.state.doc.length,e+1)}),dM=i=>gc(i,e=>{let t=i.lineBlockAt(e).from;return e>t?t:Math.max(0,e-1)}),pM=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=i.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:ze.of(["",""])},range:F.cursor(n.from)}));return e(i.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},mM=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=i.changeByRange(n=>{if(!n.empty||n.from==0||n.from==i.doc.length)return{range:n};let s=n.from,r=i.doc.lineAt(s),o=s==r.from?s-1:Kt(r.text,s-r.from,!1)+r.from,a=s==r.to?s+1:Kt(r.text,s-r.from,!0)+r.from;return{changes:{from:o,to:a,insert:i.doc.slice(s,a).append(i.doc.slice(o,s))},range:F.cursor(a)}});return t.changes.empty?!1:(e(i.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Oc(i){let e=[],t=-1;for(let n of i.selection.ranges){let s=i.doc.lineAt(n.from),r=i.doc.lineAt(n.to);if(!n.empty&&n.to==r.from&&(r=i.doc.lineAt(n.to-1)),t>=s.number){let o=e[e.length-1];o.to=r.to,o.ranges.push(n)}else e.push({from:s.from,to:r.to,ranges:[n]});t=r.number+1}return e}function j1(i,e,t){if(i.readOnly)return!1;let n=[],s=[];for(let r of Oc(i)){if(t?r.to==i.doc.length:r.from==0)continue;let o=i.doc.lineAt(t?r.to+1:r.from-1),a=o.length+1;if(t){n.push({from:r.to,to:o.to},{from:r.from,insert:o.text+i.lineBreak});for(let l of r.ranges)s.push(F.range(Math.min(i.doc.length,l.anchor+a),Math.min(i.doc.length,l.head+a)))}else{n.push({from:o.from,to:r.from},{from:r.to,insert:i.lineBreak+o.text});for(let l of r.ranges)s.push(F.range(l.anchor-a,l.head-a))}}return n.length?(e(i.update({changes:n,scrollIntoView:!0,selection:F.create(s,i.selection.mainIndex),userEvent:"move.line"})),!0):!1}const gM=({state:i,dispatch:e})=>j1(i,e,!1),OM=({state:i,dispatch:e})=>j1(i,e,!0);function F1(i,e,t){if(i.readOnly)return!1;let n=[];for(let s of Oc(i))t?n.push({from:s.from,insert:i.doc.slice(s.from,s.to)+i.lineBreak}):n.push({from:s.to,insert:i.lineBreak+i.doc.slice(s.from,s.to)});return e(i.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const yM=({state:i,dispatch:e})=>F1(i,e,!1),vM=({state:i,dispatch:e})=>F1(i,e,!0),xM=i=>{if(i.state.readOnly)return!1;let{state:e}=i,t=e.changes(Oc(e).map(({from:s,to:r})=>(s>0?s--:r<e.doc.length&&r++,{from:s,to:r}))),n=to(e.selection,s=>i.moveVertically(s,!0)).map(t);return i.dispatch({changes:t,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function SM(i,e){if(/\(\)|\[\]|\{\}/.test(i.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=St(i).resolveInner(e),n=t.childBefore(e),s=t.childAfter(e),r;return n&&s&&n.to<=e&&s.from>=e&&(r=n.type.prop(_e.closedBy))&&r.indexOf(s.name)>-1&&i.doc.lineAt(n.to).from==i.doc.lineAt(s.from).from?{from:n.to,to:s.from}:null}const W1=Y1(!1),bM=Y1(!0);function Y1(i){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(s=>{let{from:r,to:o}=s,a=e.doc.lineAt(r),l=!i&&r==o&&SM(e,r);i&&(r=o=(o<=a.to?a:e.doc.lineAt(o)).to);let h=new cc(e,{simulateBreak:r,simulateDoubleBreak:!!l}),c=Fd(h,r);for(c==null&&(c=/^\s*/.exec(e.doc.lineAt(r).text)[0].length);o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:r,to:o}=l:r>a.from&&r<a.from+100&&!/\S/.test(a.text.slice(0,r))&&(r=a.from);let f=["",oa(e,c)];return l&&f.push(oa(e,h.lineIndent(a.from,-1))),{changes:{from:r,to:o,insert:ze.of(f)},range:F.cursor(r+1+f[1].length)}});return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function rp(i,e){let t=-1;return i.changeByRange(n=>{let s=[];for(let o=n.from;o<=n.to;){let a=i.doc.lineAt(o);a.number>t&&(n.empty||n.to>a.from)&&(e(a,s,n),t=a.number),o=a.to+1}let r=i.changes(s);return{changes:s,range:F.range(r.mapPos(n.anchor,1),r.mapPos(n.head,1))}})}const G1=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=Object.create(null),n=new cc(i,{overrideIndentation:r=>{let o=t[r];return o??-1}}),s=rp(i,(r,o,a)=>{let l=Fd(n,r.from);if(l==null)return;/\S/.test(r.text)||(l=0);let h=/^\s*/.exec(r.text)[0],c=oa(i,l);(h!=c||a.from<r.from+h.length)&&(t[r.from]=l,o.push({from:r.from,to:r.from+h.length,insert:c}))});return s.changes.empty||e(i.update(s,{userEvent:"indent"})),!0},op=({state:i,dispatch:e})=>i.readOnly?!1:(e(i.update(rp(i,(t,n)=>{n.push({from:t.from,insert:i.facet(er)})}),{userEvent:"input.indent"})),!0),ap=({state:i,dispatch:e})=>i.readOnly?!1:(e(i.update(rp(i,(t,n)=>{let s=/^\s*/.exec(t.text)[0];if(!s)return;let r=$a(s,i.tabSize),o=0,a=oa(i,Math.max(0,r-$h(i)));for(;o<s.length&&o<a.length&&s.charCodeAt(o)==a.charCodeAt(o);)o++;n.push({from:t.from+o,to:t.from+s.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),wM=[{key:"Ctrl-b",run:sp,shift:T1,preventDefault:!0},{key:"Ctrl-f",run:w1,shift:Q1},{key:"Ctrl-p",run:$1,shift:N1},{key:"Ctrl-n",run:P1,shift:D1},{key:"Ctrl-a",run:YI,shift:oM},{key:"Ctrl-e",run:GI,shift:aM},{key:"Ctrl-d",run:X1},{key:"Ctrl-h",run:Wf},{key:"Ctrl-k",run:U1},{key:"Ctrl-Alt-h",run:Z1},{key:"Ctrl-o",run:pM},{key:"Ctrl-t",run:mM},{key:"Ctrl-v",run:Ff}],kM=[{key:"ArrowLeft",run:sp,shift:T1,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:XI,shift:KI,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:FI,shift:sM,preventDefault:!0},{key:"ArrowRight",run:w1,shift:Q1,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:zI,shift:JI,preventDefault:!0},{mac:"Cmd-ArrowRight",run:WI,shift:rM,preventDefault:!0},{key:"ArrowUp",run:$1,shift:N1,preventDefault:!0},{mac:"Cmd-ArrowUp",run:EO,shift:IO},{mac:"Ctrl-ArrowUp",run:CO,shift:$O},{key:"ArrowDown",run:P1,shift:D1,preventDefault:!0},{mac:"Cmd-ArrowDown",run:AO,shift:MO},{mac:"Ctrl-ArrowDown",run:Ff,shift:PO},{key:"PageUp",run:CO,shift:$O},{key:"PageDown",run:Ff,shift:PO},{key:"Home",run:M1,shift:nM,preventDefault:!0},{key:"Mod-Home",run:EO,shift:IO},{key:"End",run:I1,shift:iM,preventDefault:!0},{key:"Mod-End",run:AO,shift:MO},{key:"Enter",run:W1},{key:"Mod-a",run:lM},{key:"Backspace",run:Wf,shift:Wf},{key:"Delete",run:X1},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Z1},{key:"Mod-Delete",mac:"Alt-Delete",run:fM},{mac:"Mod-Backspace",run:dM},{mac:"Mod-Delete",run:U1}].concat(wM.map(i=>({mac:i.key,run:i.run,shift:i.shift}))),CM=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:UI,shift:eM},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:jI,shift:tM},{key:"Alt-ArrowUp",run:gM},{key:"Shift-Alt-ArrowUp",run:yM},{key:"Alt-ArrowDown",run:OM},{key:"Shift-Alt-ArrowDown",run:vM},{key:"Escape",run:uM},{key:"Mod-Enter",run:bM},{key:"Alt-l",mac:"Ctrl-l",run:hM},{key:"Mod-i",run:cM,preventDefault:!0},{key:"Mod-[",run:ap},{key:"Mod-]",run:op},{key:"Mod-Alt-\\",run:G1},{key:"Shift-Mod-k",run:xM},{key:"Shift-Mod-\\",run:HI},{key:"Mod-/",run:xI},{key:"Alt-A",run:bI}].concat(kM),$M={key:"Tab",run:op,shift:ap};function qe(){var i=arguments[0];typeof i=="string"&&(i=document.createElement(i));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=t[n];typeof s=="string"?i.setAttribute(n,s):s!=null&&(i[n]=s)}e++}for(;e<arguments.length;e++)q1(i,arguments[e]);return i}function q1(i,e){if(typeof e=="string")i.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)i.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)q1(i,e[t]);else throw new RangeError("Unsupported child node: "+e)}const _O=typeof String.prototype.normalize=="function"?i=>i.normalize("NFKD"):i=>i;class Fr{constructor(e,t,n=0,s=e.length,r,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,s),this.bufferStart=n,this.normalize=r?a=>r(_O(a)):_O,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Ft(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Ed(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Di(e);let s=this.normalize(t);for(let r=0,o=n;;r++){let a=s.charCodeAt(r),l=this.match(a,o);if(r==s.length-1){if(l)return this.value=l,this;break}o==n&&r<t.length&&t.charCodeAt(r)==a&&o++}}}match(e,t){let n=null;for(let s=0;s<this.matches.length;s+=2){let r=this.matches[s],o=!1;this.query.charCodeAt(r)==e&&(r==this.query.length-1?n={from:this.matches[s+1],to:t+1}:(this.matches[s]++,o=!0)),o||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?n={from:t,to:t+1}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferPos)&&(n=null),n}}typeof Symbol<"u"&&(Fr.prototype[Symbol.iterator]=function(){return this});const H1={from:-1,to:-1,match:/.*/.exec("")},lp="gm"+(/x/.unicode==null?"":"u");class hp{constructor(e,t,n,s=0,r=e.length){if(this.text=e,this.to=r,this.curLine="",this.done=!1,this.value=H1,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new K1(e,t,n,s,r);this.re=new RegExp(t,lp+(n?.ignoreCase?"i":"")),this.test=n?.test,this.iter=e.iter();let o=e.lineAt(s);this.curLineStart=o.from,this.matchPos=_h(e,s),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,s=n+t[0].length;if(this.matchPos=_h(this.text,s+(n==s?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<s||n>this.value.to)&&(!this.test||this.test(n,s,t)))return this.value={from:n,to:s,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const yu=new WeakMap;class Nr{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let s=yu.get(e);if(!s||s.from>=n||s.to<=t){let a=new Nr(t,e.sliceString(t,n));return yu.set(e,a),a}if(s.from==t&&s.to==n)return s;let{text:r,from:o}=s;return o>t&&(r=e.sliceString(t,o)+r,o=t),s.to<n&&(r+=e.sliceString(s.to,n)),yu.set(e,new Nr(o,r)),new Nr(t,r.slice(t-o,n-o))}}class K1{constructor(e,t,n,s,r){this.text=e,this.to=r,this.done=!1,this.value=H1,this.matchPos=_h(e,s),this.re=new RegExp(t,lp+(n?.ignoreCase?"i":"")),this.test=n?.test,this.flat=Nr.get(e,s,this.chunkEnd(s+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let n=this.flat.from+t.index,s=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,s,t)))return this.value={from:n,to:s,match:t},this.matchPos=_h(this.text,s+(n==s?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Nr.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(hp.prototype[Symbol.iterator]=K1.prototype[Symbol.iterator]=function(){return this});function PM(i){try{return new RegExp(i,lp),!0}catch{return!1}}function _h(i,e){if(e>=i.length)return e;let t=i.lineAt(e),n;for(;e<t.to&&(n=t.text.charCodeAt(e-t.from))>=56320&&n<57344;)e++;return e}function Yf(i){let e=qe("input",{class:"cm-textfield",name:"line"}),t=qe("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),i.dispatch({effects:Th.of(!1)}),i.focus()):s.keyCode==13&&(s.preventDefault(),n())},onsubmit:s=>{s.preventDefault(),n()}},qe("label",i.state.phrase("Go to line"),": ",e)," ",qe("button",{class:"cm-button",type:"submit"},i.state.phrase("go")));function n(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!s)return;let{state:r}=i,o=r.doc.lineAt(r.selection.main.head),[,a,l,h,c]=s,f=h?+h.slice(1):0,p=l?+l:o.number;if(l&&c){let v=p/100;a&&(v=v*(a=="-"?-1:1)+o.number/r.doc.lines),p=Math.round(r.doc.lines*v)}else l&&a&&(p=p*(a=="-"?-1:1)+o.number);let g=r.doc.line(Math.max(1,Math.min(r.doc.lines,p))),y=F.cursor(g.from+Math.max(0,Math.min(f,g.length)));i.dispatch({effects:[Th.of(!1),he.scrollIntoView(y.from,{y:"center"})],selection:y}),i.focus()}return{dom:t}}const Th=$e.define(),TO=It.define({create(){return!0},update(i,e){for(let t of e.effects)t.is(Th)&&(i=t.value);return i},provide:i=>Js.from(i,e=>e?Yf:null)}),EM=i=>{let e=ra(i,Yf);if(!e){let t=[Th.of(!0)];i.state.field(TO,!1)==null&&t.push($e.appendConfig.of([TO,AM])),i.dispatch({effects:t}),e=ra(i,Yf)}return e&&e.dom.querySelector("input").focus(),!0},AM=he.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),IM={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},J1=pe.define({combine(i){return Mn(i,IM,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function MM(i){let e=[LM,RM];return i&&e.push(J1.of(i)),e}const _M=ye.mark({class:"cm-selectionMatch"}),TM=ye.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function QO(i,e,t,n){return(t==0||i(e.sliceDoc(t-1,t))!=at.Word)&&(n==e.doc.length||i(e.sliceDoc(n,n+1))!=at.Word)}function QM(i,e,t,n){return i(e.sliceDoc(t,t+1))==at.Word&&i(e.sliceDoc(n-1,n))==at.Word}const RM=gt.fromClass(class{constructor(i){this.decorations=this.getDeco(i)}update(i){(i.selectionSet||i.docChanged||i.viewportChanged)&&(this.decorations=this.getDeco(i.view))}getDeco(i){let e=i.state.facet(J1),{state:t}=i,n=t.selection;if(n.ranges.length>1)return ye.none;let s=n.main,r,o=null;if(s.empty){if(!e.highlightWordAroundCursor)return ye.none;let l=t.wordAt(s.head);if(!l)return ye.none;o=t.charCategorizer(s.head),r=t.sliceDoc(l.from,l.to)}else{let l=s.to-s.from;if(l<e.minSelectionLength||l>200)return ye.none;if(e.wholeWords){if(r=t.sliceDoc(s.from,s.to),o=t.charCategorizer(s.head),!(QO(o,t,s.from,s.to)&&QM(o,t,s.from,s.to)))return ye.none}else if(r=t.sliceDoc(s.from,s.to).trim(),!r)return ye.none}let a=[];for(let l of i.visibleRanges){let h=new Fr(t.doc,r,l.from,l.to);for(;!h.next().done;){let{from:c,to:f}=h.value;if((!o||QO(o,t,c,f))&&(s.empty&&c<=s.from&&f>=s.to?a.push(TM.range(c,f)):(c>=s.to||f<=s.from)&&a.push(_M.range(c,f)),a.length>e.maxMatches))return ye.none}}return ye.set(a)}},{decorations:i=>i.decorations}),LM=he.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),NM=({state:i,dispatch:e})=>{let{selection:t}=i,n=F.create(t.ranges.map(s=>i.wordAt(s.head)||F.cursor(s.head)),t.mainIndex);return n.eq(t)?!1:(e(i.update({selection:n})),!0)};function DM(i,e){let{main:t,ranges:n}=i.selection,s=i.wordAt(t.head),r=s&&s.from==t.from&&s.to==t.to;for(let o=!1,a=new Fr(i.doc,e,n[n.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new Fr(i.doc,e,0,Math.max(0,n[n.length-1].from-1)),o=!0}else{if(o&&n.some(l=>l.from==a.value.from))continue;if(r){let l=i.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const VM=({state:i,dispatch:e})=>{let{ranges:t}=i.selection;if(t.some(r=>r.from===r.to))return NM({state:i,dispatch:e});let n=i.sliceDoc(t[0].from,t[0].to);if(i.selection.ranges.some(r=>i.sliceDoc(r.from,r.to)!=n))return!1;let s=DM(i,n);return s?(e(i.update({selection:i.selection.addRange(F.range(s.from,s.to),!1),effects:he.scrollIntoView(s.to)})),!0):!1},io=pe.define({combine(i){return Mn(i,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new HM(e),scrollToMatch:e=>he.scrollIntoView(e)})}});class cp{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||PM(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new ZM(this):new XM(this)}getCursor(e,t=0,n){let s=e.doc?e:Ve.create({doc:e});return n==null&&(n=s.doc.length),this.regexp?br(this,s,t,n):Sr(this,s,t,n)}}class eS{constructor(e){this.spec=e}}function Sr(i,e,t,n){return new Fr(e.doc,i.unquoted,t,n,i.caseSensitive?void 0:s=>s.toLowerCase(),i.wholeWord?BM(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function BM(i,e){return(t,n,s,r)=>((r>t||r+s.length<n)&&(r=Math.max(0,t-2),s=i.sliceString(r,Math.min(i.length,n+2))),(e(Qh(s,t-r))!=at.Word||e(Rh(s,t-r))!=at.Word)&&(e(Rh(s,n-r))!=at.Word||e(Qh(s,n-r))!=at.Word))}class XM extends eS{constructor(e){super(e)}nextMatch(e,t,n){let s=Sr(this.spec,e,n,e.doc.length).nextOverlapping();return s.done&&(s=Sr(this.spec,e,0,t).nextOverlapping()),s.done?null:s.value}prevMatchInRange(e,t,n){for(let s=n;;){let r=Math.max(t,s-1e4-this.spec.unquoted.length),o=Sr(this.spec,e,r,s),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(r==t)return null;s-=1e4}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=Sr(this.spec,e,0,e.doc.length),s=[];for(;!n.next().done;){if(s.length>=t)return null;s.push(n.value)}return s}highlight(e,t,n,s){let r=Sr(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!r.next().done;)s(r.value.from,r.value.to)}}function br(i,e,t,n){return new hp(e.doc,i.search,{ignoreCase:!i.caseSensitive,test:i.wholeWord?zM(e.charCategorizer(e.selection.main.head)):void 0},t,n)}function Qh(i,e){return i.slice(Kt(i,e,!1),e)}function Rh(i,e){return i.slice(e,Kt(i,e))}function zM(i){return(e,t,n)=>!n[0].length||(i(Qh(n.input,n.index))!=at.Word||i(Rh(n.input,n.index))!=at.Word)&&(i(Rh(n.input,n.index+n[0].length))!=at.Word||i(Qh(n.input,n.index+n[0].length))!=at.Word)}class ZM extends eS{nextMatch(e,t,n){let s=br(this.spec,e,n,e.doc.length).next();return s.done&&(s=br(this.spec,e,0,t).next()),s.done?null:s.value}prevMatchInRange(e,t,n){for(let s=1;;s++){let r=Math.max(t,n-s*1e4),o=br(this.spec,e,r,n),a=null;for(;!o.next().done;)a=o.value;if(a&&(r==t||a.from>r+10))return a;if(r==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(t,n)=>n=="$"?"$":n=="&"?e.match[0]:n!="0"&&+n<e.match.length?e.match[n]:t))}matchAll(e,t){let n=br(this.spec,e,0,e.doc.length),s=[];for(;!n.next().done;){if(s.length>=t)return null;s.push(n.value)}return s}highlight(e,t,n,s){let r=br(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!r.next().done;)s(r.value.from,r.value.to)}}const bs=$e.define(),up=$e.define(),fs=It.define({create(i){return new vu(Gf(i).create(),null)},update(i,e){for(let t of e.effects)t.is(bs)?i=new vu(t.value.create(),i.panel):t.is(up)&&(i=new vu(i.query,t.value?fp:null));return i},provide:i=>Js.from(i,e=>e.panel)});class vu{constructor(e,t){this.query=e,this.panel=t}}const UM=ye.mark({class:"cm-searchMatch"}),jM=ye.mark({class:"cm-searchMatch cm-searchMatch-selected"}),FM=gt.fromClass(class{constructor(i){this.view=i,this.decorations=this.highlight(i.state.field(fs))}update(i){let e=i.state.field(fs);(e!=i.startState.field(fs)||i.docChanged||i.selectionSet||i.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:i,panel:e}){if(!e||!i.spec.valid)return ye.none;let{view:t}=this,n=new Un;for(let s=0,r=t.visibleRanges,o=r.length;s<o;s++){let{from:a,to:l}=r[s];for(;s<o-1&&l>r[s+1].from-2*250;)l=r[++s].to;i.highlight(t.state,a,l,(h,c)=>{let f=t.state.selection.ranges.some(p=>p.from==h&&p.to==c);n.add(h,c,f?jM:UM)})}return n.finish()}},{decorations:i=>i.decorations});function Qa(i){return e=>{let t=e.state.field(fs,!1);return t&&t.query.spec.valid?i(e,t):nS(e)}}const Lh=Qa((i,{query:e})=>{let{to:t}=i.state.selection.main,n=e.nextMatch(i.state,t,t);if(!n)return!1;let s=F.single(n.from,n.to),r=i.state.facet(io);return i.dispatch({selection:s,effects:[dp(i,n),r.scrollToMatch(s.main,i)],userEvent:"select.search"}),iS(i),!0}),Nh=Qa((i,{query:e})=>{let{state:t}=i,{from:n}=t.selection.main,s=e.prevMatch(t,n,n);if(!s)return!1;let r=F.single(s.from,s.to),o=i.state.facet(io);return i.dispatch({selection:r,effects:[dp(i,s),o.scrollToMatch(r.main,i)],userEvent:"select.search"}),iS(i),!0}),WM=Qa((i,{query:e})=>{let t=e.matchAll(i.state,1e3);return!t||!t.length?!1:(i.dispatch({selection:F.create(t.map(n=>F.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),YM=({state:i,dispatch:e})=>{let t=i.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:n,to:s}=t.main,r=[],o=0;for(let a=new Fr(i.doc,i.sliceDoc(n,s));!a.next().done;){if(r.length>1e3)return!1;a.value.from==n&&(o=r.length),r.push(F.range(a.value.from,a.value.to))}return e(i.update({selection:F.create(r,o),userEvent:"select.search.matches"})),!0},RO=Qa((i,{query:e})=>{let{state:t}=i,{from:n,to:s}=t.selection.main;if(t.readOnly)return!1;let r=e.nextMatch(t,n,n);if(!r)return!1;let o=[],a,l,h=[];if(r.from==n&&r.to==s&&(l=t.toText(e.getReplacement(r)),o.push({from:r.from,to:r.to,insert:l}),r=e.nextMatch(t,r.from,r.to),h.push(he.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(n).number)+"."))),r){let c=o.length==0||o[0].from>=r.to?0:r.to-r.from-l.length;a=F.single(r.from-c,r.to-c),h.push(dp(i,r)),h.push(t.facet(io).scrollToMatch(a.main,i))}return i.dispatch({changes:o,selection:a,effects:h,userEvent:"input.replace"}),!0}),GM=Qa((i,{query:e})=>{if(i.state.readOnly)return!1;let t=e.matchAll(i.state,1e9).map(s=>{let{from:r,to:o}=s;return{from:r,to:o,insert:e.getReplacement(s)}});if(!t.length)return!1;let n=i.state.phrase("replaced $ matches",t.length)+".";return i.dispatch({changes:t,effects:he.announce.of(n),userEvent:"input.replace.all"}),!0});function fp(i){return i.state.facet(io).createPanel(i)}function Gf(i,e){var t,n,s,r,o;let a=i.selection.main,l=a.empty||a.to>a.from+100?"":i.sliceDoc(a.from,a.to);if(e&&!l)return e;let h=i.facet(io);return new cp({search:((t=e?.literal)!==null&&t!==void 0?t:h.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(n=e?.caseSensitive)!==null&&n!==void 0?n:h.caseSensitive,literal:(s=e?.literal)!==null&&s!==void 0?s:h.literal,regexp:(r=e?.regexp)!==null&&r!==void 0?r:h.regexp,wholeWord:(o=e?.wholeWord)!==null&&o!==void 0?o:h.wholeWord})}function tS(i){let e=ra(i,fp);return e&&e.dom.querySelector("[main-field]")}function iS(i){let e=tS(i);e&&e==i.root.activeElement&&e.select()}const nS=i=>{let e=i.state.field(fs,!1);if(e&&e.panel){let t=tS(i);if(t&&t!=i.root.activeElement){let n=Gf(i.state,e.query.spec);n.valid&&i.dispatch({effects:bs.of(n)}),t.focus(),t.select()}}else i.dispatch({effects:[up.of(!0),e?bs.of(Gf(i.state,e.query.spec)):$e.appendConfig.of(JM)]});return!0},sS=i=>{let e=i.state.field(fs,!1);if(!e||!e.panel)return!1;let t=ra(i,fp);return t&&t.dom.contains(i.root.activeElement)&&i.focus(),i.dispatch({effects:up.of(!1)}),!0},qM=[{key:"Mod-f",run:nS,scope:"editor search-panel"},{key:"F3",run:Lh,shift:Nh,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Lh,shift:Nh,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:sS,scope:"editor search-panel"},{key:"Mod-Shift-l",run:YM},{key:"Alt-g",run:EM},{key:"Mod-d",run:VM,preventDefault:!0}];class HM{constructor(e){this.view=e;let t=this.query=e.state.field(fs).query.spec;this.commit=this.commit.bind(this),this.searchField=qe("input",{value:t.search,placeholder:vi(e,"Find"),"aria-label":vi(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=qe("input",{value:t.replace,placeholder:vi(e,"Replace"),"aria-label":vi(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=qe("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=qe("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=qe("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function n(s,r,o){return qe("button",{class:"cm-button",name:s,onclick:r,type:"button"},o)}this.dom=qe("div",{onkeydown:s=>this.keydown(s),class:"cm-search"},[this.searchField,n("next",()=>Lh(e),[vi(e,"next")]),n("prev",()=>Nh(e),[vi(e,"previous")]),n("select",()=>WM(e),[vi(e,"all")]),qe("label",null,[this.caseField,vi(e,"match case")]),qe("label",null,[this.reField,vi(e,"regexp")]),qe("label",null,[this.wordField,vi(e,"by word")]),...e.state.readOnly?[]:[qe("br"),this.replaceField,n("replace",()=>RO(e),[vi(e,"replace")]),n("replaceAll",()=>GM(e),[vi(e,"replace all")])],qe("button",{name:"close",onclick:()=>sS(e),"aria-label":vi(e,"close"),type:"button"},["×"])])}commit(){let e=new cp({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:bs.of(e)}))}keydown(e){N$(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Nh:Lh)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),RO(this.view))}update(e){for(let t of e.transactions)for(let n of t.effects)n.is(bs)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(io).top}}function vi(i,e){return i.state.phrase(e)}const Ol=30,yl=/[\s\.,:;?!]/;function dp(i,{from:e,to:t}){let n=i.state.doc.lineAt(e),s=i.state.doc.lineAt(t).to,r=Math.max(n.from,e-Ol),o=Math.min(s,t+Ol),a=i.state.sliceDoc(r,o);if(r!=n.from){for(let l=0;l<Ol;l++)if(!yl.test(a[l+1])&&yl.test(a[l])){a=a.slice(l);break}}if(o!=s){for(let l=a.length-1;l>a.length-Ol;l--)if(!yl.test(a[l-1])&&yl.test(a[l])){a=a.slice(0,l);break}}return he.announce.of(`${i.state.phrase("current match")}. ${a} ${i.state.phrase("on line")} ${n.number}.`)}const KM=he.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),JM=[fs,$s.lowest(FM),KM];class e_{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class Ns{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let s=e,r=n.facet(aS).markerFilter;r&&(s=r(s));let o=ye.set(s.map(a=>a.from==a.to||a.from==a.to-1&&n.doc.lineAt(a.from).to==a.from?ye.widget({widget:new h_(a),diagnostic:a}).range(a.from):ye.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity+(a.markClass?" "+a.markClass:"")},diagnostic:a}).range(a.from,a.to)),!0);return new Ns(o,t,Wr(o))}}function Wr(i,e=null,t=0){let n=null;return i.between(t,1e9,(s,r,{spec:o})=>{if(!(e&&o.diagnostic!=e))return n=new e_(s,r,o.diagnostic),!1}),n}function t_(i,e){let t=i.startState.doc.lineAt(e.pos);return!!(i.effects.some(n=>n.is(rS))||i.changes.touchesRange(t.from,t.to))}function i_(i,e){return i.field(ki,!1)?e:e.concat($e.appendConfig.of(f_))}const rS=$e.define(),pp=$e.define(),oS=$e.define(),ki=It.define({create(){return new Ns(ye.none,null,null)},update(i,e){if(e.docChanged){let t=i.diagnostics.map(e.changes),n=null;if(i.selected){let s=e.changes.mapPos(i.selected.from,1);n=Wr(t,i.selected.diagnostic,s)||Wr(t,null,s)}i=new Ns(t,i.panel,n)}for(let t of e.effects)t.is(rS)?i=Ns.init(t.value,i.panel,e.state):t.is(pp)?i=new Ns(i.diagnostics,t.value?yc.open:null,i.selected):t.is(oS)&&(i=new Ns(i.diagnostics,i.panel,t.value));return i},provide:i=>[Js.from(i,e=>e.panel),he.decorations.from(i,e=>e.diagnostics)]}),n_=ye.mark({class:"cm-lintRange cm-lintRange-active"});function s_(i,e,t){let{diagnostics:n}=i.state.field(ki),s=[],r=2e8,o=0;n.between(e-(t<0?1:0),e+(t>0?1:0),(l,h,{spec:c})=>{e>=l&&e<=h&&(l==h||(e>l||t>0)&&(e<h||t<0))&&(s.push(c.diagnostic),r=Math.min(l,r),o=Math.max(h,o))});let a=i.state.facet(aS).tooltipFilter;return a&&(s=a(s)),s.length?{pos:r,end:o,above:i.state.doc.lineAt(r).to<o,create(){return{dom:r_(i,s)}}}:null}function r_(i,e){return qe("ul",{class:"cm-tooltip-lint"},e.map(t=>hS(i,t,!1)))}const o_=i=>{let e=i.state.field(ki,!1);(!e||!e.panel)&&i.dispatch({effects:i_(i.state,[pp.of(!0)])});let t=ra(i,yc.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},LO=i=>{let e=i.state.field(ki,!1);return!e||!e.panel?!1:(i.dispatch({effects:pp.of(!1)}),!0)},a_=i=>{let e=i.state.field(ki,!1);if(!e)return!1;let t=i.state.selection.main,n=e.diagnostics.iter(t.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==t.from&&n.to==t.to)?!1:(i.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},l_=[{key:"Mod-Shift-m",run:o_,preventDefault:!0},{key:"F8",run:a_}],aS=pe.define({combine(i){return Object.assign({sources:i.map(e=>e.source)},Mn(i.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t}))}});function lS(i){let e=[];if(i)e:for(let{name:t}of i){for(let n=0;n<t.length;n++){let s=t[n];if(/[a-zA-Z]/.test(s)&&!e.some(r=>r.toLowerCase()==s.toLowerCase())){e.push(s);continue e}}e.push("")}return e}function hS(i,e,t){var n;let s=t?lS(e.actions):[];return qe("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},qe("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(n=e.actions)===null||n===void 0?void 0:n.map((r,o)=>{let a=!1,l=p=>{if(p.preventDefault(),a)return;a=!0;let g=Wr(i.state.field(ki).diagnostics,e);g&&r.apply(i,g.from,g.to)},{name:h}=r,c=s[o]?h.indexOf(s[o]):-1,f=c<0?h:[h.slice(0,c),qe("u",h.slice(c,c+1)),h.slice(c+1)];return qe("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${h}${c<0?"":` (access key "${s[o]})"`}.`},f)}),e.source&&qe("div",{class:"cm-diagnosticSource"},e.source))}class h_ extends _n{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return qe("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class NO{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=hS(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class yc{constructor(e){this.view=e,this.items=[];let t=s=>{if(s.keyCode==27)LO(this.view),this.view.focus();else if(s.keyCode==38||s.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(s.keyCode==40||s.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(s.keyCode==36)this.moveSelection(0);else if(s.keyCode==35)this.moveSelection(this.items.length-1);else if(s.keyCode==13)this.view.focus();else if(s.keyCode>=65&&s.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:r}=this.items[this.selectedIndex],o=lS(r.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==s.keyCode){let l=Wr(this.view.state.field(ki).diagnostics,r);l&&r.actions[a].apply(e,l.from,l.to)}}else return;s.preventDefault()},n=s=>{for(let r=0;r<this.items.length;r++)this.items[r].dom.contains(s.target)&&this.moveSelection(r)};this.list=qe("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:n}),this.dom=qe("div",{class:"cm-panel-lint"},this.list,qe("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>LO(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(ki).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(ki),n=0,s=!1,r=null;for(e.between(0,this.view.state.doc.length,(o,a,{spec:l})=>{let h=-1,c;for(let f=n;f<this.items.length;f++)if(this.items[f].diagnostic==l.diagnostic){h=f;break}h<0?(c=new NO(this.view,l.diagnostic),this.items.splice(n,0,c),s=!0):(c=this.items[h],h>n&&(this.items.splice(n,h-n),s=!0)),t&&c.diagnostic==t.diagnostic?c.dom.hasAttribute("aria-selected")||(c.dom.setAttribute("aria-selected","true"),r=c):c.dom.hasAttribute("aria-selected")&&c.dom.removeAttribute("aria-selected"),n++});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new NO(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),r?(this.list.setAttribute("aria-activedescendant",r.id),this.view.requestMeasure({key:this,read:()=>({sel:r.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:a})=>{o.top<a.top?this.list.scrollTop-=a.top-o.top:o.bottom>a.bottom&&(this.list.scrollTop+=o.bottom-a.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}sync(){let e=this.list.firstChild;function t(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(ki),n=Wr(t.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:oS.of(n)})}static open(e){return new yc(e)}}function c_(i,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(i)}</svg>')`}function vl(i){return c_(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${i}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const u_=he.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:vl("#d11")},".cm-lintRange-warning":{backgroundImage:vl("orange")},".cm-lintRange-info":{backgroundImage:vl("#999")},".cm-lintRange-hint":{backgroundImage:vl("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),f_=[ki,he.decorations.compute([ki],i=>{let{selected:e,panel:t}=i.field(ki);return!e||!t||e.from==e.to?ye.none:ye.set([n_.range(e.from,e.to)])}),bP(s_,{hideOn:t_}),u_],d_=(()=>[IP(),TP(),eP(),II(),qE(),Z$(),Y$(),Ve.allowMultipleSelections.of(!0),NE(),qx(eA,{fallback:!0}),aA(),YA(),rI(),fP(),mP(),oP(),MM(),Aa.of([...KA,...CM,...qM,...VI,...FE,...d1,...l_])])(),p_=(i,e,t)=>[i,e].map(n=>m_(n,t)),m_=(i,e)=>{const t=e.state.doc.lineAt(i);return{line:t.number,column:i-t.from}},g_=(i,e)=>e.doc.line(i.line).from+i.column,Qo=(i,e)=>{if(i.name==="Number"&&i.parent.name!=="UnaryExpression")return!0;if(i.name==="UnaryExpression"){const t=i.getChild("ArithOp");return t&&e.state.doc.sliceString(t.from,t.to)==="-"}return!1};/*
  @license
	Rollup.js v3.28.0
	Wed, 09 Aug 2023 05:34:03 GMT - commit e3b614c9d4555248caa43d062f4003859b388434

	https://github.com/rollup/rollup

	Released under the MIT License.
*/var mp="3.28.0";function cS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var uS={exports:{}};(function(i){const e=",".charCodeAt(0),t=";".charCodeAt(0),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(64),r=new Uint8Array(128);for(let v=0;v<n.length;v++){const w=n.charCodeAt(v);s[v]=w,r[w]=v}const o=typeof TextDecoder<"u"?new TextDecoder:typeof Buffer<"u"?{decode:v=>Buffer.from(v.buffer,v.byteOffset,v.byteLength).toString()}:{decode(v){let w="";for(let k=0;k<v.length;k++)w+=String.fromCharCode(v[k]);return w}};function a(v){const w=new Int32Array(5),k=[];let T=0;do{const $=l(v,T),E=[];let _=!0,N=0;w[0]=0;for(let z=T;z<$;z++){let Q;z=h(v,z,w,0);const M=w[0];M<N&&(_=!1),N=M,c(v,z,$)?(z=h(v,z,w,1),z=h(v,z,w,2),z=h(v,z,w,3),c(v,z,$)?(z=h(v,z,w,4),Q=[M,w[1],w[2],w[3],w[4]]):Q=[M,w[1],w[2],w[3]]):Q=[M],E.push(Q)}_||f(E),k.push(E),T=$+1}while(T<=v.length);return k}function l(v,w){const k=v.indexOf(";",w);return k===-1?v.length:k}function h(v,w,k,T){let $=0,E=0,_=0;do{const z=v.charCodeAt(w++);_=r[z],$|=(31&_)<<E,E+=5}while(32&_);const N=1&$;return $>>>=1,N&&($=-2147483648|-$),k[T]+=$,w}function c(v,w,k){return!(w>=k)&&v.charCodeAt(w)!==e}function f(v){v.sort(p)}function p(v,w){return v[0]-w[0]}function g(v){const w=new Int32Array(5),k=16384,T=k-36,$=new Uint8Array(k),E=$.subarray(0,T);let _=0,N="";for(let z=0;z<v.length;z++){const Q=v[z];if(z>0&&(_===k&&(N+=o.decode($),_=0),$[_++]=t),Q.length!==0){w[0]=0;for(let M=0;M<Q.length;M++){const V=Q[M];_>T&&(N+=o.decode(E),$.copyWithin(0,T,_),_-=T),M>0&&($[_++]=e),_=y($,_,w,V,0),V.length!==1&&(_=y($,_,w,V,1),_=y($,_,w,V,2),_=y($,_,w,V,3),V.length!==4&&(_=y($,_,w,V,4)))}}}return N+o.decode($.subarray(0,_))}function y(v,w,k,T,$){const E=T[$];let _=E-k[$];k[$]=E,_=_<0?-_<<1|1:_<<1;do{let N=31&_;_>>>=5,_>0&&(N|=32),v[w++]=s[N]}while(_>0);return w}i.decode=a,i.encode=g,Object.defineProperty(i,"__esModule",{value:!0})})(uS.exports);var gp=uS.exports;class Dh{constructor(e){this.bits=e instanceof Dh?e.bits.slice():[]}add(e){this.bits[e>>5]|=1<<(31&e)}has(e){return!!(this.bits[e>>5]&1<<(31&e))}}let DO=class qf{constructor(e,t,n){this.start=e,this.end=t,this.original=n,this.intro="",this.outro="",this.content=n,this.storeName=!1,this.edited=!1,this.previous=null,this.next=null}appendLeft(e){this.outro+=e}appendRight(e){this.intro=this.intro+e}clone(){const e=new qf(this.start,this.end,this.original);return e.intro=this.intro,e.outro=this.outro,e.content=this.content,e.storeName=this.storeName,e.edited=this.edited,e}contains(e){return this.start<e&&e<this.end}eachNext(e){let t=this;for(;t;)e(t),t=t.next}eachPrevious(e){let t=this;for(;t;)e(t),t=t.previous}edit(e,t,n){return this.content=e,n||(this.intro="",this.outro=""),this.storeName=t,this.edited=!0,this}prependLeft(e){this.outro=e+this.outro}prependRight(e){this.intro=e+this.intro}split(e){const t=e-this.start,n=this.original.slice(0,t),s=this.original.slice(t);this.original=n;const r=new qf(e,this.end,s);return r.outro=this.outro,this.outro="",this.end=e,this.edited?(r.edit("",!1),this.content=""):this.content=n,r.next=this.next,r.next&&(r.next.previous=r),r.previous=this,this.next=r,r}toString(){return this.intro+this.content+this.outro}trimEnd(e){if(this.outro=this.outro.replace(e,""),this.outro.length)return!0;const t=this.content.replace(e,"");return t.length?(t!==this.content&&this.split(this.start+t.length).edit("",void 0,!0),!0):(this.edit("",void 0,!0),this.intro=this.intro.replace(e,""),!!this.intro.length||void 0)}trimStart(e){if(this.intro=this.intro.replace(e,""),this.intro.length)return!0;const t=this.content.replace(e,"");return t.length?(t!==this.content&&(this.split(this.end-t.length),this.edit("",void 0,!0)),!0):(this.edit("",void 0,!0),this.outro=this.outro.replace(e,""),!!this.outro.length||void 0)}};function O_(){return typeof window<"u"&&typeof window.btoa=="function"?i=>window.btoa(unescape(encodeURIComponent(i))):typeof Buffer=="function"?i=>Buffer.from(i,"utf-8").toString("base64"):()=>{throw new Error("Unsupported environment: `window.btoa` or `Buffer` should be supported.")}}const y_=O_();class vc{constructor(e){this.version=3,this.file=e.file,this.sources=e.sources,this.sourcesContent=e.sourcesContent,this.names=e.names,this.mappings=gp.encode(e.mappings),e.x_google_ignoreList!==void 0&&(this.x_google_ignoreList=e.x_google_ignoreList)}toString(){return JSON.stringify(this)}toUrl(){return"data:application/json;charset=utf-8;base64,"+y_(this.toString())}}function fS(i,e){const t=i.split(/[/\\]/),n=e.split(/[/\\]/);for(t.pop();t[0]===n[0];)t.shift(),n.shift();if(t.length){let s=t.length;for(;s--;)t[s]=".."}return t.concat(n).join("/")}const v_=Object.prototype.toString;function dS(i){return v_.call(i)==="[object Object]"}function Hf(i){const e=i.split(`
`),t=[];for(let n=0,s=0;n<e.length;n++)t.push(s),s+=e[n].length+1;return function(n){let s=0,r=t.length;for(;s<r;){const a=s+r>>1;n<t[a]?r=a:s=a+1}const o=s-1;return{line:o,column:n-t[o]}}}class pS{constructor(e){this.hires=e,this.generatedCodeLine=0,this.generatedCodeColumn=0,this.raw=[],this.rawSegments=this.raw[this.generatedCodeLine]=[],this.pending=null}addEdit(e,t,n,s){if(t.length){const r=[this.generatedCodeColumn,e,n.line,n.column];s>=0&&r.push(s),this.rawSegments.push(r)}else this.pending&&this.rawSegments.push(this.pending);this.advance(t),this.pending=null}addUneditedChunk(e,t,n,s,r){let o=t.start,a=!0;for(;o<t.end;)(this.hires||a||r.has(o))&&this.rawSegments.push([this.generatedCodeColumn,e,s.line,s.column]),n[o]===`
`?(s.line+=1,s.column=0,this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,a=!0):(s.column+=1,this.generatedCodeColumn+=1,a=!1),o+=1;this.pending=null}advance(e){if(!e)return;const t=e.split(`
`);if(t.length>1){for(let n=0;n<t.length-1;n++)this.generatedCodeLine++,this.raw[this.generatedCodeLine]=this.rawSegments=[];this.generatedCodeColumn=0}this.generatedCodeColumn+=t[t.length-1].length}}const yo=`
`,mr={insertLeft:!1,insertRight:!1,storeName:!1};class Ws{constructor(e,t={}){const n=new DO(0,e.length,e);Object.defineProperties(this,{original:{writable:!0,value:e},outro:{writable:!0,value:""},intro:{writable:!0,value:""},firstChunk:{writable:!0,value:n},lastChunk:{writable:!0,value:n},lastSearchedChunk:{writable:!0,value:n},byStart:{writable:!0,value:{}},byEnd:{writable:!0,value:{}},filename:{writable:!0,value:t.filename},indentExclusionRanges:{writable:!0,value:t.indentExclusionRanges},sourcemapLocations:{writable:!0,value:new Dh},storedNames:{writable:!0,value:{}},indentStr:{writable:!0,value:void 0},ignoreList:{writable:!0,value:t.ignoreList}}),this.byStart[0]=n,this.byEnd[e.length]=n}addSourcemapLocation(e){this.sourcemapLocations.add(e)}append(e){if(typeof e!="string")throw new TypeError("outro content must be a string");return this.outro+=e,this}appendLeft(e,t){if(typeof t!="string")throw new TypeError("inserted content must be a string");this._split(e);const n=this.byEnd[e];return n?n.appendLeft(t):this.intro+=t,this}appendRight(e,t){if(typeof t!="string")throw new TypeError("inserted content must be a string");this._split(e);const n=this.byStart[e];return n?n.appendRight(t):this.outro+=t,this}clone(){const e=new Ws(this.original,{filename:this.filename});let t=this.firstChunk,n=e.firstChunk=e.lastSearchedChunk=t.clone();for(;t;){e.byStart[n.start]=n,e.byEnd[n.end]=n;const s=t.next,r=s&&s.clone();r&&(n.next=r,r.previous=n,n=r),t=s}return e.lastChunk=n,this.indentExclusionRanges&&(e.indentExclusionRanges=this.indentExclusionRanges.slice()),e.sourcemapLocations=new Dh(this.sourcemapLocations),e.intro=this.intro,e.outro=this.outro,e}generateDecodedMap(e){e=e||{};const t=Object.keys(this.storedNames),n=new pS(e.hires),s=Hf(this.original);return this.intro&&n.advance(this.intro),this.firstChunk.eachNext(r=>{const o=s(r.start);r.intro.length&&n.advance(r.intro),r.edited?n.addEdit(0,r.content,o,r.storeName?t.indexOf(r.original):-1):n.addUneditedChunk(0,r,this.original,o,this.sourcemapLocations),r.outro.length&&n.advance(r.outro)}),{file:e.file?e.file.split(/[/\\]/).pop():void 0,sources:[e.source?fS(e.file||"",e.source):e.file||""],sourcesContent:e.includeContent?[this.original]:void 0,names:t,mappings:n.raw,x_google_ignoreList:this.ignoreList?[0]:void 0}}generateMap(e){return new vc(this.generateDecodedMap(e))}_ensureindentStr(){this.indentStr===void 0&&(this.indentStr=function(e){const t=e.split(`
`),n=t.filter(o=>/^\t+/.test(o)),s=t.filter(o=>/^ {2,}/.test(o));if(n.length===0&&s.length===0)return null;if(n.length>=s.length)return"	";const r=s.reduce((o,a)=>{const l=/^ +/.exec(a)[0].length;return Math.min(l,o)},1/0);return new Array(r+1).join(" ")}(this.original))}_getRawIndentString(){return this._ensureindentStr(),this.indentStr}getIndentString(){return this._ensureindentStr(),this.indentStr===null?"	":this.indentStr}indent(e,t){const n=/^[^\r\n]/gm;if(dS(e)&&(t=e,e=void 0),e===void 0&&(this._ensureindentStr(),e=this.indentStr||"	"),e==="")return this;const s={};(t=t||{}).exclude&&(typeof t.exclude[0]=="number"?[t.exclude]:t.exclude).forEach(h=>{for(let c=h[0];c<h[1];c+=1)s[c]=!0});let r=t.indentStart!==!1;const o=h=>r?`${e}${h}`:(r=!0,h);this.intro=this.intro.replace(n,o);let a=0,l=this.firstChunk;for(;l;){const h=l.end;if(l.edited)s[a]||(l.content=l.content.replace(n,o),l.content.length&&(r=l.content[l.content.length-1]===`
`));else for(a=l.start;a<h;){if(!s[a]){const c=this.original[a];c===`
`?r=!0:c!=="\r"&&r&&(r=!1,a===l.start||(this._splitChunk(l,a),l=l.next),l.prependRight(e))}a+=1}a=l.end,l=l.next}return this.outro=this.outro.replace(n,o),this}insert(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")}insertLeft(e,t){return mr.insertLeft||(console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),mr.insertLeft=!0),this.appendLeft(e,t)}insertRight(e,t){return mr.insertRight||(console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),mr.insertRight=!0),this.prependRight(e,t)}move(e,t,n){if(n>=e&&n<=t)throw new Error("Cannot move a selection inside itself");this._split(e),this._split(t),this._split(n);const s=this.byStart[e],r=this.byEnd[t],o=s.previous,a=r.next,l=this.byStart[n];if(!l&&r===this.lastChunk)return this;const h=l?l.previous:this.lastChunk;return o&&(o.next=a),a&&(a.previous=o),h&&(h.next=s),l&&(l.previous=r),s.previous||(this.firstChunk=r.next),r.next||(this.lastChunk=s.previous,this.lastChunk.next=null),s.previous=h,r.next=l||null,h||(this.firstChunk=s),l||(this.lastChunk=r),this}overwrite(e,t,n,s){return s=s||{},this.update(e,t,n,{...s,overwrite:!s.contentOnly})}update(e,t,n,s){if(typeof n!="string")throw new TypeError("replacement content must be a string");for(;e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;if(t>this.original.length)throw new Error("end is out of bounds");if(e===t)throw new Error("Cannot overwrite a zero-length range – use appendLeft or prependRight instead");this._split(e),this._split(t),s===!0&&(mr.storeName||(console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),mr.storeName=!0),s={storeName:!0});const r=s!==void 0&&s.storeName,o=s!==void 0&&s.overwrite;if(r){const h=this.original.slice(e,t);Object.defineProperty(this.storedNames,h,{writable:!0,value:!0,enumerable:!0})}const a=this.byStart[e],l=this.byEnd[t];if(a){let h=a;for(;h!==l;){if(h.next!==this.byStart[h.end])throw new Error("Cannot overwrite across a split point");h=h.next,h.edit("",!1)}a.edit(n,r,!o)}else{const h=new DO(e,t,"").edit(n,r);l.next=h,h.previous=l}return this}prepend(e){if(typeof e!="string")throw new TypeError("outro content must be a string");return this.intro=e+this.intro,this}prependLeft(e,t){if(typeof t!="string")throw new TypeError("inserted content must be a string");this._split(e);const n=this.byEnd[e];return n?n.prependLeft(t):this.intro=t+this.intro,this}prependRight(e,t){if(typeof t!="string")throw new TypeError("inserted content must be a string");this._split(e);const n=this.byStart[e];return n?n.prependRight(t):this.outro=t+this.outro,this}remove(e,t){for(;e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;if(e===t)return this;if(e<0||t>this.original.length)throw new Error("Character is out of bounds");if(e>t)throw new Error("end must be greater than start");this._split(e),this._split(t);let n=this.byStart[e];for(;n;)n.intro="",n.outro="",n.edit(""),n=t>n.end?this.byStart[n.end]:null;return this}lastChar(){if(this.outro.length)return this.outro[this.outro.length-1];let e=this.lastChunk;do{if(e.outro.length)return e.outro[e.outro.length-1];if(e.content.length)return e.content[e.content.length-1];if(e.intro.length)return e.intro[e.intro.length-1]}while(e=e.previous);return this.intro.length?this.intro[this.intro.length-1]:""}lastLine(){let e=this.outro.lastIndexOf(yo);if(e!==-1)return this.outro.substr(e+1);let t=this.outro,n=this.lastChunk;do{if(n.outro.length>0){if(e=n.outro.lastIndexOf(yo),e!==-1)return n.outro.substr(e+1)+t;t=n.outro+t}if(n.content.length>0){if(e=n.content.lastIndexOf(yo),e!==-1)return n.content.substr(e+1)+t;t=n.content+t}if(n.intro.length>0){if(e=n.intro.lastIndexOf(yo),e!==-1)return n.intro.substr(e+1)+t;t=n.intro+t}}while(n=n.previous);return e=this.intro.lastIndexOf(yo),e!==-1?this.intro.substr(e+1)+t:this.intro+t}slice(e=0,t=this.original.length){for(;e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;let n="",s=this.firstChunk;for(;s&&(s.start>e||s.end<=e);){if(s.start<t&&s.end>=t)return n;s=s.next}if(s&&s.edited&&s.start!==e)throw new Error(`Cannot use replaced character ${e} as slice start anchor.`);const r=s;for(;s;){!s.intro||r===s&&s.start!==e||(n+=s.intro);const o=s.start<t&&s.end>=t;if(o&&s.edited&&s.end!==t)throw new Error(`Cannot use replaced character ${t} as slice end anchor.`);const a=r===s?e-s.start:0,l=o?s.content.length+t-s.end:s.content.length;if(n+=s.content.slice(a,l),!s.outro||o&&s.end!==t||(n+=s.outro),o)break;s=s.next}return n}snip(e,t){const n=this.clone();return n.remove(0,e),n.remove(t,n.original.length),n}_split(e){if(this.byStart[e]||this.byEnd[e])return;let t=this.lastSearchedChunk;const n=e>t.end;for(;t;){if(t.contains(e))return this._splitChunk(t,e);t=n?this.byStart[t.end]:this.byEnd[t.start]}}_splitChunk(e,t){if(e.edited&&e.content.length){const s=Hf(this.original)(t);throw new Error(`Cannot split a chunk that has already been edited (${s.line}:${s.column} – "${e.original}")`)}const n=e.split(t);return this.byEnd[t]=e,this.byStart[t]=n,this.byEnd[n.end]=n,e===this.lastChunk&&(this.lastChunk=n),this.lastSearchedChunk=e,!0}toString(){let e=this.intro,t=this.firstChunk;for(;t;)e+=t.toString(),t=t.next;return e+this.outro}isEmpty(){let e=this.firstChunk;do if(e.intro.length&&e.intro.trim()||e.content.length&&e.content.trim()||e.outro.length&&e.outro.trim())return!1;while(e=e.next);return!0}length(){let e=this.firstChunk,t=0;do t+=e.intro.length+e.content.length+e.outro.length;while(e=e.next);return t}trimLines(){return this.trim("[\\r\\n]")}trim(e){return this.trimStart(e).trimEnd(e)}trimEndAborted(e){const t=new RegExp((e||"\\s")+"+$");if(this.outro=this.outro.replace(t,""),this.outro.length)return!0;let n=this.lastChunk;do{const s=n.end,r=n.trimEnd(t);if(n.end!==s&&(this.lastChunk===n&&(this.lastChunk=n.next),this.byEnd[n.end]=n,this.byStart[n.next.start]=n.next,this.byEnd[n.next.end]=n.next),r)return!0;n=n.previous}while(n);return!1}trimEnd(e){return this.trimEndAborted(e),this}trimStartAborted(e){const t=new RegExp("^"+(e||"\\s")+"+");if(this.intro=this.intro.replace(t,""),this.intro.length)return!0;let n=this.firstChunk;do{const s=n.end,r=n.trimStart(t);if(n.end!==s&&(n===this.lastChunk&&(this.lastChunk=n.next),this.byEnd[n.end]=n,this.byStart[n.next.start]=n.next,this.byEnd[n.next.end]=n.next),r)return!0;n=n.next}while(n);return!1}trimStart(e){return this.trimStartAborted(e),this}hasChanged(){return this.original!==this.toString()}_replaceRegexp(e,t){function n(s,r){return typeof t=="string"?t.replace(/\$(\$|&|\d+)/g,(o,a)=>a==="$"?"$":a==="&"?s[0]:+a<s.length?s[+a]:`$${a}`):t(...s,s.index,r,s.groups)}if(e.global)(function(s,r){let o;const a=[];for(;o=s.exec(r);)a.push(o);return a})(e,this.original).forEach(s=>{s.index!=null&&this.overwrite(s.index,s.index+s[0].length,n(s,this.original))});else{const s=this.original.match(e);s&&s.index!=null&&this.overwrite(s.index,s.index+s[0].length,n(s,this.original))}return this}_replaceString(e,t){const{original:n}=this,s=n.indexOf(e);return s!==-1&&this.overwrite(s,s+e.length,t),this}replace(e,t){return typeof e=="string"?this._replaceString(e,t):this._replaceRegexp(e,t)}_replaceAllString(e,t){const{original:n}=this,s=e.length;for(let r=n.indexOf(e);r!==-1;r=n.indexOf(e,r+s))this.overwrite(r,r+s,t);return this}replaceAll(e,t){if(typeof e=="string")return this._replaceAllString(e,t);if(!e.global)throw new TypeError("MagicString.prototype.replaceAll called with a non-global RegExp argument");return this._replaceRegexp(e,t)}}const VO=Object.prototype.hasOwnProperty,x_=/^(?:\/|(?:[A-Za-z]:)?[/\\|])/,S_=/^\.?\.\//,b_=/\\/g,Dr=/[/\\]/,w_=/\.[^.]+$/;function ws(i){return x_.test(i)}function Op(i){return S_.test(i)}function Ra(i){return i.replace(b_,"/")}function Fn(i){return i.split(Dr).pop()||""}function ir(i){const e=/[/\\][^/\\]*$/.exec(i);return e?i.slice(0,-e[0].length)||"/":"."}function ds(i){const e=w_.exec(Fn(i));return e?e[0]:""}function no(i,e){const t=i.split(Dr).filter(Boolean),n=e.split(Dr).filter(Boolean);for(t[0]==="."&&t.shift(),n[0]==="."&&n.shift();t[0]&&n[0]&&t[0]===n[0];)t.shift(),n.shift();for(;n[0]===".."&&t.length>0;)n.shift(),t.pop();for(;t.pop();)n.unshift("..");return n.join("/")}function Ji(...i){const e=i.shift();if(!e)return"/";let t=e.split(Dr);for(const n of i)if(ws(n))t=n.split(Dr);else{const s=n.split(Dr);for(;s[0]==="."||s[0]==="..";)s.shift()===".."&&t.pop();t.push(...s)}return t.join("/")}const k_=/[\n\r'\\\u2028\u2029]/,C_=/([\n\r'\u2028\u2029])/g,$_=/\\/g;function xc(i){return k_.test(i)?i.replace($_,"\\\\").replace(C_,"\\$1"):i}function Kf(i){const e=Fn(i);return e.slice(0,Math.max(0,e.length-ds(i).length))}function Ae(i){return ws(i)?no(Ji(),i):i}function Vh(i){return i[0]==="/"||i[0]==="."&&(i[1]==="/"||i[1]===".")||ws(i)}const P_=/^(\.\.\/)*\.\.$/;function mS(i,e,t,n){let s=Ra(no(ir(i),e));if(t&&s.endsWith(".js")&&(s=s.slice(0,-3)),n){if(s==="")return"../"+Fn(e);if(P_.test(s))return[...s.split("/"),"..",Fn(e)].join("/")}return s?s.startsWith("..")?s:"./"+s:"."}class Ar{constructor(e,t,n){this.options=t,this.inputBase=n,this.defaultVariableName="",this.namespaceVariableName="",this.variableName="",this.fileName=null,this.importAssertions=null,this.id=e.id,this.moduleInfo=e.info,this.renormalizeRenderPath=e.renormalizeRenderPath,this.suggestedVariableName=e.suggestedVariableName}getFileName(){if(this.fileName)return this.fileName;const{paths:e}=this.options;return this.fileName=(typeof e=="function"?e(this.id):e[this.id])||(this.renormalizeRenderPath?Ra(no(this.inputBase,this.id)):this.id)}getImportAssertions(e){return this.importAssertions||(this.importAssertions=function(t,{getObject:n}){if(!t)return null;const s=Object.entries(t).map(([r,o])=>[r,`'${o}'`]);return s.length>0?n(s,{lineBreakIndent:null}):null}(this.options.format==="es"&&this.options.externalImportAssertions&&this.moduleInfo.assertions,e))}getImportPath(e){return xc(this.renormalizeRenderPath?mS(e,this.getFileName(),this.options.format==="amd",!1):this.getFileName())}}function Ci(i,e,t){const n=i.get(e);if(n!==void 0)return n;const s=t();return i.set(e,s),s}function nr(){return new Set}function BO(){return[]}const He=Symbol("Unknown Key"),Bh=Symbol("Unknown Non-Accessor Key"),ca=Symbol("Unknown Integer"),yp=Symbol("Symbol.toStringTag"),Ce=[],Be=[He],E_=[Bh],Jf=[ca],Vr=Symbol("Entities");class Yr{constructor(){this.entityPaths=Object.create(null,{[Vr]:{value:new Set}})}trackEntityAtPathAndGetIfTracked(e,t){const n=this.getEntities(e);return!!n.has(t)||(n.add(t),!1)}withTrackedEntityAtPath(e,t,n,s){const r=this.getEntities(e);if(r.has(t))return s;r.add(t);const o=n();return r.delete(t),o}getEntities(e){let t=this.entityPaths;for(const n of e)t=t[n]=t[n]||Object.create(null,{[Vr]:{value:new Set}});return t[Vr]}}const kt=new Yr;class XO{constructor(){this.entityPaths=Object.create(null,{[Vr]:{value:new Map}})}trackEntityAtPathAndGetIfTracked(e,t,n){let s=this.entityPaths;for(const o of e)s=s[o]=s[o]||Object.create(null,{[Vr]:{value:new Map}});const r=Ci(s[Vr],t,nr);return!!r.has(n)||(r.add(n),!1)}}const ct=Symbol("Unknown Value"),gS=Symbol("Unknown Truthy Value");class Ei{constructor(){this.included=!1}deoptimizeArgumentsOnInteractionAtPath(e,t,n){ks(e)}deoptimizePath(e){}getLiteralValueAtPath(e,t,n){return ct}getReturnExpressionWhenCalledAtPath(e,t,n,s){return bt}hasEffectsOnInteractionAtPath(e,t,n){return!0}include(e,t,n){this.included=!0}includeCallArguments(e,t){for(const n of t)n.include(e,!1)}shouldBeIncluded(e){return!0}}const Pe=new class extends Ei{},bt=[Pe,!1],ks=i=>{for(const e of i.args)e?.deoptimizePath(Be)},Sc={args:[null],type:0},vp={args:[null,Pe],type:1},bc={args:[null],type:2,withNew:!1};class lr extends Ei{constructor(e){super(),this.name=e,this.alwaysRendered=!1,this.forbiddenNames=null,this.initReached=!1,this.isId=!1,this.isReassigned=!1,this.kind=null,this.renderBaseName=null,this.renderName=null}addReference(e){}forbidName(e){(this.forbiddenNames||(this.forbiddenNames=new Set)).add(e)}getBaseVariableName(){return this.renderBaseName||this.renderName||this.name}getName(e,t){if(t?.(this))return this.name;const n=this.renderName||this.name;return this.renderBaseName?`${this.renderBaseName}${e(n)}`:n}hasEffectsOnInteractionAtPath(e,{type:t},n){return t!==0||e.length>0}include(){this.included=!0}markCalledFromTryStatement(){}setRenderNames(e,t){this.renderBaseName=e,this.renderName=t}}class Xh extends lr{constructor(e,t){super(t),this.referenced=!1,this.module=e,this.isNamespace=t==="*"}addReference(e){this.referenced=!0,this.name!=="default"&&this.name!=="*"||this.module.suggestName(e.name)}hasEffectsOnInteractionAtPath(e,{type:t}){return t!==0||e.length>(this.isNamespace?1:0)}include(){this.included||(this.included=!0,this.module.used=!0)}}const jt=Object.freeze(Object.create(null)),Si=Object.freeze({}),yt=Object.freeze([]),OS=Object.freeze(new class extends Set{add(){throw new Error("Cannot add to empty set")}});var wc=new Set(["await","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","eval","export","extends","false","finally","for","function","if","implements","import","in","instanceof","interface","let","NaN","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","undefined","var","void","while","with","yield"]);const yS=/[^\w$]/g,vS=i=>(e=>/\d/.test(e[0]))(i)||wc.has(i)||i==="arguments";function xp(i){return i=i.replace(/-(\w)/g,(e,t)=>t.toUpperCase()).replace(yS,"_"),vS(i)&&(i=`_${i}`),i||"_"}const ke="warn",Ys="info",La="debug",Gs={[La]:0,[Ys]:1,silent:3,[ke]:2};function A_(i,e){return i.start<=e&&e<i.end}function Sp(i,e,t){return function(n,s={}){const{offsetLine:r=0,offsetColumn:o=0}=s;let a=0;const l=n.split(`
`).map((c,f)=>{const p=a+c.length+1,g={start:a,end:p,line:f};return a=p,g});let h=0;return function(c,f){if(typeof c=="string"&&(c=n.indexOf(c,f??0)),c===-1)return;let p=l[h];const g=c>=p.end?1:-1;for(;p;){if(A_(p,c))return{line:r+p.line,column:o+c-p.start,character:c};h+=g,p=l[h]}}}(i,t)(e,t&&t.startIndex)}function xu(i){return i.replace(/^\t+/,e=>e.split("	").join("  "))}const I_=120,M_=10,Su="...";function xS(i,e,t){let n=i.split(`
`);if(e>n.length)return"";const s=Math.max(xu(n[e-1].slice(0,t)).length+M_+Su.length,I_),r=Math.max(0,e-3);let o=Math.min(e+2,n.length);for(n=n.slice(r,o);!/\S/.test(n[n.length-1]);)n.pop(),o-=1;const a=String(o).length;return n.map((l,h)=>{const c=r+h+1===e;let f=String(h+r+1);for(;f.length<a;)f=` ${f}`;let p=xu(l);if(p.length>s&&(p=`${p.slice(0,s-Su.length)}${Su}`),c){const g=function(y){let v="";for(;y--;)v+=" ";return v}(a+2+xu(l.slice(0,t)).length)+"^";return`${f}: ${p}
${g}`}return`${f}: ${p}`}).join(`
`)}function Wn(i,e){const t=i.length<=1,n=i.map(r=>`"${r}"`);let s=t?n[0]:`${n.slice(0,-1).join(", ")} and ${n.slice(-1)[0]}`;return e&&(s+=` ${t?e[0]:e[1]}`),s}function Bt(i){return`https://rollupjs.org/${i}`}const __="troubleshooting/#error-name-is-not-exported-by-module",T_="troubleshooting/#warning-sourcemap-is-likely-to-be-incorrect",SS="configuration-options/#output-amd-id",ua="configuration-options/#output-dir",bp="configuration-options/#output-exports",Q_="configuration-options/#output-extend",bS="configuration-options/#output-format",R_="configuration-options/#output-experimentaldeepdynamicchunkoptimization",L_="configuration-options/#output-globals",wp="configuration-options/#output-inlinedynamicimports",kp="configuration-options/#output-interop",ed="configuration-options/#output-manualchunks",zO="configuration-options/#output-name",N_="configuration-options/#output-sourcemapfile",wS="plugin-development/#this-getmoduleinfo";function oe(i){throw i instanceof Error||(i=Object.assign(new Error(i.message),i),Object.defineProperty(i,"name",{value:"RollupError"})),i}function zh(i,e,t,n){if(typeof e=="object"){const{line:s,column:r}=e;i.loc={column:r,file:n,line:s}}else{i.pos=e;const{line:s,column:r}=Sp(t,e,{offsetLine:1});i.loc={column:r,file:n,line:s}}if(i.frame===void 0){const{line:s,column:r}=i.loc;i.frame=xS(t,s,r)}}const D_="ADDON_ERROR",V_="ALREADY_CLOSED",B_="ANONYMOUS_PLUGIN_CACHE",X_="ASSET_NOT_FINALISED",z_="CANNOT_EMIT_FROM_OPTIONS_HOOK",Z_="CHUNK_NOT_GENERATED",U_="CIRCULAR_REEXPORT",j_="DEPRECATED_FEATURE",F_="DUPLICATE_PLUGIN_NAME",W_="FILE_NAME_CONFLICT",Y_="ILLEGAL_IDENTIFIER_AS_NAME",G_="INVALID_CHUNK",kS="INVALID_EXPORT_OPTION",q_="INVALID_LOG_POSITION",H_="INVALID_OPTION",CS="INVALID_PLUGIN_HOOK",$S="INVALID_ROLLUP_PHASE",K_="INVALID_SETASSETSOURCE",J_="MISSING_EXPORT",eT="MISSING_GLOBAL_NAME",td="MISSING_IMPLICIT_DEPENDANT",ZO="MISSING_NAME_OPTION_FOR_IIFE_EXPORT",tT="MISSING_NODE_BUILTINS",iT="MISSING_OPTION",nT="MIXED_EXPORTS",sT="NO_TRANSFORM_MAP_OR_AST_WITHOUT_CODE",rT="OPTIMIZE_CHUNK_STATUS",oT="PLUGIN_ERROR",PS="SOURCEMAP_BROKEN",ES="UNEXPECTED_NAMED_IMPORT",aT="UNKNOWN_OPTION",UO="UNRESOLVED_ENTRY",jO="UNRESOLVED_IMPORT",lT="VALIDATION_ERROR";function FO(){return{code:V_,message:'Bundle is already closed, no more calls to "generate" or "write" are allowed.'}}function AS(i){return{code:"CANNOT_CALL_NAMESPACE",message:`Cannot call a namespace ("${i}").`}}function hT({fileName:i,code:e},t){const n={code:"CHUNK_INVALID",message:`Chunk "${i}" is not valid JavaScript: ${t.message}.`};return zh(n,t.loc,e,i),n}function cT(i){return{code:"CIRCULAR_DEPENDENCY",ids:i,message:`Circular dependency: ${i.map(Ae).join(" -> ")}`}}function uT(i,e,{line:t,column:n}){return{code:"FIRST_SIDE_EFFECT",message:`First side effect in ${Ae(e)} is at (${t}:${n})
${xS(i,t,n)}`}}function IS(i,e){return{code:"ILLEGAL_REASSIGNMENT",message:`Illegal reassignment of import "${i}" in "${Ae(e)}".`}}function Jl(i,e,t,n){return{code:"INCONSISTENT_IMPORT_ASSERTIONS",message:`Module "${Ae(n)}" tried to import "${Ae(t)}" with ${WO(e)} assertions, but it was already imported elsewhere with ${WO(i)} assertions. Please ensure that import assertions for the same module are always consistent.`}}const WO=i=>{const e=Object.entries(i);return e.length===0?"no":e.map(([t,n])=>`"${t}": "${n}"`).join(", ")};function YO(i,e,t){return{code:kS,message:`"${i}" was specified for "output.exports", but entry module "${Ae(t)}" has the following exports: ${Wn(e)}`,url:Bt(bp)}}function vt(i,e,t,n){return{code:H_,message:`Invalid value ${n===void 0?"":`${JSON.stringify(n)} `}for option "${i}" - ${t}.`,url:Bt(e)}}function Zh(i,e,t){const n=ds(t)===".json";return{binding:i,code:J_,exporter:t,id:e,message:`"${i}" is not exported by "${Ae(t)}", imported by "${Ae(e)}".${n?" (Note that you need @rollup/plugin-json to import JSON files)":""}`,url:Bt(__)}}function fT(i){const e=[...i.implicitlyLoadedBefore].map(t=>Ae(t.id)).sort();return{code:td,message:`Module "${Ae(i.id)}" that should be implicitly loaded before ${Wn(e)} is not included in the module graph. Either it was not imported by an included module or only via a tree-shaken dynamic import, or no imported bindings were used and it had otherwise no side-effects.`}}function GO(i,e,t){return{code:rT,message:`${t}, there are
${i} chunks, of which
${e} are below minChunkSize.`}}function fa(i,e,{hook:t,id:n}={}){const s=i.code;return i.pluginCode||s==null||typeof s=="string"&&(typeof s!="string"||s.startsWith("PLUGIN_"))||(i.pluginCode=s),i.code=oT,i.plugin=e,t&&(i.hook=t),n&&(i.id=n),i}function dT(i){return{code:PS,message:`Multiple conflicting contents for sourcemap source ${i}`}}function qO(i,e,t){const n=t?"reexport":"import";return{code:ES,exporter:i,message:`The named export "${e}" was ${n}ed from the external module "${Ae(i)}" even though its interop type is "defaultOnly". Either remove or change this ${n} or change the value of the "output.interop" option.`,url:Bt(kp)}}function pT(i){return{code:ES,exporter:i,message:`There was a namespace "*" reexport from the external module "${Ae(i)}" even though its interop type is "defaultOnly". This will be ignored as namespace reexports only reexport named exports. If this is not intended, either remove or change this reexport or change the value of the "output.interop" option.`,url:Bt(kp)}}function fi(i){return{code:lT,message:i}}function hr(i,e,t,n,s){Na(i,e,t,n.onLog,n.strictDeprecations,s)}function Na(i,e,t,n,s,r){if(t||s){const o=function(a,l,h){return{code:j_,message:a,url:Bt(l),...h?{plugin:h}:{}}}(i,e,r);if(s)return oe(o);n(ke,o)}}class st{constructor(e,t,n,s,r,o){this.options=e,this.id=t,this.renormalizeRenderPath=r,this.dynamicImporters=[],this.execIndex=1/0,this.exportedVariables=new Map,this.importers=[],this.reexported=!1,this.used=!1,this.declarations=new Map,this.mostCommonSuggestion=0,this.nameSuggestions=new Map,this.suggestedVariableName=xp(t.split(/[/\\]/).pop());const{importers:a,dynamicImporters:l}=this,h=this.info={assertions:o,ast:null,code:null,dynamicallyImportedIdResolutions:yt,dynamicallyImportedIds:yt,get dynamicImporters(){return l.sort()},exportedBindings:null,exports:null,hasDefaultExport:null,get hasModuleSideEffects(){return hr("Accessing ModuleInfo.hasModuleSideEffects from plugins is deprecated. Please use ModuleInfo.moduleSideEffects instead.",wS,!0,e),h.moduleSideEffects},id:t,implicitlyLoadedAfterOneOf:yt,implicitlyLoadedBefore:yt,importedIdResolutions:yt,importedIds:yt,get importers(){return a.sort()},isEntry:!1,isExternal:!0,isIncluded:null,meta:s,moduleSideEffects:n,syntheticNamedExports:!1};Object.defineProperty(this.info,"hasModuleSideEffects",{enumerable:!1})}getVariableForExportName(e){const t=this.declarations.get(e);if(t)return[t];const n=new Xh(this,e);return this.declarations.set(e,n),this.exportedVariables.set(n,e),[n]}suggestName(e){const t=(this.nameSuggestions.get(e)??0)+1;this.nameSuggestions.set(e,t),t>this.mostCommonSuggestion&&(this.mostCommonSuggestion=t,this.suggestedVariableName=e)}warnUnusedImports(){const e=[...this.declarations].filter(([a,l])=>a!=="*"&&!l.included&&!this.reexported&&!l.referenced).map(([a])=>a);if(e.length===0)return;const t=new Set;for(const a of e)for(const l of this.declarations.get(a).module.importers)t.add(l);const n=[...t];var s,r,o;this.options.onLog(ke,{code:"UNUSED_EXTERNAL_IMPORT",exporter:s=this.id,ids:o=n,message:`${Wn(r=e,["is","are"])} imported from external module "${s}" but never used in ${Wn(o.map(a=>Ae(a)))}.`,names:r})}}const wr={ArrayPattern(i,e){for(const t of e.elements)t&&wr[t.type](i,t)},AssignmentPattern(i,e){wr[e.left.type](i,e.left)},Identifier(i,e){i.push(e.name)},MemberExpression(){},ObjectPattern(i,e){for(const t of e.properties)t.type==="RestElement"?wr.RestElement(i,t):wr[t.value.type](i,t.value)},RestElement(i,e){wr[e.argument.type](i,e.argument)}},mT=function(i){const e=[];return wr[i.type](e,i),e};function id(){return{brokenFlow:!1,hasBreak:!1,hasContinue:!1,includedCallArguments:new Set,includedLabels:new Set}}function Uh(){return{accessed:new Yr,assigned:new Yr,brokenFlow:!1,called:new XO,hasBreak:!1,hasContinue:!1,ignore:{breaks:!1,continues:!1,labels:new Set,returnYield:!1,this:!1},includedLabels:new Set,instantiated:new XO,replacedVariableInits:new Map}}function Da(i,e=null){return Object.create(e,i)}new Set("break case class catch const continue debugger default delete do else export extends finally for function if import in instanceof let new return super switch this throw try typeof var void while with yield enum await implements package protected static interface private public arguments Infinity NaN undefined null true false eval uneval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Symbol Error EvalError InternalError RangeError ReferenceError SyntaxError TypeError URIError Number Math Date String RegExp Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array Map Set WeakMap WeakSet SIMD ArrayBuffer DataView JSON Promise Generator GeneratorFunction Reflect Proxy Intl".split(" ")).add("");const so=new class extends Ei{getLiteralValueAtPath(){}},Ds={value:{hasEffectsWhenCalled:null,returns:Pe}},Cp=new class extends Ei{getReturnExpressionWhenCalledAtPath(i){return i.length===1?Ba(nd,i[0]):bt}hasEffectsOnInteractionAtPath(i,e,t){return e.type===0?i.length>1:e.type!==2||i.length!==1||Va(nd,i[0],e,t)}},ps={value:{hasEffectsWhenCalled:null,returns:Cp}},ro=new class extends Ei{getReturnExpressionWhenCalledAtPath(i){return i.length===1?Ba(sd,i[0]):bt}hasEffectsOnInteractionAtPath(i,e,t){return e.type===0?i.length>1:e.type!==2||i.length!==1||Va(sd,i[0],e,t)}},kr={value:{hasEffectsWhenCalled:null,returns:ro}},$p=new class extends Ei{getReturnExpressionWhenCalledAtPath(i){return i.length===1?Ba(da,i[0]):bt}hasEffectsOnInteractionAtPath(i,e,t){return e.type===0?i.length>1:e.type!==2||i.length!==1||Va(da,i[0],e,t)}},Me={value:{hasEffectsWhenCalled:null,returns:$p}},HO={value:{hasEffectsWhenCalled({args:i},e){const t=i[2];return i.length<3||typeof t.getLiteralValueAtPath(Ce,kt,{deoptimizeCache(){}})=="symbol"&&t.hasEffectsOnInteractionAtPath(Ce,bc,e)},returns:$p}},kc=Da({hasOwnProperty:ps,isPrototypeOf:ps,propertyIsEnumerable:ps,toLocaleString:Me,toString:Me,valueOf:Ds}),nd=Da({valueOf:ps},kc),sd=Da({toExponential:Me,toFixed:Me,toLocaleString:Me,toPrecision:Me,valueOf:kr},kc),gT=Da({exec:Ds,test:ps},kc),da=Da({anchor:Me,at:Ds,big:Me,blink:Me,bold:Me,charAt:Me,charCodeAt:kr,codePointAt:Ds,concat:Me,endsWith:ps,fixed:Me,fontcolor:Me,fontsize:Me,includes:ps,indexOf:kr,italics:Me,lastIndexOf:kr,link:Me,localeCompare:kr,match:Ds,matchAll:Ds,normalize:Me,padEnd:Me,padStart:Me,repeat:Me,replace:HO,replaceAll:HO,search:kr,slice:Me,small:Me,split:Ds,startsWith:ps,strike:Me,sub:Me,substr:Me,substring:Me,sup:Me,toLocaleLowerCase:Me,toLocaleUpperCase:Me,toLowerCase:Me,toString:Me,toUpperCase:Me,trim:Me,trimEnd:Me,trimLeft:Me,trimRight:Me,trimStart:Me,valueOf:Me},kc);function Va(i,e,t,n){return typeof e!="string"||!i[e]||i[e].hasEffectsWhenCalled?.(t,n)||!1}function Ba(i,e){return typeof e=="string"&&i[e]?[i[e].returns,!1]:bt}function bu(i,e,t){t(i,e)}function Is(i,e,t){}var ne={};ne.Program=ne.BlockStatement=ne.StaticBlock=function(i,e,t){for(var n=0,s=i.body;n<s.length;n+=1)t(s[n],e,"Statement")},ne.Statement=bu,ne.EmptyStatement=Is,ne.ExpressionStatement=ne.ParenthesizedExpression=ne.ChainExpression=function(i,e,t){return t(i.expression,e,"Expression")},ne.IfStatement=function(i,e,t){t(i.test,e,"Expression"),t(i.consequent,e,"Statement"),i.alternate&&t(i.alternate,e,"Statement")},ne.LabeledStatement=function(i,e,t){return t(i.body,e,"Statement")},ne.BreakStatement=ne.ContinueStatement=Is,ne.WithStatement=function(i,e,t){t(i.object,e,"Expression"),t(i.body,e,"Statement")},ne.SwitchStatement=function(i,e,t){t(i.discriminant,e,"Expression");for(var n=0,s=i.cases;n<s.length;n+=1){var r=s[n];r.test&&t(r.test,e,"Expression");for(var o=0,a=r.consequent;o<a.length;o+=1)t(a[o],e,"Statement")}},ne.SwitchCase=function(i,e,t){i.test&&t(i.test,e,"Expression");for(var n=0,s=i.consequent;n<s.length;n+=1)t(s[n],e,"Statement")},ne.ReturnStatement=ne.YieldExpression=ne.AwaitExpression=function(i,e,t){i.argument&&t(i.argument,e,"Expression")},ne.ThrowStatement=ne.SpreadElement=function(i,e,t){return t(i.argument,e,"Expression")},ne.TryStatement=function(i,e,t){t(i.block,e,"Statement"),i.handler&&t(i.handler,e),i.finalizer&&t(i.finalizer,e,"Statement")},ne.CatchClause=function(i,e,t){i.param&&t(i.param,e,"Pattern"),t(i.body,e,"Statement")},ne.WhileStatement=ne.DoWhileStatement=function(i,e,t){t(i.test,e,"Expression"),t(i.body,e,"Statement")},ne.ForStatement=function(i,e,t){i.init&&t(i.init,e,"ForInit"),i.test&&t(i.test,e,"Expression"),i.update&&t(i.update,e,"Expression"),t(i.body,e,"Statement")},ne.ForInStatement=ne.ForOfStatement=function(i,e,t){t(i.left,e,"ForInit"),t(i.right,e,"Expression"),t(i.body,e,"Statement")},ne.ForInit=function(i,e,t){i.type==="VariableDeclaration"?t(i,e):t(i,e,"Expression")},ne.DebuggerStatement=Is,ne.FunctionDeclaration=function(i,e,t){return t(i,e,"Function")},ne.VariableDeclaration=function(i,e,t){for(var n=0,s=i.declarations;n<s.length;n+=1)t(s[n],e)},ne.VariableDeclarator=function(i,e,t){t(i.id,e,"Pattern"),i.init&&t(i.init,e,"Expression")},ne.Function=function(i,e,t){i.id&&t(i.id,e,"Pattern");for(var n=0,s=i.params;n<s.length;n+=1)t(s[n],e,"Pattern");t(i.body,e,i.expression?"Expression":"Statement")},ne.Pattern=function(i,e,t){i.type==="Identifier"?t(i,e,"VariablePattern"):i.type==="MemberExpression"?t(i,e,"MemberPattern"):t(i,e)},ne.VariablePattern=Is,ne.MemberPattern=bu,ne.RestElement=function(i,e,t){return t(i.argument,e,"Pattern")},ne.ArrayPattern=function(i,e,t){for(var n=0,s=i.elements;n<s.length;n+=1){var r=s[n];r&&t(r,e,"Pattern")}},ne.ObjectPattern=function(i,e,t){for(var n=0,s=i.properties;n<s.length;n+=1){var r=s[n];r.type==="Property"?(r.computed&&t(r.key,e,"Expression"),t(r.value,e,"Pattern")):r.type==="RestElement"&&t(r.argument,e,"Pattern")}},ne.Expression=bu,ne.ThisExpression=ne.Super=ne.MetaProperty=Is,ne.ArrayExpression=function(i,e,t){for(var n=0,s=i.elements;n<s.length;n+=1){var r=s[n];r&&t(r,e,"Expression")}},ne.ObjectExpression=function(i,e,t){for(var n=0,s=i.properties;n<s.length;n+=1)t(s[n],e)},ne.FunctionExpression=ne.ArrowFunctionExpression=ne.FunctionDeclaration,ne.SequenceExpression=function(i,e,t){for(var n=0,s=i.expressions;n<s.length;n+=1)t(s[n],e,"Expression")},ne.TemplateLiteral=function(i,e,t){for(var n=0,s=i.quasis;n<s.length;n+=1)t(s[n],e);for(var r=0,o=i.expressions;r<o.length;r+=1)t(o[r],e,"Expression")},ne.TemplateElement=Is,ne.UnaryExpression=ne.UpdateExpression=function(i,e,t){t(i.argument,e,"Expression")},ne.BinaryExpression=ne.LogicalExpression=function(i,e,t){t(i.left,e,"Expression"),t(i.right,e,"Expression")},ne.AssignmentExpression=ne.AssignmentPattern=function(i,e,t){t(i.left,e,"Pattern"),t(i.right,e,"Expression")},ne.ConditionalExpression=function(i,e,t){t(i.test,e,"Expression"),t(i.consequent,e,"Expression"),t(i.alternate,e,"Expression")},ne.NewExpression=ne.CallExpression=function(i,e,t){if(t(i.callee,e,"Expression"),i.arguments)for(var n=0,s=i.arguments;n<s.length;n+=1)t(s[n],e,"Expression")},ne.MemberExpression=function(i,e,t){t(i.object,e,"Expression"),i.computed&&t(i.property,e,"Expression")},ne.ExportNamedDeclaration=ne.ExportDefaultDeclaration=function(i,e,t){i.declaration&&t(i.declaration,e,i.type==="ExportNamedDeclaration"||i.declaration.id?"Statement":"Expression"),i.source&&t(i.source,e,"Expression")},ne.ExportAllDeclaration=function(i,e,t){i.exported&&t(i.exported,e),t(i.source,e,"Expression")},ne.ImportDeclaration=function(i,e,t){for(var n=0,s=i.specifiers;n<s.length;n+=1)t(s[n],e);t(i.source,e,"Expression")},ne.ImportExpression=function(i,e,t){t(i.source,e,"Expression")},ne.ImportSpecifier=ne.ImportDefaultSpecifier=ne.ImportNamespaceSpecifier=ne.Identifier=ne.PrivateIdentifier=ne.Literal=Is,ne.TaggedTemplateExpression=function(i,e,t){t(i.tag,e,"Expression"),t(i.quasi,e,"Expression")},ne.ClassDeclaration=ne.ClassExpression=function(i,e,t){return t(i,e,"Class")},ne.Class=function(i,e,t){i.id&&t(i.id,e,"Pattern"),i.superClass&&t(i.superClass,e,"Expression"),t(i.body,e)},ne.ClassBody=function(i,e,t){for(var n=0,s=i.body;n<s.length;n+=1)t(s[n],e)},ne.MethodDefinition=ne.PropertyDefinition=ne.Property=function(i,e,t){i.computed&&t(i.key,e,"Expression"),i.value&&t(i.value,e,"Expression")};const rd="ArrowFunctionExpression",OT="BinaryExpression",MS="BlockStatement",_S="CallExpression",yT="ChainExpression",vT="ConditionalExpression",xT="ExportDefaultDeclaration",ST="ExportNamedDeclaration",Li="ExpressionStatement",bT="FunctionDeclaration",TS="Identifier",wT="LogicalExpression",kT="NewExpression",jh="Program",CT="SequenceExpression",$T="VariableDeclarator",PT="VariableDeclaration";let Pp="sourceMa";Pp+="ppingURL";const ET=new RegExp(`^#[ \\f\\r\\t\\v\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]+${Pp}=.+`),QS="_rollupAnnotations",RS="_rollupRemoved";function LS(i,e,t=i.type){const{annotations:n,code:s}=e;let r=n[e.annotationIndex];for(;r&&i.start>=r.end;)IT(i,r,s),r=n[++e.annotationIndex];if(r&&r.end<=i.end)for(ne[t](i,e,LS);(r=n[e.annotationIndex])&&r.end<=i.end;)++e.annotationIndex,Fh(i,r,!1)}const AT=/[^\s(]/g,wu=/\S/g;function IT(i,e,t){const n=[];let s;if(xl(t.slice(e.end,i.start),AT)){const r=i.start;for(;;){switch(n.push(i),i.type){case Li:case yT:i=i.expression;continue;case CT:if(xl(t.slice(r,i.start),wu)){i=i.expressions[0];continue}s=!0;break;case vT:if(xl(t.slice(r,i.start),wu)){i=i.test;continue}s=!0;break;case wT:case OT:if(xl(t.slice(r,i.start),wu)){i=i.left;continue}s=!0;break;case ST:case xT:i=i.declaration;continue;case PT:{const o=i;if(o.kind==="const"){i=o.declarations[0].init;continue}s=!0;break}case $T:i=i.init;continue;case bT:case rd:case _S:case kT:break;default:s=!0}break}}else s=!0;if(s)Fh(i,e,!1);else for(const r of n)Fh(r,e,!0)}function xl(i,e){let t;for(;(t=e.exec(i))!==null;){if(t[0]==="/"){const n=i.charCodeAt(e.lastIndex);if(n===42){e.lastIndex=i.indexOf("*/",e.lastIndex+1)+2;continue}if(n===47){e.lastIndex=i.indexOf(`
`,e.lastIndex+1)+1;continue}}return e.lastIndex=0,!1}return!0}const MT=[["pure",/[#@]__PURE__/],["noSideEffects",/[#@]__NO_SIDE_EFFECTS__/]];function Fh(i,e,t){const n=t?QS:RS,s=i[n];s?s.push(e):i[n]=[e]}const ku={ImportExpression:["arguments"],Literal:[],Program:["body"]},NS="variables";class ce extends Ei{constructor(e,t,n,s=!1){super(),this.deoptimized=!1,this.esTreeNode=s?e:null,this.keys=ku[e.type]||function(r){return ku[r.type]=Object.keys(r).filter(o=>typeof r[o]=="object"&&o.charCodeAt(0)!==95),ku[r.type]}(e),this.parent=t,this.context=t.context,this.createScope(n),this.parseNode(e),this.initialise(),this.context.magicString.addSourcemapLocation(this.start),this.context.magicString.addSourcemapLocation(this.end)}addExportedVariables(e,t){}bind(){for(const e of this.keys){const t=this[e];if(Array.isArray(t))for(const n of t)n?.bind();else t&&t.bind()}}createScope(e){this.scope=e}hasEffects(e){this.deoptimized||this.applyDeoptimizations();for(const t of this.keys){const n=this[t];if(n!==null){if(Array.isArray(n)){for(const s of n)if(s?.hasEffects(e))return!0}else if(n.hasEffects(e))return!0}}return!1}hasEffectsAsAssignmentTarget(e,t){return this.hasEffects(e)||this.hasEffectsOnInteractionAtPath(Ce,this.assignmentInteraction,e)}include(e,t,n){this.deoptimized||this.applyDeoptimizations(),this.included=!0;for(const s of this.keys){const r=this[s];if(r!==null)if(Array.isArray(r))for(const o of r)o?.include(e,t);else r.include(e,t)}}includeAsAssignmentTarget(e,t,n){this.include(e,t)}initialise(){}insertSemicolon(e){e.original[this.end-1]!==";"&&e.appendLeft(this.end,";")}parseNode(e,t){for(const[n,s]of Object.entries(e))if(!this.hasOwnProperty(n))if(n.charCodeAt(0)===95){if(n===QS){const r=s;this.annotations=r,this.context.options.treeshake.annotations&&(this.annotationNoSideEffects=r.some(o=>o.annotationType==="noSideEffects"),this.annotationPure=r.some(o=>o.annotationType==="pure"))}else if(n===RS)for(const{start:r,end:o}of s)this.context.magicString.remove(r,o)}else if(typeof s!="object"||s===null)this[n]=s;else if(Array.isArray(s)){this[n]=[];for(const r of s)this[n].push(r===null?null:new(this.context.getNodeConstructor(r.type))(r,this,this.scope,t?.includes(n)))}else this[n]=new(this.context.getNodeConstructor(s.type))(s,this,this.scope,t?.includes(n))}render(e,t){for(const n of this.keys){const s=this[n];if(s!==null)if(Array.isArray(s))for(const r of s)r?.render(e,t);else s.render(e,t)}}setAssignedValue(e){this.assignmentInteraction={args:[null,e],type:1}}shouldBeIncluded(e){return this.included||!e.brokenFlow&&this.hasEffects(Uh())}applyDeoptimizations(){this.deoptimized=!0;for(const e of this.keys){const t=this[e];if(t!==null)if(Array.isArray(t))for(const n of t)n?.deoptimizePath(Be);else t.deoptimizePath(Be)}this.context.requestTreeshakingPass()}}class pa extends ce{deoptimizeArgumentsOnInteractionAtPath(e,t,n){t.length>0&&this.argument.deoptimizeArgumentsOnInteractionAtPath(e,[He,...t],n)}hasEffects(e){this.deoptimized||this.applyDeoptimizations();const{propertyReadSideEffects:t}=this.context.options.treeshake;return this.argument.hasEffects(e)||t&&(t==="always"||this.argument.hasEffectsOnInteractionAtPath(Be,Sc,e))}applyDeoptimizations(){this.deoptimized=!0,this.argument.deoptimizePath([He,He]),this.context.requestTreeshakingPass()}}class li extends Ei{constructor(e){super(),this.description=e}deoptimizeArgumentsOnInteractionAtPath({args:e,type:t},n){t===2&&n.length===0&&this.description.mutatesSelfAsArray&&e[0]?.deoptimizePath(Jf)}getReturnExpressionWhenCalledAtPath(e,{args:t}){return e.length>0?bt:[this.description.returnsPrimitive||(this.description.returns==="self"?t[0]||Pe:this.description.returns()),!1]}hasEffectsOnInteractionAtPath(e,t,n){const{type:s}=t;if(e.length>(s===0?1:0))return!0;if(s===2){const{args:r}=t;if(this.description.mutatesSelfAsArray===!0&&r[0]?.hasEffectsOnInteractionAtPath(Jf,vp,n))return!0;if(this.description.callsArgs){for(const o of this.description.callsArgs)if(r[o+1]?.hasEffectsOnInteractionAtPath(Ce,bc,n))return!0}}return!1}}const eh=[new li({callsArgs:null,mutatesSelfAsArray:!1,returns:null,returnsPrimitive:Cp})],Uo=[new li({callsArgs:null,mutatesSelfAsArray:!1,returns:null,returnsPrimitive:$p})],KO=[new li({callsArgs:null,mutatesSelfAsArray:!1,returns:null,returnsPrimitive:ro})],DS=[new li({callsArgs:null,mutatesSelfAsArray:!1,returns:null,returnsPrimitive:Pe})],vo=/^\d+$/;class $i extends Ei{constructor(e,t,n=!1){if(super(),this.prototypeExpression=t,this.immutable=n,this.additionalExpressionsToBeDeoptimized=new Set,this.allProperties=[],this.deoptimizedPaths=Object.create(null),this.expressionsToBeDeoptimizedByKey=Object.create(null),this.gettersByKey=Object.create(null),this.hasLostTrack=!1,this.hasUnknownDeoptimizedInteger=!1,this.hasUnknownDeoptimizedProperty=!1,this.propertiesAndGettersByKey=Object.create(null),this.propertiesAndSettersByKey=Object.create(null),this.settersByKey=Object.create(null),this.unknownIntegerProps=[],this.unmatchableGetters=[],this.unmatchablePropertiesAndGetters=[],this.unmatchableSetters=[],Array.isArray(e))this.buildPropertyMaps(e);else{this.propertiesAndGettersByKey=this.propertiesAndSettersByKey=e;for(const s of Object.values(e))this.allProperties.push(...s)}}deoptimizeAllProperties(e){const t=this.hasLostTrack||this.hasUnknownDeoptimizedProperty;if(e?this.hasUnknownDeoptimizedProperty=!0:this.hasLostTrack=!0,!t){for(const n of[...Object.values(this.propertiesAndGettersByKey),...Object.values(this.settersByKey)])for(const s of n)s.deoptimizePath(Be);this.prototypeExpression?.deoptimizePath([He,He]),this.deoptimizeCachedEntities()}}deoptimizeArgumentsOnInteractionAtPath(e,t,n){const[s,...r]=t,{args:o,type:a}=e;if(this.hasLostTrack||(a===2||t.length>1)&&(this.hasUnknownDeoptimizedProperty||typeof s=="string"&&this.deoptimizedPaths[s]))return void ks(e);const[l,h,c]=a===2||t.length>1?[this.propertiesAndGettersByKey,this.propertiesAndGettersByKey,this.unmatchablePropertiesAndGetters]:a===0?[this.propertiesAndGettersByKey,this.gettersByKey,this.unmatchableGetters]:[this.propertiesAndSettersByKey,this.settersByKey,this.unmatchableSetters];if(typeof s=="string"){if(l[s]){const f=h[s];if(f)for(const p of f)p.deoptimizeArgumentsOnInteractionAtPath(e,r,n);if(!this.immutable)for(const p of o)p&&this.additionalExpressionsToBeDeoptimized.add(p);return}for(const f of c)f.deoptimizeArgumentsOnInteractionAtPath(e,r,n);if(vo.test(s))for(const f of this.unknownIntegerProps)f.deoptimizeArgumentsOnInteractionAtPath(e,r,n)}else{for(const f of[...Object.values(h),c])for(const p of f)p.deoptimizeArgumentsOnInteractionAtPath(e,r,n);for(const f of this.unknownIntegerProps)f.deoptimizeArgumentsOnInteractionAtPath(e,r,n)}if(!this.immutable)for(const f of o)f&&this.additionalExpressionsToBeDeoptimized.add(f);this.prototypeExpression?.deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizeIntegerProperties(){if(!(this.hasLostTrack||this.hasUnknownDeoptimizedProperty||this.hasUnknownDeoptimizedInteger)){this.hasUnknownDeoptimizedInteger=!0;for(const[e,t]of Object.entries(this.propertiesAndGettersByKey))if(vo.test(e))for(const n of t)n.deoptimizePath(Be);this.deoptimizeCachedIntegerEntities()}}deoptimizePath(e){if(this.hasLostTrack||this.immutable)return;const t=e[0];if(e.length===1){if(typeof t!="string")return t===ca?this.deoptimizeIntegerProperties():this.deoptimizeAllProperties(t===Bh);if(!this.deoptimizedPaths[t]){this.deoptimizedPaths[t]=!0;const s=this.expressionsToBeDeoptimizedByKey[t];if(s)for(const r of s)r.deoptimizeCache()}}const n=e.length===1?Be:e.slice(1);for(const s of typeof t=="string"?[...this.propertiesAndGettersByKey[t]||this.unmatchablePropertiesAndGetters,...this.settersByKey[t]||this.unmatchableSetters]:this.allProperties)s.deoptimizePath(n);this.prototypeExpression?.deoptimizePath(e.length===1?[...e,He]:e)}getLiteralValueAtPath(e,t,n){if(e.length===0)return gS;const s=e[0],r=this.getMemberExpressionAndTrackDeopt(s,n);return r?r.getLiteralValueAtPath(e.slice(1),t,n):this.prototypeExpression?this.prototypeExpression.getLiteralValueAtPath(e,t,n):e.length!==1?ct:void 0}getReturnExpressionWhenCalledAtPath(e,t,n,s){if(e.length===0)return bt;const[r,...o]=e,a=this.getMemberExpressionAndTrackDeopt(r,s);return a?a.getReturnExpressionWhenCalledAtPath(o,t,n,s):this.prototypeExpression?this.prototypeExpression.getReturnExpressionWhenCalledAtPath(e,t,n,s):bt}hasEffectsOnInteractionAtPath(e,t,n){const[s,...r]=e;if(r.length>0||t.type===2){const h=this.getMemberExpression(s);return h?h.hasEffectsOnInteractionAtPath(r,t,n):!this.prototypeExpression||this.prototypeExpression.hasEffectsOnInteractionAtPath(e,t,n)}if(s===Bh)return!1;if(this.hasLostTrack)return!0;const[o,a,l]=t.type===0?[this.propertiesAndGettersByKey,this.gettersByKey,this.unmatchableGetters]:[this.propertiesAndSettersByKey,this.settersByKey,this.unmatchableSetters];if(typeof s=="string"){if(o[s]){const h=a[s];if(h){for(const c of h)if(c.hasEffectsOnInteractionAtPath(r,t,n))return!0}return!1}for(const h of l)if(h.hasEffectsOnInteractionAtPath(r,t,n))return!0}else for(const h of[...Object.values(a),l])for(const c of h)if(c.hasEffectsOnInteractionAtPath(r,t,n))return!0;return!!this.prototypeExpression&&this.prototypeExpression.hasEffectsOnInteractionAtPath(e,t,n)}buildPropertyMaps(e){const{allProperties:t,propertiesAndGettersByKey:n,propertiesAndSettersByKey:s,settersByKey:r,gettersByKey:o,unknownIntegerProps:a,unmatchablePropertiesAndGetters:l,unmatchableGetters:h,unmatchableSetters:c}=this,f=[];for(let p=e.length-1;p>=0;p--){const{key:g,kind:y,property:v}=e[p];if(t.push(v),typeof g=="string")y==="set"?s[g]||(s[g]=[v,...f],r[g]=[v,...c]):y==="get"?n[g]||(n[g]=[v,...l],o[g]=[v,...h]):(s[g]||(s[g]=[v,...f]),n[g]||(n[g]=[v,...l]));else{if(g===ca){a.push(v);continue}y==="set"&&c.push(v),y==="get"&&h.push(v),y!=="get"&&f.push(v),y!=="set"&&l.push(v)}}}deoptimizeCachedEntities(){for(const e of Object.values(this.expressionsToBeDeoptimizedByKey))for(const t of e)t.deoptimizeCache();for(const e of this.additionalExpressionsToBeDeoptimized)e.deoptimizePath(Be)}deoptimizeCachedIntegerEntities(){for(const[e,t]of Object.entries(this.expressionsToBeDeoptimizedByKey))if(vo.test(e))for(const n of t)n.deoptimizeCache();for(const e of this.additionalExpressionsToBeDeoptimized)e.deoptimizePath(Jf)}getMemberExpression(e){if(this.hasLostTrack||this.hasUnknownDeoptimizedProperty||typeof e!="string"||this.hasUnknownDeoptimizedInteger&&vo.test(e)||this.deoptimizedPaths[e])return Pe;const t=this.propertiesAndGettersByKey[e];return t?.length===1?t[0]:t||this.unmatchablePropertiesAndGetters.length>0||this.unknownIntegerProps.length>0&&vo.test(e)?Pe:null}getMemberExpressionAndTrackDeopt(e,t){if(typeof e!="string")return Pe;const n=this.getMemberExpression(e);return n!==Pe&&!this.immutable&&(this.expressionsToBeDeoptimizedByKey[e]=this.expressionsToBeDeoptimizedByKey[e]||[]).push(t),n}}const JO=i=>typeof i=="string"&&/^\d+$/.test(i),_T=new class extends Ei{deoptimizeArgumentsOnInteractionAtPath(i,e){i.type!==2||e.length!==1||JO(e[0])||ks(i)}getLiteralValueAtPath(i){return i.length===1&&JO(i[0])?void 0:ct}hasEffectsOnInteractionAtPath(i,{type:e}){return i.length>1||e===2}},ms=new $i({__proto__:null,hasOwnProperty:eh,isPrototypeOf:eh,propertyIsEnumerable:eh,toLocaleString:Uo,toString:Uo,valueOf:DS},_T,!0),Ep=[{key:ca,kind:"init",property:Pe},{key:"length",kind:"init",property:ro}],ey=[new li({callsArgs:[0],mutatesSelfAsArray:"deopt-only",returns:null,returnsPrimitive:Cp})],ty=[new li({callsArgs:[0],mutatesSelfAsArray:"deopt-only",returns:null,returnsPrimitive:ro})],TT=[new li({callsArgs:null,mutatesSelfAsArray:!0,returns:()=>new $i(Ep,Cc),returnsPrimitive:null})],Sl=[new li({callsArgs:null,mutatesSelfAsArray:"deopt-only",returns:()=>new $i(Ep,Cc),returnsPrimitive:null})],Cu=[new li({callsArgs:[0],mutatesSelfAsArray:"deopt-only",returns:()=>new $i(Ep,Cc),returnsPrimitive:null})],iy=[new li({callsArgs:null,mutatesSelfAsArray:!0,returns:null,returnsPrimitive:ro})],ny=[new li({callsArgs:null,mutatesSelfAsArray:!0,returns:null,returnsPrimitive:Pe})],sy=[new li({callsArgs:null,mutatesSelfAsArray:"deopt-only",returns:null,returnsPrimitive:Pe})],xo=[new li({callsArgs:[0],mutatesSelfAsArray:"deopt-only",returns:null,returnsPrimitive:Pe})],$u=[new li({callsArgs:null,mutatesSelfAsArray:!0,returns:"self",returnsPrimitive:null})],QT=[new li({callsArgs:[0],mutatesSelfAsArray:!0,returns:"self",returnsPrimitive:null})],Cc=new $i({__proto__:null,at:sy,concat:Sl,copyWithin:$u,entries:Sl,every:ey,fill:$u,filter:Cu,find:xo,findIndex:ty,findLast:xo,findLastIndex:ty,flat:Sl,flatMap:Cu,forEach:xo,includes:eh,indexOf:KO,join:Uo,keys:DS,lastIndexOf:KO,map:Cu,pop:ny,push:iy,reduce:xo,reduceRight:xo,reverse:$u,shift:ny,slice:Sl,some:ey,sort:QT,splice:TT,toLocaleString:Uo,toString:Uo,unshift:iy,values:sy},ms,!0);class VS extends ce{constructor(){super(...arguments),this.objectEntity=null}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.getObjectEntity().deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizePath(e){this.getObjectEntity().deoptimizePath(e)}getLiteralValueAtPath(e,t,n){return this.getObjectEntity().getLiteralValueAtPath(e,t,n)}getReturnExpressionWhenCalledAtPath(e,t,n,s){return this.getObjectEntity().getReturnExpressionWhenCalledAtPath(e,t,n,s)}hasEffectsOnInteractionAtPath(e,t,n){return this.getObjectEntity().hasEffectsOnInteractionAtPath(e,t,n)}applyDeoptimizations(){this.deoptimized=!0;let e=!1;for(let t=0;t<this.elements.length;t++){const n=this.elements[t];n&&(e||n instanceof pa)&&(e=!0,n.deoptimizePath(Be))}this.context.requestTreeshakingPass()}getObjectEntity(){if(this.objectEntity!==null)return this.objectEntity;const e=[{key:"length",kind:"init",property:ro}];let t=!1;for(let n=0;n<this.elements.length;n++){const s=this.elements[n];t||s instanceof pa?s&&(t=!0,e.unshift({key:ca,kind:"init",property:s})):s?e.push({key:String(n),kind:"init",property:s}):e.push({key:String(n),kind:"init",property:so})}return this.objectEntity=new $i(e,Cc)}}class BS extends ce{addExportedVariables(e,t){for(const n of this.elements)n?.addExportedVariables(e,t)}declare(e){const t=[];for(const n of this.elements)n!==null&&t.push(...n.declare(e,Pe));return t}deoptimizePath(){for(const e of this.elements)e?.deoptimizePath(Ce)}hasEffectsOnInteractionAtPath(e,t,n){for(const s of this.elements)if(s?.hasEffectsOnInteractionAtPath(Ce,t,n))return!0;return!1}markDeclarationReached(){for(const e of this.elements)e?.markDeclarationReached()}}class Yn extends lr{constructor(e,t,n,s){super(e),this.init=n,this.calledFromTryStatement=!1,this.additionalInitializers=null,this.expressionsToBeDeoptimized=[],this.declarations=t?[t]:[],this.deoptimizationTracker=s.deoptimizationTracker,this.module=s.module}addDeclaration(e,t){this.declarations.push(e),this.markInitializersForDeoptimization().push(t)}consolidateInitializers(){if(this.additionalInitializers){for(const e of this.additionalInitializers)e.deoptimizePath(Be);this.additionalInitializers=null}}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.isReassigned?ks(e):n.withTrackedEntityAtPath(t,this.init,()=>this.init.deoptimizeArgumentsOnInteractionAtPath(e,t,n),void 0)}deoptimizePath(e){if(!this.isReassigned&&!this.deoptimizationTracker.trackEntityAtPathAndGetIfTracked(e,this))if(e.length===0){if(!this.isReassigned){this.isReassigned=!0;const t=this.expressionsToBeDeoptimized;this.expressionsToBeDeoptimized=yt;for(const n of t)n.deoptimizeCache();this.init.deoptimizePath(Be)}}else this.init.deoptimizePath(e)}getLiteralValueAtPath(e,t,n){return this.isReassigned?ct:t.withTrackedEntityAtPath(e,this.init,()=>(this.expressionsToBeDeoptimized.push(n),this.init.getLiteralValueAtPath(e,t,n)),ct)}getReturnExpressionWhenCalledAtPath(e,t,n,s){return this.isReassigned?bt:n.withTrackedEntityAtPath(e,this.init,()=>(this.expressionsToBeDeoptimized.push(s),this.init.getReturnExpressionWhenCalledAtPath(e,t,n,s)),bt)}hasEffectsOnInteractionAtPath(e,t,n){switch(t.type){case 0:return!!this.isReassigned||!n.accessed.trackEntityAtPathAndGetIfTracked(e,this)&&this.init.hasEffectsOnInteractionAtPath(e,t,n);case 1:return!!this.included||e.length!==0&&(!!this.isReassigned||!n.assigned.trackEntityAtPathAndGetIfTracked(e,this)&&this.init.hasEffectsOnInteractionAtPath(e,t,n));case 2:return!!this.isReassigned||!(t.withNew?n.instantiated:n.called).trackEntityAtPathAndGetIfTracked(e,t.args,this)&&this.init.hasEffectsOnInteractionAtPath(e,t,n)}}include(){if(!this.included){this.included=!0;for(const e of this.declarations){e.included||e.include(id(),!1);let t=e.parent;for(;!t.included&&(t.included=!0,t.type!==jh);)t=t.parent}}}includeCallArguments(e,t){if(this.isReassigned||e.includedCallArguments.has(this.init))for(const n of t)n.include(e,!1);else e.includedCallArguments.add(this.init),this.init.includeCallArguments(e,t),e.includedCallArguments.delete(this.init)}markCalledFromTryStatement(){this.calledFromTryStatement=!0}markInitializersForDeoptimization(){return this.additionalInitializers===null&&(this.additionalInitializers=[this.init],this.init=Pe,this.isReassigned=!0),this.additionalInitializers}mergeDeclarations(e){const{declarations:t}=this;for(const s of e.declarations)t.push(s);const n=this.markInitializersForDeoptimization();if(n.push(e.init),e.additionalInitializers)for(const s of e.additionalInitializers)n.push(s)}}const ry=yt,RT=new Set([He]),LT=new Yr,NT=new Set([Pe]);class XS extends Yn{constructor(e,t,n){super(e,t,Pe,n),this.deoptimizationInteractions=[],this.deoptimizations=new Yr,this.deoptimizedFields=new Set,this.entitiesToBeDeoptimized=new Set}addEntityToBeDeoptimized(e){if(e===Pe){if(!this.entitiesToBeDeoptimized.has(Pe)){this.entitiesToBeDeoptimized.add(Pe);for(const{interaction:t}of this.deoptimizationInteractions)ks(t);this.deoptimizationInteractions=ry}}else if(this.deoptimizedFields.has(He))e.deoptimizePath(Be);else if(!this.entitiesToBeDeoptimized.has(e)){this.entitiesToBeDeoptimized.add(e);for(const t of this.deoptimizedFields)e.deoptimizePath([t]);for(const{interaction:t,path:n}of this.deoptimizationInteractions)e.deoptimizeArgumentsOnInteractionAtPath(t,n,kt)}}deoptimizeArgumentsOnInteractionAtPath(e,t){if(t.length>=2||this.entitiesToBeDeoptimized.has(Pe)||this.deoptimizationInteractions.length>=20||t.length===1&&(this.deoptimizedFields.has(He)||e.type===2&&this.deoptimizedFields.has(t[0])))ks(e);else if(!this.deoptimizations.trackEntityAtPathAndGetIfTracked(t,e.args)){for(const n of this.entitiesToBeDeoptimized)n.deoptimizeArgumentsOnInteractionAtPath(e,t,kt);this.entitiesToBeDeoptimized.has(Pe)||this.deoptimizationInteractions.push({interaction:e,path:t})}}deoptimizePath(e){if(e.length===0||this.deoptimizedFields.has(He))return;const t=e[0];if(!this.deoptimizedFields.has(t)){this.deoptimizedFields.add(t);for(const n of this.entitiesToBeDeoptimized)n.deoptimizePath(e);t===He&&(this.deoptimizationInteractions=ry,this.deoptimizations=LT,this.deoptimizedFields=RT,this.entitiesToBeDeoptimized=NT)}}getReturnExpressionWhenCalledAtPath(e){return e.length===0?this.deoptimizePath(Be):this.deoptimizedFields.has(e[0])||this.deoptimizePath([e[0]]),bt}}const DT="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$",oy=64;function Wh(i){let e="";do{const t=i%oy;i=i/oy|0,e=DT[t]+e}while(i!==0);return e}function Cn(i,e,t){let n=i,s=1;for(;e.has(n)||wc.has(n)||t?.has(n);)n=`${i}$${Wh(s++)}`;return e.add(n),n}let zS=class{constructor(){this.children=[],this.variables=new Map}addDeclaration(i,e,t,n){const s=i.name;let r=this.variables.get(s);return r?r.addDeclaration(i,t):(r=new Yn(i.name,i,t||so,e),this.variables.set(s,r)),r}contains(i){return this.variables.has(i)}findVariable(i){throw new Error("Internal Error: findVariable needs to be implemented by a subclass")}};class en extends zS{constructor(e){super(),this.accessedOutsideVariables=new Map,this.parent=e,e.children.push(this)}addAccessedDynamicImport(e){(this.accessedDynamicImports||(this.accessedDynamicImports=new Set)).add(e),this.parent instanceof en&&this.parent.addAccessedDynamicImport(e)}addAccessedGlobals(e,t){const n=t.get(this)||new Set;for(const s of e)n.add(s);t.set(this,n),this.parent instanceof en&&this.parent.addAccessedGlobals(e,t)}addNamespaceMemberAccess(e,t){this.accessedOutsideVariables.set(e,t),this.parent.addNamespaceMemberAccess(e,t)}addReturnExpression(e){this.parent instanceof en&&this.parent.addReturnExpression(e)}addUsedOutsideNames(e,t,n,s){for(const o of this.accessedOutsideVariables.values())o.included&&(e.add(o.getBaseVariableName()),t==="system"&&n.has(o)&&e.add("exports"));const r=s.get(this);if(r)for(const o of r)e.add(o)}contains(e){return this.variables.has(e)||this.parent.contains(e)}deconflict(e,t,n){const s=new Set;if(this.addUsedOutsideNames(s,e,t,n),this.accessedDynamicImports)for(const r of this.accessedDynamicImports)r.inlineNamespace&&s.add(r.inlineNamespace.getBaseVariableName());for(const[r,o]of this.variables)(o.included||o.alwaysRendered)&&o.setRenderNames(null,Cn(r,s,o.forbiddenNames));for(const r of this.children)r.deconflict(e,t,n)}findLexicalBoundary(){return this.parent.findLexicalBoundary()}findVariable(e){const t=this.variables.get(e)||this.accessedOutsideVariables.get(e);if(t)return t;const n=this.parent.findVariable(e);return this.accessedOutsideVariables.set(e,n),n}}class ZS extends en{constructor(e,t){super(e),this.parameters=[],this.hasRest=!1,this.context=t,this.hoistedBodyVarScope=new en(this)}addParameterDeclaration(e){const{name:t}=e,n=new XS(t,e,this.context),s=this.hoistedBodyVarScope.variables.get(t);return s&&(this.hoistedBodyVarScope.variables.set(t,n),n.mergeDeclarations(s)),this.variables.set(t,n),n}addParameterVariables(e,t){this.parameters=e;for(const n of e)for(const s of n)s.alwaysRendered=!0;this.hasRest=t}includeCallArguments(e,t){let n=!1,s=!1;const r=this.hasRest&&this.parameters[this.parameters.length-1];for(const o of t)if(o instanceof pa){for(const a of t)a.include(e,!1);break}for(let o=t.length-1;o>=0;o--){const a=this.parameters[o]||r,l=t[o];if(a)if(n=!1,a.length===0)s=!0;else for(const h of a)h.included&&(s=!0),h.calledFromTryStatement&&(n=!0);!s&&l.shouldBeIncluded(e)&&(s=!0),s&&l.include(e,n)}}}class US extends ZS{constructor(){super(...arguments),this.returnExpression=null,this.returnExpressions=[]}addReturnExpression(e){this.returnExpressions.push(e)}getReturnExpression(){return this.returnExpression===null&&this.updateReturnExpression(),this.returnExpression}updateReturnExpression(){if(this.returnExpressions.length===1)this.returnExpression=this.returnExpressions[0];else{this.returnExpression=Pe;for(const e of this.returnExpressions)e.deoptimizePath(Be)}}}function jS(i,e){if(i.type==="MemberExpression")return!i.computed&&jS(i.object,i);if(i.type==="Identifier"){if(!e)return!0;switch(e.type){case"MemberExpression":return e.computed||i===e.object;case"MethodDefinition":return e.computed;case"PropertyDefinition":case"Property":return e.computed||i===e.value;case"ExportSpecifier":case"ImportSpecifier":return i===e.local;case"LabeledStatement":case"BreakStatement":case"ContinueStatement":return!1;default:return!0}}return!1}const od=Symbol("PureFunction"),tn=()=>{},ot=Symbol("Value Properties"),Xa=()=>gS,FS=()=>!0,yn={deoptimizeArgumentsOnCall:tn,getLiteralValue:Xa,hasEffectsWhenCalled:()=>!1},Xn={deoptimizeArgumentsOnCall:tn,getLiteralValue:Xa,hasEffectsWhenCalled:FS},W={__proto__:null,[ot]:Xn},ae={__proto__:null,[ot]:yn},ay={__proto__:null,[ot]:{deoptimizeArgumentsOnCall:tn,getLiteralValue:Xa,hasEffectsWhenCalled({args:i},e){const[t,n]=i;return!(n instanceof Ei)||n.hasEffectsOnInteractionAtPath(Be,Sc,e)}}},Pu={__proto__:null,[ot]:{deoptimizeArgumentsOnCall({args:[,i]}){i?.deoptimizePath(Be)},getLiteralValue:Xa,hasEffectsWhenCalled:({args:i},e)=>i.length<=1||i[1].hasEffectsOnInteractionAtPath(E_,vp,e)}},x={__proto__:null,[ot]:Xn,prototype:W},Hi={__proto__:null,[ot]:yn,prototype:W},bl={__proto__:null,[ot]:{deoptimizeArgumentsOnCall:tn,getLiteralValue:Xa,hasEffectsWhenCalled:({args:i})=>i.length>1&&!(i[1]instanceof VS)},prototype:W},Nn={__proto__:null,[ot]:yn,from:W,of:ae,prototype:W},Dn={__proto__:null,[ot]:yn,supportedLocalesOf:Hi},ad={global:W,globalThis:W,self:W,window:W,__proto__:null,[ot]:Xn,Array:{__proto__:null,[ot]:Xn,from:W,isArray:ae,of:ae,prototype:W},ArrayBuffer:{__proto__:null,[ot]:yn,isView:ae,prototype:W},Atomics:W,BigInt:x,BigInt64Array:x,BigUint64Array:x,Boolean:Hi,constructor:x,DataView:Hi,Date:{__proto__:null,[ot]:yn,now:ae,parse:ae,prototype:W,UTC:ae},decodeURI:ae,decodeURIComponent:ae,encodeURI:ae,encodeURIComponent:ae,Error:Hi,escape:ae,eval:W,EvalError:Hi,Float32Array:Nn,Float64Array:Nn,Function:x,hasOwnProperty:W,Infinity:W,Int16Array:Nn,Int32Array:Nn,Int8Array:Nn,isFinite:ae,isNaN:ae,isPrototypeOf:W,JSON:W,Map:bl,Math:{__proto__:null,[ot]:Xn,abs:ae,acos:ae,acosh:ae,asin:ae,asinh:ae,atan:ae,atan2:ae,atanh:ae,cbrt:ae,ceil:ae,clz32:ae,cos:ae,cosh:ae,exp:ae,expm1:ae,floor:ae,fround:ae,hypot:ae,imul:ae,log:ae,log10:ae,log1p:ae,log2:ae,max:ae,min:ae,pow:ae,random:ae,round:ae,sign:ae,sin:ae,sinh:ae,sqrt:ae,tan:ae,tanh:ae,trunc:ae},NaN:W,Number:{__proto__:null,[ot]:yn,isFinite:ae,isInteger:ae,isNaN:ae,isSafeInteger:ae,parseFloat:ae,parseInt:ae,prototype:W},Object:{__proto__:null,[ot]:yn,create:ae,defineProperty:Pu,defineProperties:Pu,freeze:Pu,getOwnPropertyDescriptor:ae,getOwnPropertyDescriptors:ae,getOwnPropertyNames:ae,getOwnPropertySymbols:ae,getPrototypeOf:ae,hasOwn:ae,is:ae,isExtensible:ae,isFrozen:ae,isSealed:ae,keys:ae,fromEntries:W,entries:ay,values:ay,prototype:W},parseFloat:ae,parseInt:ae,Promise:{__proto__:null,[ot]:Xn,all:W,allSettled:W,any:W,prototype:W,race:W,reject:W,resolve:W},propertyIsEnumerable:W,Proxy:W,RangeError:Hi,ReferenceError:Hi,Reflect:W,RegExp:Hi,Set:bl,SharedArrayBuffer:x,String:{__proto__:null,[ot]:yn,fromCharCode:ae,fromCodePoint:ae,prototype:W,raw:ae},Symbol:{__proto__:null,[ot]:yn,for:ae,keyFor:ae,prototype:W,toStringTag:{__proto__:null,[ot]:{deoptimizeArgumentsOnCall:tn,getLiteralValue:()=>yp,hasEffectsWhenCalled:FS}}},SyntaxError:Hi,toLocaleString:W,toString:W,TypeError:Hi,Uint16Array:Nn,Uint32Array:Nn,Uint8Array:Nn,Uint8ClampedArray:Nn,unescape:ae,URIError:Hi,valueOf:W,WeakMap:bl,WeakSet:bl,clearInterval:x,clearTimeout:x,console:{__proto__:null,[ot]:Xn,assert:x,clear:x,count:x,countReset:x,debug:x,dir:x,dirxml:x,error:x,exception:x,group:x,groupCollapsed:x,groupEnd:x,info:x,log:x,table:x,time:x,timeEnd:x,timeLog:x,trace:x,warn:x},Intl:{__proto__:null,[ot]:Xn,Collator:Dn,DateTimeFormat:Dn,DisplayNames:Dn,ListFormat:Dn,Locale:Dn,NumberFormat:Dn,PluralRules:Dn,RelativeTimeFormat:Dn,Segmenter:Dn},setInterval:x,setTimeout:x,TextDecoder:x,TextEncoder:x,URL:{__proto__:null,[ot]:Xn,prototype:W,canParse:ae},URLSearchParams:x,AbortController:x,AbortSignal:x,addEventListener:W,alert:W,AnalyserNode:x,Animation:x,AnimationEvent:x,applicationCache:W,ApplicationCache:x,ApplicationCacheErrorEvent:x,atob:W,Attr:x,Audio:x,AudioBuffer:x,AudioBufferSourceNode:x,AudioContext:x,AudioDestinationNode:x,AudioListener:x,AudioNode:x,AudioParam:x,AudioProcessingEvent:x,AudioScheduledSourceNode:x,AudioWorkletNode:x,BarProp:x,BaseAudioContext:x,BatteryManager:x,BeforeUnloadEvent:x,BiquadFilterNode:x,Blob:x,BlobEvent:x,blur:W,BroadcastChannel:x,btoa:W,ByteLengthQueuingStrategy:x,Cache:x,caches:W,CacheStorage:x,cancelAnimationFrame:W,cancelIdleCallback:W,CanvasCaptureMediaStreamTrack:x,CanvasGradient:x,CanvasPattern:x,CanvasRenderingContext2D:x,ChannelMergerNode:x,ChannelSplitterNode:x,CharacterData:x,clientInformation:W,ClipboardEvent:x,close:W,closed:W,CloseEvent:x,Comment:x,CompositionEvent:x,confirm:W,ConstantSourceNode:x,ConvolverNode:x,CountQueuingStrategy:x,createImageBitmap:W,Credential:x,CredentialsContainer:x,crypto:W,Crypto:x,CryptoKey:x,CSS:x,CSSConditionRule:x,CSSFontFaceRule:x,CSSGroupingRule:x,CSSImportRule:x,CSSKeyframeRule:x,CSSKeyframesRule:x,CSSMediaRule:x,CSSNamespaceRule:x,CSSPageRule:x,CSSRule:x,CSSRuleList:x,CSSStyleDeclaration:x,CSSStyleRule:x,CSSStyleSheet:x,CSSSupportsRule:x,CustomElementRegistry:x,customElements:W,CustomEvent:x,DataTransfer:x,DataTransferItem:x,DataTransferItemList:x,defaultstatus:W,defaultStatus:W,DelayNode:x,DeviceMotionEvent:x,DeviceOrientationEvent:x,devicePixelRatio:W,dispatchEvent:W,document:W,Document:x,DocumentFragment:x,DocumentType:x,DOMError:x,DOMException:x,DOMImplementation:x,DOMMatrix:x,DOMMatrixReadOnly:x,DOMParser:x,DOMPoint:x,DOMPointReadOnly:x,DOMQuad:x,DOMRect:x,DOMRectReadOnly:x,DOMStringList:x,DOMStringMap:x,DOMTokenList:x,DragEvent:x,DynamicsCompressorNode:x,Element:x,ErrorEvent:x,Event:x,EventSource:x,EventTarget:x,external:W,fetch:W,File:x,FileList:x,FileReader:x,find:W,focus:W,FocusEvent:x,FontFace:x,FontFaceSetLoadEvent:x,FormData:x,frames:W,GainNode:x,Gamepad:x,GamepadButton:x,GamepadEvent:x,getComputedStyle:W,getSelection:W,HashChangeEvent:x,Headers:x,history:W,History:x,HTMLAllCollection:x,HTMLAnchorElement:x,HTMLAreaElement:x,HTMLAudioElement:x,HTMLBaseElement:x,HTMLBodyElement:x,HTMLBRElement:x,HTMLButtonElement:x,HTMLCanvasElement:x,HTMLCollection:x,HTMLContentElement:x,HTMLDataElement:x,HTMLDataListElement:x,HTMLDetailsElement:x,HTMLDialogElement:x,HTMLDirectoryElement:x,HTMLDivElement:x,HTMLDListElement:x,HTMLDocument:x,HTMLElement:x,HTMLEmbedElement:x,HTMLFieldSetElement:x,HTMLFontElement:x,HTMLFormControlsCollection:x,HTMLFormElement:x,HTMLFrameElement:x,HTMLFrameSetElement:x,HTMLHeadElement:x,HTMLHeadingElement:x,HTMLHRElement:x,HTMLHtmlElement:x,HTMLIFrameElement:x,HTMLImageElement:x,HTMLInputElement:x,HTMLLabelElement:x,HTMLLegendElement:x,HTMLLIElement:x,HTMLLinkElement:x,HTMLMapElement:x,HTMLMarqueeElement:x,HTMLMediaElement:x,HTMLMenuElement:x,HTMLMetaElement:x,HTMLMeterElement:x,HTMLModElement:x,HTMLObjectElement:x,HTMLOListElement:x,HTMLOptGroupElement:x,HTMLOptionElement:x,HTMLOptionsCollection:x,HTMLOutputElement:x,HTMLParagraphElement:x,HTMLParamElement:x,HTMLPictureElement:x,HTMLPreElement:x,HTMLProgressElement:x,HTMLQuoteElement:x,HTMLScriptElement:x,HTMLSelectElement:x,HTMLShadowElement:x,HTMLSlotElement:x,HTMLSourceElement:x,HTMLSpanElement:x,HTMLStyleElement:x,HTMLTableCaptionElement:x,HTMLTableCellElement:x,HTMLTableColElement:x,HTMLTableElement:x,HTMLTableRowElement:x,HTMLTableSectionElement:x,HTMLTemplateElement:x,HTMLTextAreaElement:x,HTMLTimeElement:x,HTMLTitleElement:x,HTMLTrackElement:x,HTMLUListElement:x,HTMLUnknownElement:x,HTMLVideoElement:x,IDBCursor:x,IDBCursorWithValue:x,IDBDatabase:x,IDBFactory:x,IDBIndex:x,IDBKeyRange:x,IDBObjectStore:x,IDBOpenDBRequest:x,IDBRequest:x,IDBTransaction:x,IDBVersionChangeEvent:x,IdleDeadline:x,IIRFilterNode:x,Image:x,ImageBitmap:x,ImageBitmapRenderingContext:x,ImageCapture:x,ImageData:x,indexedDB:W,innerHeight:W,innerWidth:W,InputEvent:x,IntersectionObserver:x,IntersectionObserverEntry:x,isSecureContext:W,KeyboardEvent:x,KeyframeEffect:x,length:W,localStorage:W,location:W,Location:x,locationbar:W,matchMedia:W,MediaDeviceInfo:x,MediaDevices:x,MediaElementAudioSourceNode:x,MediaEncryptedEvent:x,MediaError:x,MediaKeyMessageEvent:x,MediaKeySession:x,MediaKeyStatusMap:x,MediaKeySystemAccess:x,MediaList:x,MediaQueryList:x,MediaQueryListEvent:x,MediaRecorder:x,MediaSettingsRange:x,MediaSource:x,MediaStream:x,MediaStreamAudioDestinationNode:x,MediaStreamAudioSourceNode:x,MediaStreamEvent:x,MediaStreamTrack:x,MediaStreamTrackEvent:x,menubar:W,MessageChannel:x,MessageEvent:x,MessagePort:x,MIDIAccess:x,MIDIConnectionEvent:x,MIDIInput:x,MIDIInputMap:x,MIDIMessageEvent:x,MIDIOutput:x,MIDIOutputMap:x,MIDIPort:x,MimeType:x,MimeTypeArray:x,MouseEvent:x,moveBy:W,moveTo:W,MutationEvent:x,MutationObserver:x,MutationRecord:x,name:W,NamedNodeMap:x,NavigationPreloadManager:x,navigator:W,Navigator:x,NetworkInformation:x,Node:x,NodeFilter:W,NodeIterator:x,NodeList:x,Notification:x,OfflineAudioCompletionEvent:x,OfflineAudioContext:x,offscreenBuffering:W,OffscreenCanvas:x,open:W,openDatabase:W,Option:x,origin:W,OscillatorNode:x,outerHeight:W,outerWidth:W,PageTransitionEvent:x,pageXOffset:W,pageYOffset:W,PannerNode:x,parent:W,Path2D:x,PaymentAddress:x,PaymentRequest:x,PaymentRequestUpdateEvent:x,PaymentResponse:x,performance:W,Performance:x,PerformanceEntry:x,PerformanceLongTaskTiming:x,PerformanceMark:x,PerformanceMeasure:x,PerformanceNavigation:x,PerformanceNavigationTiming:x,PerformanceObserver:x,PerformanceObserverEntryList:x,PerformancePaintTiming:x,PerformanceResourceTiming:x,PerformanceTiming:x,PeriodicWave:x,Permissions:x,PermissionStatus:x,personalbar:W,PhotoCapabilities:x,Plugin:x,PluginArray:x,PointerEvent:x,PopStateEvent:x,postMessage:W,Presentation:x,PresentationAvailability:x,PresentationConnection:x,PresentationConnectionAvailableEvent:x,PresentationConnectionCloseEvent:x,PresentationConnectionList:x,PresentationReceiver:x,PresentationRequest:x,print:W,ProcessingInstruction:x,ProgressEvent:x,PromiseRejectionEvent:x,prompt:W,PushManager:x,PushSubscription:x,PushSubscriptionOptions:x,queueMicrotask:W,RadioNodeList:x,Range:x,ReadableStream:x,RemotePlayback:x,removeEventListener:W,Request:x,requestAnimationFrame:W,requestIdleCallback:W,resizeBy:W,ResizeObserver:x,ResizeObserverEntry:x,resizeTo:W,Response:x,RTCCertificate:x,RTCDataChannel:x,RTCDataChannelEvent:x,RTCDtlsTransport:x,RTCIceCandidate:x,RTCIceTransport:x,RTCPeerConnection:x,RTCPeerConnectionIceEvent:x,RTCRtpReceiver:x,RTCRtpSender:x,RTCSctpTransport:x,RTCSessionDescription:x,RTCStatsReport:x,RTCTrackEvent:x,screen:W,Screen:x,screenLeft:W,ScreenOrientation:x,screenTop:W,screenX:W,screenY:W,ScriptProcessorNode:x,scroll:W,scrollbars:W,scrollBy:W,scrollTo:W,scrollX:W,scrollY:W,SecurityPolicyViolationEvent:x,Selection:x,ServiceWorker:x,ServiceWorkerContainer:x,ServiceWorkerRegistration:x,sessionStorage:W,ShadowRoot:x,SharedWorker:x,SourceBuffer:x,SourceBufferList:x,speechSynthesis:W,SpeechSynthesisEvent:x,SpeechSynthesisUtterance:x,StaticRange:x,status:W,statusbar:W,StereoPannerNode:x,stop:W,Storage:x,StorageEvent:x,StorageManager:x,styleMedia:W,StyleSheet:x,StyleSheetList:x,SubtleCrypto:x,SVGAElement:x,SVGAngle:x,SVGAnimatedAngle:x,SVGAnimatedBoolean:x,SVGAnimatedEnumeration:x,SVGAnimatedInteger:x,SVGAnimatedLength:x,SVGAnimatedLengthList:x,SVGAnimatedNumber:x,SVGAnimatedNumberList:x,SVGAnimatedPreserveAspectRatio:x,SVGAnimatedRect:x,SVGAnimatedString:x,SVGAnimatedTransformList:x,SVGAnimateElement:x,SVGAnimateMotionElement:x,SVGAnimateTransformElement:x,SVGAnimationElement:x,SVGCircleElement:x,SVGClipPathElement:x,SVGComponentTransferFunctionElement:x,SVGDefsElement:x,SVGDescElement:x,SVGDiscardElement:x,SVGElement:x,SVGEllipseElement:x,SVGFEBlendElement:x,SVGFEColorMatrixElement:x,SVGFEComponentTransferElement:x,SVGFECompositeElement:x,SVGFEConvolveMatrixElement:x,SVGFEDiffuseLightingElement:x,SVGFEDisplacementMapElement:x,SVGFEDistantLightElement:x,SVGFEDropShadowElement:x,SVGFEFloodElement:x,SVGFEFuncAElement:x,SVGFEFuncBElement:x,SVGFEFuncGElement:x,SVGFEFuncRElement:x,SVGFEGaussianBlurElement:x,SVGFEImageElement:x,SVGFEMergeElement:x,SVGFEMergeNodeElement:x,SVGFEMorphologyElement:x,SVGFEOffsetElement:x,SVGFEPointLightElement:x,SVGFESpecularLightingElement:x,SVGFESpotLightElement:x,SVGFETileElement:x,SVGFETurbulenceElement:x,SVGFilterElement:x,SVGForeignObjectElement:x,SVGGElement:x,SVGGeometryElement:x,SVGGradientElement:x,SVGGraphicsElement:x,SVGImageElement:x,SVGLength:x,SVGLengthList:x,SVGLinearGradientElement:x,SVGLineElement:x,SVGMarkerElement:x,SVGMaskElement:x,SVGMatrix:x,SVGMetadataElement:x,SVGMPathElement:x,SVGNumber:x,SVGNumberList:x,SVGPathElement:x,SVGPatternElement:x,SVGPoint:x,SVGPointList:x,SVGPolygonElement:x,SVGPolylineElement:x,SVGPreserveAspectRatio:x,SVGRadialGradientElement:x,SVGRect:x,SVGRectElement:x,SVGScriptElement:x,SVGSetElement:x,SVGStopElement:x,SVGStringList:x,SVGStyleElement:x,SVGSVGElement:x,SVGSwitchElement:x,SVGSymbolElement:x,SVGTextContentElement:x,SVGTextElement:x,SVGTextPathElement:x,SVGTextPositioningElement:x,SVGTitleElement:x,SVGTransform:x,SVGTransformList:x,SVGTSpanElement:x,SVGUnitTypes:x,SVGUseElement:x,SVGViewElement:x,TaskAttributionTiming:x,Text:x,TextEvent:x,TextMetrics:x,TextTrack:x,TextTrackCue:x,TextTrackCueList:x,TextTrackList:x,TimeRanges:x,toolbar:W,top:W,Touch:x,TouchEvent:x,TouchList:x,TrackEvent:x,TransitionEvent:x,TreeWalker:x,UIEvent:x,ValidityState:x,visualViewport:W,VisualViewport:x,VTTCue:x,WaveShaperNode:x,WebAssembly:W,WebGL2RenderingContext:x,WebGLActiveInfo:x,WebGLBuffer:x,WebGLContextEvent:x,WebGLFramebuffer:x,WebGLProgram:x,WebGLQuery:x,WebGLRenderbuffer:x,WebGLRenderingContext:x,WebGLSampler:x,WebGLShader:x,WebGLShaderPrecisionFormat:x,WebGLSync:x,WebGLTexture:x,WebGLTransformFeedback:x,WebGLUniformLocation:x,WebGLVertexArrayObject:x,WebSocket:x,WheelEvent:x,Window:x,Worker:x,WritableStream:x,XMLDocument:x,XMLHttpRequest:x,XMLHttpRequestEventTarget:x,XMLHttpRequestUpload:x,XMLSerializer:x,XPathEvaluator:x,XPathExpression:x,XPathResult:x,XSLTProcessor:x};for(const i of["window","global","self","globalThis"])ad[i]=ad;function gr(i){let e=ad;for(const t of i)if(typeof t!="string"||(e=e[t],!e))return null;return e[ot]}class Ap extends lr{constructor(){super(...arguments),this.isReassigned=!0}deoptimizeArgumentsOnInteractionAtPath(e,t,n){switch(e.type){case 0:case 1:return void(gr([this.name,...t].slice(0,-1))||super.deoptimizeArgumentsOnInteractionAtPath(e,t,n));case 2:{const s=gr([this.name,...t]);return void(s?s.deoptimizeArgumentsOnCall(e):super.deoptimizeArgumentsOnInteractionAtPath(e,t,n))}}}getLiteralValueAtPath(e,t,n){const s=gr([this.name,...e]);return s?s.getLiteralValue():ct}hasEffectsOnInteractionAtPath(e,t,n){switch(t.type){case 0:return e.length===0?this.name!=="undefined"&&!gr([this.name]):!gr([this.name,...e].slice(0,-1));case 1:return!0;case 2:{const s=gr([this.name,...e]);return!s||s.hasEffectsWhenCalled(t,n)}}}}const VT={__proto__:null,class:!0,const:!0,let:!0,var:!0};class nt extends ce{constructor(){super(...arguments),this.variable=null,this.isTDZAccess=null}addExportedVariables(e,t){t.has(this.variable)&&e.push(this.variable)}bind(){!this.variable&&jS(this,this.parent)&&(this.variable=this.scope.findVariable(this.name),this.variable.addReference(this))}declare(e,t){let n;const{treeshake:s}=this.context.options;switch(e){case"var":n=this.scope.addDeclaration(this,this.context,t,!0),s&&s.correctVarValueBeforeDeclaration&&n.markInitializersForDeoptimization();break;case"function":case"let":case"const":case"class":n=this.scope.addDeclaration(this,this.context,t,!1);break;case"parameter":n=this.scope.addParameterDeclaration(this);break;default:throw new Error(`Internal Error: Unexpected identifier kind ${e}.`)}return n.kind=e,[this.variable=n]}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.variable.deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizePath(e){e.length!==0||this.scope.contains(this.name)||this.disallowImportReassignment(),this.variable?.deoptimizePath(e)}getLiteralValueAtPath(e,t,n){return this.getVariableRespectingTDZ().getLiteralValueAtPath(e,t,n)}getReturnExpressionWhenCalledAtPath(e,t,n,s){const[r,o]=this.getVariableRespectingTDZ().getReturnExpressionWhenCalledAtPath(e,t,n,s);return[r,o||this.isPureFunction(e)]}hasEffects(e){return this.deoptimized||this.applyDeoptimizations(),!(!this.isPossibleTDZ()||this.variable.kind==="var")||this.context.options.treeshake.unknownGlobalSideEffects&&this.variable instanceof Ap&&!this.isPureFunction(Ce)&&this.variable.hasEffectsOnInteractionAtPath(Ce,Sc,e)}hasEffectsOnInteractionAtPath(e,t,n){switch(t.type){case 0:return this.variable!==null&&!this.isPureFunction(e)&&this.getVariableRespectingTDZ().hasEffectsOnInteractionAtPath(e,t,n);case 1:return(e.length>0?this.getVariableRespectingTDZ():this.variable).hasEffectsOnInteractionAtPath(e,t,n);case 2:return!this.isPureFunction(e)&&this.getVariableRespectingTDZ().hasEffectsOnInteractionAtPath(e,t,n)}}include(){this.deoptimized||this.applyDeoptimizations(),this.included||(this.included=!0,this.variable!==null&&this.context.includeVariableInModule(this.variable))}includeCallArguments(e,t){this.variable.includeCallArguments(e,t)}isPossibleTDZ(){if(this.isTDZAccess!==null)return this.isTDZAccess;if(!(this.variable instanceof Yn&&this.variable.kind&&this.variable.kind in VT&&this.variable.module===this.context.module))return this.isTDZAccess=!1;let e;return this.variable.declarations&&this.variable.declarations.length===1&&(e=this.variable.declarations[0])&&this.start<e.start&&ly(this)===ly(e)?this.isTDZAccess=!0:this.variable.initReached?this.isTDZAccess=!1:this.isTDZAccess=!0}markDeclarationReached(){this.variable.initReached=!0}render(e,{snippets:{getPropertyAccess:t},useOriginalName:n},{renderedParentType:s,isCalleeOfRenderedParent:r,isShorthandProperty:o}=jt){if(this.variable){const a=this.variable.getName(t,n);a!==this.name&&(e.overwrite(this.start,this.end,a,{contentOnly:!0,storeName:!0}),o&&e.prependRight(this.start,`${this.name}: `)),a==="eval"&&s===_S&&r&&e.appendRight(this.start,"0, ")}}applyDeoptimizations(){this.deoptimized=!0,this.variable instanceof Yn&&(this.variable.consolidateInitializers(),this.context.requestTreeshakingPass())}disallowImportReassignment(){return this.context.error(IS(this.name,this.context.module.id),this.start)}getVariableRespectingTDZ(){return this.isPossibleTDZ()?Pe:this.variable}isPureFunction(e){let t=this.context.manualPureFunctions[this.name];for(const n of e){if(!t)return!1;if(t[od])return!0;t=t[n]}return t?.[od]}}function ly(i){for(;i&&!/^Program|Function/.test(i.type);)i=i.parent;return i}function Ip(i,e,t,n){if(e.remove(t,n),i.annotations)for(const s of i.annotations){if(!(s.start<t))return;e.remove(s.start,s.end)}}function hy(i,e){if(i.annotations||i.parent.type!==Li||(i=i.parent),i.annotations)for(const t of i.annotations)e.remove(t.start,t.end)}const Ms={isNoStatement:!0};function Lt(i,e,t=0){let n,s;for(n=i.indexOf(e,t);;){if((t=i.indexOf("/",t))===-1||t>=n)return n;s=i.charCodeAt(++t),++t,(t=s===47?i.indexOf(`
`,t)+1:i.indexOf("*/",t)+2)>n&&(n=i.indexOf(e,t))}}const cy=/\S/g;function hs(i,e){return cy.lastIndex=e,cy.exec(i).index}function ma(i){let e,t,n=0;for(e=i.indexOf(`
`,n);;){if(n=i.indexOf("/",n),n===-1||n>e)return[e,e+1];if(t=i.charCodeAt(n+1),t===47)return[n,e+1];n=i.indexOf("*/",n+3)+2,n>e&&(e=i.indexOf(`
`,n))}}function ga(i,e,t,n,s){let r,o,a,l,h=i[0],c=!h.included||h.needsBoundaries;c&&(l=t+ma(e.original.slice(t,h.start))[1]);for(let f=1;f<=i.length;f++)r=h,o=l,a=c,h=i[f],c=h!==void 0&&(!h.included||h.needsBoundaries),a||c?(l=r.end+ma(e.original.slice(r.end,h===void 0?n:h.start))[1],r.included?a?r.render(e,s,{end:l,start:o}):r.render(e,s):Ip(r,e,o,l)):r.render(e,s)}function WS(i,e,t,n){const s=[];let r,o,a,l,h=t-1;for(const c of i){for(r!==void 0&&(h=r.end+Lt(e.original.slice(r.end,c.start),",")),o=a=h+1+ma(e.original.slice(h+1,c.start))[1];l=e.original.charCodeAt(o),l===32||l===9||l===10||l===13;)o++;r!==void 0&&s.push({contentEnd:a,end:o,node:r,separator:h,start:t}),r=c,t=o}return s.push({contentEnd:n,end:n,node:r,separator:null,start:t}),s}function wl(i,e,t){for(;;){const[n,s]=ma(i.original.slice(e,t));if(n===-1)break;i.remove(e+n,e+=s)}}class Vs extends en{addDeclaration(e,t,n,s){if(s){const r=this.parent.addDeclaration(e,t,n,s);return r.markInitializersForDeoptimization(),r}return super.addDeclaration(e,t,n,!1)}}class Ts extends ce{initialise(){var e,t;this.directive&&this.directive!=="use strict"&&this.parent.type===jh&&this.context.log(ke,(e=this.directive,{code:"MODULE_LEVEL_DIRECTIVE",id:t=this.context.module.id,message:`Module level directives cause errors when bundled, "${e}" in "${Ae(t)}" was ignored.`}),this.start)}render(e,t){super.render(e,t),this.included&&this.insertSemicolon(e)}shouldBeIncluded(e){return this.directive&&this.directive!=="use strict"?this.parent.type!==jh:super.shouldBeIncluded(e)}applyDeoptimizations(){}}class Yh extends ce{constructor(){super(...arguments),this.directlyIncluded=!1}addImplicitReturnExpressionToScope(){const e=this.body[this.body.length-1];e&&e.type==="ReturnStatement"||this.scope.addReturnExpression(Pe)}createScope(e){this.scope=this.parent.preventChildBlockScope?e:new Vs(e)}hasEffects(e){if(this.deoptimizeBody)return!0;for(const t of this.body){if(e.brokenFlow)break;if(t.hasEffects(e))return!0}return!1}include(e,t){if(!this.deoptimizeBody||!this.directlyIncluded){this.included=!0,this.directlyIncluded=!0,this.deoptimizeBody&&(t=!0);for(const n of this.body)(t||n.shouldBeIncluded(e))&&n.include(e,t)}}initialise(){const e=this.body[0];this.deoptimizeBody=e instanceof Ts&&e.directive==="use asm"}render(e,t){this.body.length>0?ga(this.body,e,this.start+1,this.end-1,t):super.render(e,t)}}class ld extends ce{constructor(){super(...arguments),this.declarationInit=null}addExportedVariables(e,t){this.argument.addExportedVariables(e,t)}declare(e,t){return this.declarationInit=t,this.argument.declare(e,Pe)}deoptimizePath(e){e.length===0&&this.argument.deoptimizePath(Ce)}hasEffectsOnInteractionAtPath(e,t,n){return e.length>0||this.argument.hasEffectsOnInteractionAtPath(Ce,t,n)}markDeclarationReached(){this.argument.markDeclarationReached()}applyDeoptimizations(){this.deoptimized=!0,this.declarationInit!==null&&(this.declarationInit.deoptimizePath([He,He]),this.context.requestTreeshakingPass())}}class Mp extends ce{constructor(){super(...arguments),this.objectEntity=null,this.deoptimizedReturn=!1}deoptimizeArgumentsOnInteractionAtPath(e,t,n){if(e.type===2){const{parameters:s}=this.scope,{args:r}=e;let o=!1;for(let a=0;a<r.length-1;a++){const l=this.params[a],h=r[a+1];o||l instanceof ld?(o=!0,h.deoptimizePath(Be)):l instanceof nt?(s[a][0].addEntityToBeDeoptimized(h),this.addArgumentToBeDeoptimized(h)):l?h.deoptimizePath(Be):this.addArgumentToBeDeoptimized(h)}}else this.getObjectEntity().deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizePath(e){this.getObjectEntity().deoptimizePath(e),e.length===1&&e[0]===He&&this.scope.getReturnExpression().deoptimizePath(Be)}getLiteralValueAtPath(e,t,n){return this.getObjectEntity().getLiteralValueAtPath(e,t,n)}getReturnExpressionWhenCalledAtPath(e,t,n,s){return e.length>0?this.getObjectEntity().getReturnExpressionWhenCalledAtPath(e,t,n,s):this.async?(this.deoptimizedReturn||(this.deoptimizedReturn=!0,this.scope.getReturnExpression().deoptimizePath(Be),this.context.requestTreeshakingPass()),bt):[this.scope.getReturnExpression(),!1]}hasEffectsOnInteractionAtPath(e,t,n){if(e.length>0||t.type!==2)return this.getObjectEntity().hasEffectsOnInteractionAtPath(e,t,n);if(this.annotationNoSideEffects)return!1;if(this.async){const{propertyReadSideEffects:s}=this.context.options.treeshake,r=this.scope.getReturnExpression();if(r.hasEffectsOnInteractionAtPath(["then"],bc,n)||s&&(s==="always"||r.hasEffectsOnInteractionAtPath(["then"],Sc,n)))return!0}for(const s of this.params)if(s.hasEffects(n))return!0;return!1}include(e,t){this.deoptimized||this.applyDeoptimizations(),this.included=!0;const{brokenFlow:n}=e;e.brokenFlow=!1,this.body.include(e,t),e.brokenFlow=n}includeCallArguments(e,t){this.scope.includeCallArguments(e,t)}initialise(){this.scope.addParameterVariables(this.params.map(e=>e.declare("parameter",Pe)),this.params[this.params.length-1]instanceof ld),this.body instanceof Yh?this.body.addImplicitReturnExpressionToScope():this.scope.addReturnExpression(this.body)}parseNode(e){e.body.type===MS&&(this.body=new Yh(e.body,this,this.scope.hoistedBodyVarScope)),super.parseNode(e)}addArgumentToBeDeoptimized(e){}applyDeoptimizations(){}}Mp.prototype.preventChildBlockScope=!0;class hd extends Mp{constructor(){super(...arguments),this.objectEntity=null}createScope(e){this.scope=new US(e,this.context)}hasEffects(){return this.deoptimized||this.applyDeoptimizations(),!1}hasEffectsOnInteractionAtPath(e,t,n){if(super.hasEffectsOnInteractionAtPath(e,t,n))return!0;if(this.annotationNoSideEffects)return!1;if(t.type===2){const{ignore:s,brokenFlow:r}=n;if(n.ignore={breaks:!1,continues:!1,labels:new Set,returnYield:!0,this:!1},this.body.hasEffects(n))return!0;n.ignore=s,n.brokenFlow=r}return!1}include(e,t){super.include(e,t);for(const n of this.params)n instanceof nt||n.include(e,t)}getObjectEntity(){return this.objectEntity!==null?this.objectEntity:this.objectEntity=new $i([],ms)}}function sr(i,{exportNamesByVariable:e,snippets:{_:t,getObject:n,getPropertyAccess:s}},r=""){if(i.length===1&&e.get(i[0]).length===1){const o=i[0];return`exports('${e.get(o)}',${t}${o.getName(s)}${r})`}{const o=[];for(const a of i)for(const l of e.get(a))o.push([l,a.getName(s)+r]);return`exports(${n(o,{lineBreakIndent:null})})`}}function cd(i,e,t,n,{exportNamesByVariable:s,snippets:{_:r}}){n.prependRight(e,`exports('${s.get(i)}',${r}`),n.appendLeft(t,")")}function uy(i,e,t,n,s,r){const{_:o,getPropertyAccess:a}=r.snippets;s.appendLeft(t,`,${o}${sr([i],r)},${o}${i.getName(a)}`),n&&(s.prependRight(e,"("),s.appendLeft(t,")"))}class Ro extends ce{addExportedVariables(e,t){for(const n of this.properties)n.type==="Property"?n.value.addExportedVariables(e,t):n.argument.addExportedVariables(e,t)}declare(e,t){const n=[];for(const s of this.properties)n.push(...s.declare(e,t));return n}deoptimizePath(e){if(e.length===0)for(const t of this.properties)t.deoptimizePath(e)}hasEffectsOnInteractionAtPath(e,t,n){for(const s of this.properties)if(s.hasEffectsOnInteractionAtPath(Ce,t,n))return!0;return!1}markDeclarationReached(){for(const e of this.properties)e.markDeclarationReached()}}class BT extends Yn{constructor(e){super("arguments",null,Pe,e),this.deoptimizedArguments=[]}addArgumentToBeDeoptimized(e){this.included?e.deoptimizePath(Be):this.deoptimizedArguments.push(e)}hasEffectsOnInteractionAtPath(e,{type:t}){return t!==0||e.length>1}include(){super.include();for(const e of this.deoptimizedArguments)e.deoptimizePath(Be);this.deoptimizedArguments.length=0}}class YS extends XS{constructor(e){super("this",null,e)}hasEffectsOnInteractionAtPath(e,t,n){return(n.replacedVariableInits.get(this)||Pe).hasEffectsOnInteractionAtPath(e,t,n)}}class XT extends US{constructor(e,t){super(e,t),this.variables.set("arguments",this.argumentsVariable=new BT(t)),this.variables.set("this",this.thisVariable=new YS(t))}findLexicalBoundary(){return this}includeCallArguments(e,t){if(super.includeCallArguments(e,t),this.argumentsVariable.included)for(const n of t)n.included||n.include(e,!1)}}class _p extends Mp{constructor(){super(...arguments),this.objectEntity=null}createScope(e){this.scope=new XT(e,this.context),this.constructedEntity=new $i(Object.create(null),ms),this.scope.thisVariable.addEntityToBeDeoptimized(this.constructedEntity)}deoptimizeArgumentsOnInteractionAtPath(e,t,n){super.deoptimizeArgumentsOnInteractionAtPath(e,t,n),e.type===2&&t.length===0&&e.args[0]&&this.scope.thisVariable.addEntityToBeDeoptimized(e.args[0])}hasEffects(e){return this.deoptimized||this.applyDeoptimizations(),!this.annotationNoSideEffects&&!!this.id?.hasEffects(e)}hasEffectsOnInteractionAtPath(e,t,n){if(super.hasEffectsOnInteractionAtPath(e,t,n))return!0;if(this.annotationNoSideEffects)return!1;if(t.type===2){const s=n.replacedVariableInits.get(this.scope.thisVariable);n.replacedVariableInits.set(this.scope.thisVariable,t.withNew?this.constructedEntity:Pe);const{brokenFlow:r,ignore:o,replacedVariableInits:a}=n;if(n.ignore={breaks:!1,continues:!1,labels:new Set,returnYield:!0,this:t.withNew},this.body.hasEffects(n))return!0;n.brokenFlow=r,s?a.set(this.scope.thisVariable,s):a.delete(this.scope.thisVariable),n.ignore=o}return!1}include(e,t){super.include(e,t),this.id?.include();const n=this.scope.argumentsVariable.included;for(const s of this.params)s instanceof nt&&!n||s.include(e,t)}initialise(){super.initialise(),this.id?.declare("function",this)}addArgumentToBeDeoptimized(e){this.scope.argumentsVariable.addArgumentToBeDeoptimized(e)}getObjectEntity(){return this.objectEntity!==null?this.objectEntity:this.objectEntity=new $i([{key:"prototype",kind:"init",property:new $i([],ms)}],ms)}}class fy extends ce{hasEffects(){return this.deoptimized||this.applyDeoptimizations(),!0}include(e,t){if(this.deoptimized||this.applyDeoptimizations(),!this.included){this.included=!0;e:if(!this.context.usesTopLevelAwait){let n=this.parent;do if(n instanceof _p||n instanceof hd)break e;while(n=n.parent);this.context.usesTopLevelAwait=!0}}this.argument.include(e,t)}}const zT={"!=":(i,e)=>i!=e,"!==":(i,e)=>i!==e,"%":(i,e)=>i%e,"&":(i,e)=>i&e,"*":(i,e)=>i*e,"**":(i,e)=>i**e,"+":(i,e)=>i+e,"-":(i,e)=>i-e,"/":(i,e)=>i/e,"<":(i,e)=>i<e,"<<":(i,e)=>i<<e,"<=":(i,e)=>i<=e,"==":(i,e)=>i==e,"===":(i,e)=>i===e,">":(i,e)=>i>e,">=":(i,e)=>i>=e,">>":(i,e)=>i>>e,">>>":(i,e)=>i>>>e,"^":(i,e)=>i^e,"|":(i,e)=>i|e};function GS(i,e,t){if(t.arguments.length>0)if(t.arguments[t.arguments.length-1].included)for(const n of t.arguments)n.render(i,e);else{let n=t.arguments.length-2;for(;n>=0&&!t.arguments[n].included;)n--;if(n>=0){for(let s=0;s<=n;s++)t.arguments[s].render(i,e);i.remove(Lt(i.original,",",t.arguments[n].end),t.end-1)}else i.remove(Lt(i.original,"(",t.callee.end)+1,t.end-1)}}class Zs extends ce{deoptimizeArgumentsOnInteractionAtPath(){}getLiteralValueAtPath(e){return e.length>0||this.value===null&&this.context.code.charCodeAt(this.start)!==110||typeof this.value=="bigint"||this.context.code.charCodeAt(this.start)===47?ct:this.value}getReturnExpressionWhenCalledAtPath(e){return e.length!==1?bt:Ba(this.members,e[0])}hasEffectsOnInteractionAtPath(e,t,n){switch(t.type){case 0:return e.length>(this.value===null?0:1);case 1:return!0;case 2:return!!(this.included&&this.value instanceof RegExp&&(this.value.global||this.value.sticky))||e.length!==1||Va(this.members,e[0],t,n)}}initialise(){this.members=function(e){if(e instanceof RegExp)return gT;switch(typeof e){case"boolean":return nd;case"number":return sd;case"string":return da}return Object.create(null)}(this.value)}parseNode(e){this.value=e.value,this.regex=e.regex,super.parseNode(e)}render(e){typeof this.value=="string"&&e.indentExclusionRanges.push([this.start+1,this.end-1])}}function ZT(i){return i.computed?function(e){return e instanceof Zs?String(e.value):null}(i.property):i.property.name}function qS(i){const e=i.propertyKey,t=i.object;if(typeof e=="string"){if(t instanceof nt)return[{key:t.name,pos:t.start},{key:e,pos:i.property.start}];if(t instanceof os){const n=qS(t);return n&&[...n,{key:e,pos:i.property.start}]}}return null}class os extends ce{constructor(){super(...arguments),this.variable=null,this.assignmentDeoptimized=!1,this.bound=!1,this.expressionsToBeDeoptimized=[],this.isUndefined=!1}bind(){this.bound=!0;const e=qS(this),t=e&&this.scope.findVariable(e[0].key);if(t?.isNamespace){const n=HS(t,e.slice(1),this.context);n?n==="undefined"?this.isUndefined=!0:(this.variable=n,this.scope.addNamespaceMemberAccess(function(s){let r=s[0].key;for(let o=1;o<s.length;o++)r+="."+s[o].key;return r}(e),n)):super.bind()}else super.bind()}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.variable?this.variable.deoptimizeArgumentsOnInteractionAtPath(e,t,n):this.isUndefined||(t.length<7?this.object.deoptimizeArgumentsOnInteractionAtPath(e,[this.getPropertyKey(),...t],n):ks(e))}deoptimizeCache(){const{expressionsToBeDeoptimized:e,object:t}=this;this.expressionsToBeDeoptimized=yt,this.propertyKey=He,t.deoptimizePath(Be);for(const n of e)n.deoptimizeCache()}deoptimizePath(e){if(e.length===0&&this.disallowNamespaceReassignment(),this.variable)this.variable.deoptimizePath(e);else if(!this.isUndefined&&e.length<7){const t=this.getPropertyKey();this.object.deoptimizePath([t===He?Bh:t,...e])}}getLiteralValueAtPath(e,t,n){return this.variable?this.variable.getLiteralValueAtPath(e,t,n):this.isUndefined?void 0:this.propertyKey!==He&&e.length<7?(this.expressionsToBeDeoptimized.push(n),this.object.getLiteralValueAtPath([this.getPropertyKey(),...e],t,n)):ct}getReturnExpressionWhenCalledAtPath(e,t,n,s){return this.variable?this.variable.getReturnExpressionWhenCalledAtPath(e,t,n,s):this.isUndefined?[so,!1]:this.propertyKey!==He&&e.length<7?(this.expressionsToBeDeoptimized.push(s),this.object.getReturnExpressionWhenCalledAtPath([this.getPropertyKey(),...e],t,n,s)):bt}hasEffects(e){return this.deoptimized||this.applyDeoptimizations(),this.property.hasEffects(e)||this.object.hasEffects(e)||this.hasAccessEffect(e)}hasEffectsAsAssignmentTarget(e,t){return t&&!this.deoptimized&&this.applyDeoptimizations(),this.assignmentDeoptimized||this.applyAssignmentDeoptimization(),this.property.hasEffects(e)||this.object.hasEffects(e)||t&&this.hasAccessEffect(e)||this.hasEffectsOnInteractionAtPath(Ce,this.assignmentInteraction,e)}hasEffectsOnInteractionAtPath(e,t,n){return this.variable?this.variable.hasEffectsOnInteractionAtPath(e,t,n):!!this.isUndefined||!(e.length<7)||this.object.hasEffectsOnInteractionAtPath([this.getPropertyKey(),...e],t,n)}include(e,t){this.deoptimized||this.applyDeoptimizations(),this.includeProperties(e,t)}includeAsAssignmentTarget(e,t,n){this.assignmentDeoptimized||this.applyAssignmentDeoptimization(),n?this.include(e,t):this.includeProperties(e,t)}includeCallArguments(e,t){this.variable?this.variable.includeCallArguments(e,t):super.includeCallArguments(e,t)}initialise(){this.propertyKey=ZT(this),this.accessInteraction={args:[this.object],type:0}}isSkippedAsOptional(e){return!this.variable&&!this.isUndefined&&(this.object.isSkippedAsOptional?.(e)||this.optional&&this.object.getLiteralValueAtPath(Ce,kt,e)==null)}render(e,t,{renderedParentType:n,isCalleeOfRenderedParent:s,renderedSurroundingElement:r}=jt){if(this.variable||this.isUndefined){const{snippets:{getPropertyAccess:o}}=t;let a=this.variable?this.variable.getName(o):"undefined";n&&s&&(a="0, "+a),e.overwrite(this.start,this.end,a,{contentOnly:!0,storeName:!0})}else n&&s&&e.appendRight(this.start,"0, "),this.object.render(e,t,{renderedSurroundingElement:r}),this.property.render(e,t)}setAssignedValue(e){this.assignmentInteraction={args:[this.object,e],type:1}}applyDeoptimizations(){this.deoptimized=!0;const{propertyReadSideEffects:e}=this.context.options.treeshake;if(this.bound&&e&&!this.variable&&!this.isUndefined){const t=this.getPropertyKey();this.object.deoptimizeArgumentsOnInteractionAtPath(this.accessInteraction,[t],kt),this.context.requestTreeshakingPass()}}applyAssignmentDeoptimization(){this.assignmentDeoptimized=!0;const{propertyReadSideEffects:e}=this.context.options.treeshake;this.bound&&e&&!this.variable&&!this.isUndefined&&(this.object.deoptimizeArgumentsOnInteractionAtPath(this.assignmentInteraction,[this.getPropertyKey()],kt),this.context.requestTreeshakingPass())}disallowNamespaceReassignment(){this.object instanceof nt&&this.scope.findVariable(this.object.name).isNamespace&&(this.variable&&this.context.includeVariableInModule(this.variable),this.context.log(ke,IS(this.object.name,this.context.module.id),this.start))}getPropertyKey(){if(this.propertyKey===null){this.propertyKey=He;const e=this.property.getLiteralValueAtPath(Ce,kt,this);return this.propertyKey=e===yp?e:typeof e=="symbol"?He:String(e)}return this.propertyKey}hasAccessEffect(e){const{propertyReadSideEffects:t}=this.context.options.treeshake;return!(this.variable||this.isUndefined)&&t&&(t==="always"||this.object.hasEffectsOnInteractionAtPath([this.getPropertyKey()],this.accessInteraction,e))}includeProperties(e,t){this.included||(this.included=!0,this.variable&&this.context.includeVariableInModule(this.variable)),this.object.include(e,t),this.property.include(e,t)}}function HS(i,e,t){if(e.length===0)return i;if(!i.isNamespace||i instanceof Xh)return null;const n=e[0].key,s=i.context.traceExport(n);if(!s){if(e.length===1){const r=i.context.fileName;return t.log(ke,Zh(n,t.module.id,r),e[0].pos),"undefined"}return null}return HS(s,e.slice(1),t)}class KS extends ce{constructor(){super(...arguments),this.returnExpression=null,this.deoptimizableDependentExpressions=[],this.expressionsToBeDeoptimized=new Set}deoptimizeArgumentsOnInteractionAtPath(e,t,n){const{args:s}=e,[r,o]=this.getReturnExpression(n);if(o)return;const a=s.filter(l=>!!l&&l!==Pe);if(a.length!==0)if(r===Pe)for(const l of a)l.deoptimizePath(Be);else n.withTrackedEntityAtPath(t,r,()=>{for(const l of a)this.expressionsToBeDeoptimized.add(l);r.deoptimizeArgumentsOnInteractionAtPath(e,t,n)},null)}deoptimizeCache(){if(this.returnExpression?.[0]!==Pe){this.returnExpression=bt;const{deoptimizableDependentExpressions:e,expressionsToBeDeoptimized:t}=this;this.expressionsToBeDeoptimized=OS,this.deoptimizableDependentExpressions=yt;for(const n of e)n.deoptimizeCache();for(const n of t)n.deoptimizePath(Be)}}deoptimizePath(e){if(e.length===0||this.context.deoptimizationTracker.trackEntityAtPathAndGetIfTracked(e,this))return;const[t]=this.getReturnExpression();t!==Pe&&t.deoptimizePath(e)}getLiteralValueAtPath(e,t,n){const[s]=this.getReturnExpression(t);return s===Pe?ct:t.withTrackedEntityAtPath(e,s,()=>(this.deoptimizableDependentExpressions.push(n),s.getLiteralValueAtPath(e,t,n)),ct)}getReturnExpressionWhenCalledAtPath(e,t,n,s){const r=this.getReturnExpression(n);return r[0]===Pe?r:n.withTrackedEntityAtPath(e,r,()=>{this.deoptimizableDependentExpressions.push(s);const[o,a]=r[0].getReturnExpressionWhenCalledAtPath(e,t,n,s);return[o,a||r[1]]},bt)}hasEffectsOnInteractionAtPath(e,t,n){const{type:s}=t;if(s===2){const{args:a,withNew:l}=t;if((l?n.instantiated:n.called).trackEntityAtPathAndGetIfTracked(e,a,this))return!1}else if((s===1?n.assigned:n.accessed).trackEntityAtPathAndGetIfTracked(e,this))return!1;const[r,o]=this.getReturnExpression();return(s===1||!o)&&r.hasEffectsOnInteractionAtPath(e,t,n)}}class dy extends KS{bind(){super.bind(),this.callee instanceof nt&&(this.scope.findVariable(this.callee.name).isNamespace&&this.context.log(ke,AS(this.callee.name),this.start),this.callee.name==="eval"&&this.context.log(ke,{code:"EVAL",id:e=this.context.module.id,message:`Use of eval in "${Ae(e)}" is strongly discouraged as it poses security risks and may cause issues with minification.`,url:Bt("troubleshooting/#avoiding-eval")},this.start));var e;this.interaction={args:[this.callee instanceof os&&!this.callee.variable?this.callee.object:null,...this.arguments],type:2,withNew:!1}}hasEffects(e){try{for(const t of this.arguments)if(t.hasEffects(e))return!0;return!this.annotationPure&&(this.callee.hasEffects(e)||this.callee.hasEffectsOnInteractionAtPath(Ce,this.interaction,e))}finally{this.deoptimized||this.applyDeoptimizations()}}include(e,t){this.deoptimized||this.applyDeoptimizations(),t?(super.include(e,t),t===NS&&this.callee instanceof nt&&this.callee.variable&&this.callee.variable.markCalledFromTryStatement()):(this.included=!0,this.callee.include(e,!1)),this.callee.includeCallArguments(e,this.arguments)}isSkippedAsOptional(e){return this.callee.isSkippedAsOptional?.(e)||this.optional&&this.callee.getLiteralValueAtPath(Ce,kt,e)==null}render(e,t,{renderedSurroundingElement:n}=jt){this.callee.render(e,t,{isCalleeOfRenderedParent:!0,renderedSurroundingElement:n}),GS(e,t,this)}applyDeoptimizations(){this.deoptimized=!0,this.callee.deoptimizeArgumentsOnInteractionAtPath(this.interaction,Ce,kt),this.context.requestTreeshakingPass()}getReturnExpression(e=kt){return this.returnExpression===null?(this.returnExpression=bt,this.returnExpression=this.callee.getReturnExpressionWhenCalledAtPath(Ce,this.interaction,e,this)):this.returnExpression}}class UT extends ZS{addDeclaration(e,t,n,s){const r=this.variables.get(e.name);return r?(this.parent.addDeclaration(e,t,so,s),r.addDeclaration(e,n),r):this.parent.addDeclaration(e,t,n,s)}}class jT extends en{constructor(e,t,n){super(e),this.variables.set("this",this.thisVariable=new Yn("this",null,t,n)),this.instanceScope=new en(this),this.instanceScope.variables.set("this",new YS(n))}findLexicalBoundary(){return this}}class JS extends ce{constructor(){super(...arguments),this.accessedValue=null}deoptimizeArgumentsOnInteractionAtPath(e,t,n){return e.type===0&&this.kind==="get"&&t.length===0||e.type===1&&this.kind==="set"&&t.length===0?this.value.deoptimizeArgumentsOnInteractionAtPath({args:e.args,type:2,withNew:!1},Ce,n):void this.getAccessedValue()[0].deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizeCache(){}deoptimizePath(e){this.getAccessedValue()[0].deoptimizePath(e)}getLiteralValueAtPath(e,t,n){return this.getAccessedValue()[0].getLiteralValueAtPath(e,t,n)}getReturnExpressionWhenCalledAtPath(e,t,n,s){return this.getAccessedValue()[0].getReturnExpressionWhenCalledAtPath(e,t,n,s)}hasEffects(e){return this.key.hasEffects(e)}hasEffectsOnInteractionAtPath(e,t,n){return this.kind==="get"&&t.type===0&&e.length===0||this.kind==="set"&&t.type===1?this.value.hasEffectsOnInteractionAtPath(Ce,{args:t.args,type:2,withNew:!1},n):this.getAccessedValue()[0].hasEffectsOnInteractionAtPath(e,t,n)}applyDeoptimizations(){}getAccessedValue(){return this.accessedValue===null?this.kind==="get"?(this.accessedValue=bt,this.accessedValue=this.value.getReturnExpressionWhenCalledAtPath(Ce,bc,kt,this)):this.accessedValue=[this.value,!1]:this.accessedValue}}class ud extends JS{applyDeoptimizations(){}}class FT extends Ei{constructor(e,t){super(),this.object=e,this.key=t}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.object.deoptimizeArgumentsOnInteractionAtPath(e,[this.key,...t],n)}deoptimizePath(e){this.object.deoptimizePath([this.key,...e])}getLiteralValueAtPath(e,t,n){return this.object.getLiteralValueAtPath([this.key,...e],t,n)}getReturnExpressionWhenCalledAtPath(e,t,n,s){return this.object.getReturnExpressionWhenCalledAtPath([this.key,...e],t,n,s)}hasEffectsOnInteractionAtPath(e,t,n){return this.object.hasEffectsOnInteractionAtPath([this.key,...e],t,n)}}class eb extends ce{constructor(){super(...arguments),this.objectEntity=null}createScope(e){this.scope=new en(e)}deoptimizeArgumentsOnInteractionAtPath(e,t,n){this.getObjectEntity().deoptimizeArgumentsOnInteractionAtPath(e,t,n)}deoptimizeCache(){this.getObjectEntity().deoptimizeAllProperties()}deoptimizePath(e){this.getObjectEntity().deoptimizePath(e)}getLiteralValueAtPath(e,t,n){return this.getObjectEntity().getLiteralValueAtPath(e,t,n)}getReturnExpressionWhenCalledAtPath(e,t,n,s){return this.getObjectEntity().getReturnExpressionWhenCalledAtPath(e,t,n,s)}hasEffects(e){this.deoptimized||this.applyDeoptimizations();const t=this.superClass?.hasEffects(e)||this.body.hasEffects(e);return this.id?.markDeclarationReached(),t||super.hasEffects(e)}hasEffectsOnInteractionAtPath(e,t,n){return t.type===2&&e.length===0?!t.withNew||(this.classConstructor===null?this.superClass?.hasEffectsOnInteractionAtPath(e,t,n):this.classConstructor.hasEffectsOnInteractionAtPath(e,t,n))||!1:this.getObjectEntity().hasEffectsOnInteractionAtPath(e,t,n)}include(e,t){this.deoptimized||this.applyDeoptimizations(),this.included=!0,this.superClass?.include(e,t),this.body.include(e,t),this.id&&(this.id.markDeclarationReached(),this.id.include())}initialise(){this.id?.declare("class",this);for(const e of this.body.body)if(e instanceof ud&&e.kind==="constructor")return void(this.classConstructor=e);this.classConstructor=null}applyDeoptimizations(){this.deoptimized=!0;for(const e of this.body.body)e.static||e instanceof ud&&e.kind==="constructor"||e.deoptimizePath(Be);this.context.requestTreeshakingPass()}getObjectEntity(){if(this.objectEntity!==null)return this.objectEntity;const e=[],t=[];for(const n of this.body.body){const s=n.static?e:t,r=n.kind;if(s===t&&!r)continue;const o=r==="set"||r==="get"?r:"init";let a;if(n.computed){const l=n.key.getLiteralValueAtPath(Ce,kt,this);if(typeof l=="symbol"){s.push({key:He,kind:o,property:n});continue}a=String(l)}else a=n.key instanceof nt?n.key.name:String(n.key.value);s.push({key:a,kind:o,property:n})}return e.unshift({key:"prototype",kind:"init",property:new $i(t,this.superClass?new FT(this.superClass,"prototype"):ms)}),this.objectEntity=new $i(e,this.superClass||ms)}}class Gh extends eb{initialise(){super.initialise(),this.id!==null&&(this.id.variable.isId=!0)}parseNode(e){e.id!==null&&(this.id=new nt(e.id,this,this.scope.parent)),super.parseNode(e)}render(e,t){const{exportNamesByVariable:n,format:s,snippets:{_:r,getPropertyAccess:o}}=t;if(this.id){const{variable:a,name:l}=this.id;s==="system"&&n.has(a)&&e.appendLeft(this.end,`${r}${sr([a],t)};`);const h=a.getName(o);if(h!==l)return this.superClass?.render(e,t),this.body.render(e,{...t,useOriginalName:c=>c===a}),e.prependRight(this.start,`let ${h}${r}=${r}`),void e.prependLeft(this.end,";")}super.render(e,t)}applyDeoptimizations(){super.applyDeoptimizations();const{id:e,scope:t}=this;if(e){const{name:n,variable:s}=e;for(const r of t.accessedOutsideVariables.values())r!==s&&r.forbidName(n)}}}class fd extends eb{render(e,t,{renderedSurroundingElement:n}=jt){super.render(e,t),n===Li&&(e.appendRight(this.start,"("),e.prependLeft(this.end,")"))}}class qh extends Ei{constructor(e){super(),this.expressions=e,this.included=!1}deoptimizePath(e){for(const t of this.expressions)t.deoptimizePath(e)}getReturnExpressionWhenCalledAtPath(e,t,n,s){return[new qh(this.expressions.map(r=>r.getReturnExpressionWhenCalledAtPath(e,t,n,s)[0])),!1]}hasEffectsOnInteractionAtPath(e,t,n){for(const s of this.expressions)if(s.hasEffectsOnInteractionAtPath(e,t,n))return!0;return!1}}function kl(i,e){const{brokenFlow:t,hasBreak:n,hasContinue:s,ignore:r}=i,{breaks:o,continues:a}=r;return r.breaks=!0,r.continues=!0,i.hasBreak=!1,i.hasContinue=!1,!!e.hasEffects(i)||(r.breaks=o,r.continues=a,i.hasBreak=n,i.hasContinue=s,i.brokenFlow=t,!1)}function So(i,e,t){const{brokenFlow:n,hasBreak:s,hasContinue:r}=i;i.hasBreak=!1,i.hasContinue=!1,e.include(i,t,{asSingleStatement:!0}),i.hasBreak=s,i.hasContinue=r,i.brokenFlow=n}class Tp extends ce{hasEffects(){return!1}initialise(){this.context.addExport(this)}render(e,t,n){e.remove(n.start,n.end)}applyDeoptimizations(){}}Tp.prototype.needsBoundaries=!0;class Oa extends _p{initialise(){super.initialise(),this.id!==null&&(this.id.variable.isId=!0)}parseNode(e){e.id!==null&&(this.id=new nt(e.id,this,this.scope.parent)),super.parseNode(e)}}class $c extends ce{include(e,t){super.include(e,t),t&&this.context.includeVariableInModule(this.variable)}initialise(){const e=this.declaration;this.declarationName=e.id&&e.id.name||this.declaration.name,this.variable=this.scope.addExportDefaultDeclaration(this.declarationName||this.context.getModuleName(),this,this.context),this.context.addExport(this)}render(e,t,n){const{start:s,end:r}=n,o=function(a,l){return hs(a,Lt(a,"default",l)+7)}(e.original,this.start);if(this.declaration instanceof Oa)this.renderNamedDeclaration(e,o,this.declaration.id===null?function(a,l){const h=Lt(a,"function",l)+8;a=a.slice(h,Lt(a,"(",h));const c=Lt(a,"*");return c===-1?h:h+c+1}(e.original,o):null,t);else if(this.declaration instanceof Gh)this.renderNamedDeclaration(e,o,this.declaration.id===null?Lt(e.original,"class",s)+5:null,t);else{if(this.variable.getOriginalVariable()!==this.variable)return void Ip(this,e,s,r);if(!this.variable.included)return e.remove(this.start,o),this.declaration.render(e,t,{renderedSurroundingElement:Li}),void(e.original[this.end-1]!==";"&&e.appendLeft(this.end,";"));this.renderVariableDeclaration(e,o,t)}this.declaration.render(e,t)}applyDeoptimizations(){}renderNamedDeclaration(e,t,n,s){const{exportNamesByVariable:r,format:o,snippets:{getPropertyAccess:a}}=s,l=this.variable.getName(a);e.remove(this.start,t),n!==null&&e.appendLeft(n,` ${l}`),o==="system"&&this.declaration instanceof Gh&&r.has(this.variable)&&e.appendLeft(this.end,` ${sr([this.variable],s)};`)}renderVariableDeclaration(e,t,{format:n,exportNamesByVariable:s,snippets:{cnst:r,getPropertyAccess:o}}){const a=e.original.charCodeAt(this.end-1)===59,l=n==="system"&&s.get(this.variable);l?(e.overwrite(this.start,t,`${r} ${this.variable.getName(o)} = exports('${l[0]}', `),e.appendRight(a?this.end-1:this.end,")"+(a?"":";"))):(e.overwrite(this.start,t,`${r} ${this.variable.getName(o)} = `),a||e.appendLeft(this.end,";"))}}$c.prototype.needsBoundaries=!0;class tb extends ce{bind(){this.declaration?.bind()}hasEffects(e){return!!this.declaration?.hasEffects(e)}initialise(){this.context.addExport(this)}render(e,t,n){const{start:s,end:r}=n;this.declaration===null?e.remove(s,r):(e.remove(this.start,this.declaration.start),this.declaration.render(e,t,{end:r,start:s}))}applyDeoptimizations(){}}tb.prototype.needsBoundaries=!0;class py extends _p{render(e,t,{renderedSurroundingElement:n}=jt){super.render(e,t),n===Li&&(e.appendRight(this.start,"("),e.prependLeft(this.end,")"))}}class my extends Vs{constructor(){super(...arguments),this.hoistedDeclarations=[]}addDeclaration(e,t,n,s){return this.hoistedDeclarations.push(e),super.addDeclaration(e,t,n,s)}}const gy=Symbol("unset");class Qp extends ce{constructor(){super(...arguments),this.testValue=gy}deoptimizeCache(){this.testValue=ct}hasEffects(e){if(this.test.hasEffects(e))return!0;const t=this.getTestValue();if(typeof t=="symbol"){const{brokenFlow:n}=e;if(this.consequent.hasEffects(e))return!0;const s=e.brokenFlow;return e.brokenFlow=n,this.alternate===null?!1:!!this.alternate.hasEffects(e)||(e.brokenFlow=e.brokenFlow&&s,!1)}return t?this.consequent.hasEffects(e):!!this.alternate?.hasEffects(e)}include(e,t){if(this.included=!0,t)this.includeRecursively(t,e);else{const n=this.getTestValue();typeof n=="symbol"?this.includeUnknownTest(e):this.includeKnownTest(e,n)}}parseNode(e){this.consequentScope=new my(this.scope),this.consequent=new(this.context.getNodeConstructor(e.consequent.type))(e.consequent,this,this.consequentScope),e.alternate&&(this.alternateScope=new my(this.scope),this.alternate=new(this.context.getNodeConstructor(e.alternate.type))(e.alternate,this,this.alternateScope)),super.parseNode(e)}render(e,t){const{snippets:{getPropertyAccess:n}}=t,s=this.getTestValue(),r=[],o=this.test.included,a=!this.context.options.treeshake;o?this.test.render(e,t):e.remove(this.start,this.consequent.start),this.consequent.included&&(a||typeof s=="symbol"||s)?this.consequent.render(e,t):(e.overwrite(this.consequent.start,this.consequent.end,o?";":""),r.push(...this.consequentScope.hoistedDeclarations)),this.alternate&&(!this.alternate.included||!a&&typeof s!="symbol"&&s?(o&&this.shouldKeepAlternateBranch()?e.overwrite(this.alternate.start,this.end,";"):e.remove(this.consequent.end,this.end),r.push(...this.alternateScope.hoistedDeclarations)):(o?e.original.charCodeAt(this.alternate.start-1)===101&&e.prependLeft(this.alternate.start," "):e.remove(this.consequent.end,this.alternate.start),this.alternate.render(e,t))),this.renderHoistedDeclarations(r,e,n)}applyDeoptimizations(){}getTestValue(){return this.testValue===gy?this.testValue=this.test.getLiteralValueAtPath(Ce,kt,this):this.testValue}includeKnownTest(e,t){this.test.shouldBeIncluded(e)&&this.test.include(e,!1),t&&this.consequent.shouldBeIncluded(e)&&this.consequent.include(e,!1,{asSingleStatement:!0}),!t&&this.alternate?.shouldBeIncluded(e)&&this.alternate.include(e,!1,{asSingleStatement:!0})}includeRecursively(e,t){this.test.include(t,e),this.consequent.include(t,e),this.alternate?.include(t,e)}includeUnknownTest(e){this.test.include(e,!1);const{brokenFlow:t}=e;let n=!1;this.consequent.shouldBeIncluded(e)&&(this.consequent.include(e,!1,{asSingleStatement:!0}),n=e.brokenFlow,e.brokenFlow=t),this.alternate?.shouldBeIncluded(e)&&(this.alternate.include(e,!1,{asSingleStatement:!0}),e.brokenFlow=e.brokenFlow&&n)}renderHoistedDeclarations(e,t,n){const s=[...new Set(e.map(r=>{const o=r.variable;return o.included?o.getName(n):""}))].filter(Boolean).join(", ");if(s){const r=this.parent.type,o=r!==jh&&r!==MS;t.prependRight(this.start,`${o?"{ ":""}var ${s}; `),o&&t.appendLeft(this.end," }")}}shouldKeepAlternateBranch(){let e=this.parent;do{if(e instanceof Qp&&e.alternate)return!0;if(e instanceof Yh)return!1;e=e.parent}while(e);return!1}}class ib extends ce{bind(){}hasEffects(){return!1}initialise(){this.context.addImport(this)}render(e,t,n){e.remove(n.start,n.end)}applyDeoptimizations(){}}ib.prototype.needsBoundaries=!0;class nb extends ce{applyDeoptimizations(){}}const dd="_interopDefault",pd="_interopDefaultCompat",th="_interopNamespace",ih="_interopNamespaceCompat",Qs="_interopNamespaceDefault",ya="_interopNamespaceDefaultOnly",Hh="_mergeNamespaces",Pc={auto:dd,compat:pd,default:null,defaultOnly:null,esModule:null},Ec=(i,e)=>i==="esModule"||e&&(i==="auto"||i==="compat"),za={auto:th,compat:ih,default:Qs,defaultOnly:ya,esModule:null},WT=(i,e)=>i!=="esModule"&&Ec(i,e),md=(i,e,t,n,s,r,o)=>{const a=new Set(i);for(const l of Od)e.has(l)&&a.add(l);return Od.map(l=>a.has(l)?sb[l](t,n,s,r,o,a):"").join("")},sb={[pd](i,e,t){const{_:n,getDirectReturnFunction:s,n:r}=e,[o,a]=s(["e"],{functionReturn:!0,lineBreakIndent:null,name:pd});return`${o}${Eu(e)}${n}?${n}${t?Oy(e):yy(e)}${a}${r}${r}`},[dd](i,e,t){const{_:n,getDirectReturnFunction:s,n:r}=e,[o,a]=s(["e"],{functionReturn:!0,lineBreakIndent:null,name:dd});return`${o}e${n}&&${n}e.__esModule${n}?${n}${t?Oy(e):yy(e)}${a}${r}${r}`},[ih](i,e,t,n,s,r){const{_:o,getDirectReturnFunction:a,n:l}=e;if(r.has(Qs)){const[h,c]=a(["e"],{functionReturn:!0,lineBreakIndent:null,name:ih});return`${h}${Eu(e)}${o}?${o}e${o}:${o}${Qs}(e)${c}${l}${l}`}return`function ${ih}(e)${o}{${l}${i}if${o}(${Eu(e)})${o}return e;${l}`+Au(i,i,e,t,n,s)+`}${l}${l}`},[ya](i,e,t,n,s){const{getDirectReturnFunction:r,getObject:o,n:a}=e,[l,h]=r(["e"],{functionReturn:!0,lineBreakIndent:null,name:ya});return`${l}${gd(n,vy(s,o([["__proto__","null"],["default","e"]],{lineBreakIndent:null}),e))}${h}${a}${a}`},[Qs](i,e,t,n,s){const{_:r,n:o}=e;return`function ${Qs}(e)${r}{${o}`+Au(i,i,e,t,n,s)+`}${o}${o}`},[th](i,e,t,n,s,r){const{_:o,getDirectReturnFunction:a,n:l}=e;if(r.has(Qs)){const[h,c]=a(["e"],{functionReturn:!0,lineBreakIndent:null,name:th});return`${h}e${o}&&${o}e.__esModule${o}?${o}e${o}:${o}${Qs}(e)${c}${l}${l}`}return`function ${th}(e)${o}{${l}${i}if${o}(e${o}&&${o}e.__esModule)${o}return e;${l}`+Au(i,i,e,t,n,s)+`}${l}${l}`},[Hh](i,e,t,n,s){const{_:r,cnst:o,n:a}=e,l=o==="var"&&t;return`function ${Hh}(n, m)${r}{${a}${i}${GT(`{${a}${i}${i}${i}if${r}(k${r}!==${r}'default'${r}&&${r}!(k in n))${r}{${a}`+(t?l?rb:HT:ob)(i,i+i+i+i,e)+`${i}${i}${i}}${a}${i}${i}}`,l,i,e)}${a}${i}return ${gd(n,vy(s,"n",e))};${a}}${a}${a}`}},Oy=({_:i,getObject:e})=>`e${i}:${i}${e([["default","e"]],{lineBreakIndent:null})}`,yy=({_:i,getPropertyAccess:e})=>`e${e("default")}${i}:${i}e`,Eu=({_:i})=>`e${i}&&${i}typeof e${i}===${i}'object'${i}&&${i}'default'${i}in e`,Au=(i,e,t,n,s,r)=>{const{_:o,cnst:a,getObject:l,getPropertyAccess:h,n:c,s:f}=t,p=`{${c}`+(n?qT:ob)(i,e+i+i,t)+`${e}${i}}`;return`${e}${a} n${o}=${o}Object.create(null${r?`,${o}{${o}[Symbol.toStringTag]:${o}${va(l)}${o}}`:""});${c}${e}if${o}(e)${o}{${c}${e}${i}${YT(p,!n,t)}${c}${e}}${c}${e}n${h("default")}${o}=${o}e;${c}${e}return ${gd(s,"n")}${f}${c}`},YT=(i,e,{_:t,cnst:n,getFunctionIntro:s,s:r})=>n!=="var"||e?`for${t}(${n} k in e)${t}${i}`:`Object.keys(e).forEach(${s(["k"],{isAsync:!1,name:null})}${i})${r}`,GT=(i,e,t,{_:n,cnst:s,getDirectReturnFunction:r,getFunctionIntro:o,n:a})=>{if(e){const[l,h]=r(["e"],{functionReturn:!1,lineBreakIndent:{base:t,t},name:null});return`m.forEach(${l}e${n}&&${n}typeof e${n}!==${n}'string'${n}&&${n}!Array.isArray(e)${n}&&${n}Object.keys(e).forEach(${o(["k"],{isAsync:!1,name:null})}${i})${h});`}return`for${n}(var i${n}=${n}0;${n}i${n}<${n}m.length;${n}i++)${n}{${a}${t}${t}${s} e${n}=${n}m[i];${a}${t}${t}if${n}(typeof e${n}!==${n}'string'${n}&&${n}!Array.isArray(e))${n}{${n}for${n}(${s} k in e)${n}${i}${n}}${a}${t}}`},qT=(i,e,t)=>{const{_:n,n:s}=t;return`${e}if${n}(k${n}!==${n}'default')${n}{${s}`+rb(i,e+i,t)+`${e}}${s}`},rb=(i,e,{_:t,cnst:n,getDirectReturnFunction:s,n:r})=>{const[o,a]=s([],{functionReturn:!0,lineBreakIndent:null,name:null});return`${e}${n} d${t}=${t}Object.getOwnPropertyDescriptor(e,${t}k);${r}${e}Object.defineProperty(n,${t}k,${t}d.get${t}?${t}d${t}:${t}{${r}${e}${i}enumerable:${t}true,${r}${e}${i}get:${t}${o}e[k]${a}${r}${e}});${r}`},HT=(i,e,{_:t,cnst:n,getDirectReturnFunction:s,n:r})=>{const[o,a]=s([],{functionReturn:!0,lineBreakIndent:null,name:null});return`${e}${n} d${t}=${t}Object.getOwnPropertyDescriptor(e,${t}k);${r}${e}if${t}(d)${t}{${r}${e}${i}Object.defineProperty(n,${t}k,${t}d.get${t}?${t}d${t}:${t}{${r}${e}${i}${i}enumerable:${t}true,${r}${e}${i}${i}get:${t}${o}e[k]${a}${r}${e}${i}});${r}${e}}${r}`},ob=(i,e,{_:t,n})=>`${e}n[k]${t}=${t}e[k];${n}`,gd=(i,e)=>i?`Object.freeze(${e})`:e,vy=(i,e,{_:t,getObject:n})=>i?`Object.defineProperty(${e},${t}Symbol.toStringTag,${t}${va(n)})`:e,Od=Object.keys(sb);function va(i){return i([["value","'Module'"]],{lineBreakIndent:null})}function ab(i,e){return i.renderBaseName!==null&&e.has(i)&&i.isReassigned}class xy extends ce{declareDeclarator(e){this.id.declare(e,this.init||so)}deoptimizePath(e){this.id.deoptimizePath(e)}hasEffects(e){this.deoptimized||this.applyDeoptimizations();const t=this.init?.hasEffects(e);return this.id.markDeclarationReached(),t||this.id.hasEffects(e)}include(e,t){const{deoptimized:n,id:s,init:r}=this;n||this.applyDeoptimizations(),this.included=!0,r?.include(e,t),s.markDeclarationReached(),(t||s.shouldBeIncluded(e))&&s.include(e,t)}render(e,t){const{exportNamesByVariable:n,snippets:{_:s,getPropertyAccess:r}}=t,{end:o,id:a,init:l,start:h}=this,c=a.included;if(c)a.render(e,t);else{const f=Lt(e.original,"=",a.end);e.remove(h,hs(e.original,f+1))}l?(a instanceof nt&&l instanceof fd&&!l.id&&a.variable.getName(r)!==a.name&&e.appendLeft(l.start+5,` ${a.name}`),l.render(e,t,c?jt:{renderedSurroundingElement:Li})):a instanceof nt&&ab(a.variable,n)&&e.appendLeft(o,`${s}=${s}void 0`)}applyDeoptimizations(){this.deoptimized=!0;const{id:e,init:t}=this;if(t&&e instanceof nt&&t instanceof fd&&!t.id){const{name:n,variable:s}=e;for(const r of t.scope.accessedOutsideVariables.values())r!==s&&r.forbidName(n)}}}function Sy(i,e,t){return e==="external"?za[t(i instanceof st?i.id:null)]:e==="default"?ya:null}const KT={amd:["require"],cjs:["require"],system:["module"]};function by(i){const e=[];for(const t of i.properties){if(t.type==="RestElement"||t.computed||t.key.type!=="Identifier")return;e.push(t.key.name)}return e}class lb extends ce{applyDeoptimizations(){}}const Iu="ROLLUP_FILE_URL_",Mu="import",JT={amd:["document","module","URL"],cjs:["document","require","URL"],es:[],iife:["document","URL"],system:["module"],umd:["document","require","URL"]},eQ={amd:["document","require","URL"],cjs:["document","require","URL"],es:[],iife:["document","URL"],system:["module","URL"],umd:["document","require","URL"]},jo=(i,e="URL")=>`new ${e}(${i}).href`,_u=(i,e=!1)=>jo(`'${xc(i)}', ${e?"typeof document === 'undefined' ? location.href : ":""}document.currentScript && document.currentScript.src || document.baseURI`),Cl=i=>(e,{chunkId:t})=>{const n=i(t);return e===null?`({ url: ${n} })`:e==="url"?n:"undefined"},yd=i=>`require('u' + 'rl').pathToFileURL(${i}).href`,wy=i=>yd(`__dirname + '/${i}'`),Tu=(i,e=!1)=>`${e?"typeof document === 'undefined' ? location.href : ":""}(document.currentScript && document.currentScript.src || new URL('${xc(i)}', document.baseURI).href)`,tQ={amd:i=>(i[0]!=="."&&(i="./"+i),jo(`require.toUrl('${i}'), document.baseURI`)),cjs:i=>`(typeof document === 'undefined' ? ${wy(i)} : ${_u(i)})`,es:i=>jo(`'${i}', import.meta.url`),iife:i=>_u(i),system:i=>jo(`'${i}', module.meta.url`),umd:i=>`(typeof document === 'undefined' && typeof location === 'undefined' ? ${wy(i)} : ${_u(i,!0)})`},iQ={amd:Cl(()=>jo("module.uri, document.baseURI")),cjs:Cl(i=>`(typeof document === 'undefined' ? ${yd("__filename")} : ${Tu(i)})`),iife:Cl(i=>Tu(i)),system:(i,{snippets:{getPropertyAccess:e}})=>i===null?"module.meta":`module.meta${e(i)}`,umd:Cl(i=>`(typeof document === 'undefined' && typeof location === 'undefined' ? ${yd("__filename")} : ${Tu(i,!0)})`)};class hb extends ce{constructor(){super(...arguments),this.hasCachedEffect=null,this.hasLoggedEffect=!1}hasCachedEffects(){return!!this.included&&(this.hasCachedEffect===null?this.hasCachedEffect=this.hasEffects(Uh()):this.hasCachedEffect)}hasEffects(e){for(const t of this.body)if(t.hasEffects(e)){if(this.context.options.experimentalLogSideEffects&&!this.hasLoggedEffect){this.hasLoggedEffect=!0;const{code:n,log:s,module:r}=this.context;s(Ys,uT(n,r.id,Sp(n,t.start,{offsetLine:1})),t.start)}return this.hasCachedEffect=!0}return!1}include(e,t){this.included=!0;for(const n of this.body)(t||n.shouldBeIncluded(e))&&n.include(e,t)}render(e,t){let n=this.start;if(e.original.startsWith("#!")&&(n=Math.min(e.original.indexOf(`
`)+1,this.end),e.remove(0,n)),this.body.length>0){for(;e.original[n]==="/"&&/[*/]/.test(e.original[n+1]);){const s=ma(e.original.slice(n,this.body[0].start));if(s[0]===-1)break;n+=s[1]}ga(this.body,e,n,this.end,t)}else super.render(e,t)}applyDeoptimizations(){}}class cb extends ce{hasEffects(e){if(this.test?.hasEffects(e))return!0;for(const t of this.consequent){if(e.brokenFlow)break;if(t.hasEffects(e))return!0}return!1}include(e,t){this.included=!0,this.test?.include(e,t);for(const n of this.consequent)(t||n.shouldBeIncluded(e))&&n.include(e,t)}render(e,t,n){if(this.consequent.length>0){this.test&&this.test.render(e,t);const s=this.test?this.test.end:Lt(e.original,"default",this.start)+7,r=Lt(e.original,":",s)+1;ga(this.consequent,e,r,n.end,t)}else super.render(e,t)}}cb.prototype.needsBoundaries=!0;class ub extends ce{deoptimizeArgumentsOnInteractionAtPath(){}getLiteralValueAtPath(e){return e.length>0||this.quasis.length!==1?ct:this.quasis[0].value.cooked}getReturnExpressionWhenCalledAtPath(e){return e.length!==1?bt:Ba(da,e[0])}hasEffectsOnInteractionAtPath(e,t,n){return t.type===0?e.length>1:t.type!==2||e.length!==1||Va(da,e[0],t,n)}render(e,t){e.indentExclusionRanges.push([this.start,this.end]),super.render(e,t)}}class fb extends lr{constructor(){super("undefined")}getLiteralValueAtPath(){}}class An extends Yn{constructor(e,t,n){super(e,t,t.declaration,n),this.hasId=!1,this.originalId=null,this.originalVariable=null;const s=t.declaration;(s instanceof Oa||s instanceof Gh)&&s.id?(this.hasId=!0,this.originalId=s.id):s instanceof nt&&(this.originalId=s)}addReference(e){this.hasId||(this.name=e.name)}forbidName(e){const t=this.getOriginalVariable();t===this?super.forbidName(e):t.forbidName(e)}getAssignedVariableName(){return this.originalId&&this.originalId.name||null}getBaseVariableName(){const e=this.getOriginalVariable();return e===this?super.getBaseVariableName():e.getBaseVariableName()}getDirectOriginalVariable(){return!this.originalId||!this.hasId&&(this.originalId.isPossibleTDZ()||this.originalId.variable.isReassigned||this.originalId.variable instanceof fb||"syntheticNamespace"in this.originalId.variable)?null:this.originalId.variable}getName(e){const t=this.getOriginalVariable();return t===this?super.getName(e):t.getName(e)}getOriginalVariable(){if(this.originalVariable)return this.originalVariable;let e,t=this;const n=new Set;do n.add(t),e=t,t=e.getDirectOriginalVariable();while(t instanceof An&&!n.has(t));return this.originalVariable=t||e}}class db extends en{constructor(e,t){super(e),this.context=t,this.variables.set("this",new Yn("this",null,so,t))}addExportDefaultDeclaration(e,t,n){const s=new An(e,t,n);return this.variables.set("default",s),s}addNamespaceMemberAccess(){}deconflict(e,t,n){for(const s of this.children)s.deconflict(e,t,n)}findLexicalBoundary(){return this}findVariable(e){const t=this.variables.get(e)||this.accessedOutsideVariables.get(e);if(t)return t;const n=this.context.traceVariable(e)||this.parent.findVariable(e);return n instanceof Ap&&this.accessedOutsideVariables.set(e,n),n}}const nQ={"!":i=>!i,"+":i=>+i,"-":i=>-i,delete:()=>ct,typeof:i=>typeof i,void:()=>{},"~":i=>~i};class pb extends ce{deoptimizePath(){for(const e of this.declarations)e.deoptimizePath(Ce)}hasEffectsOnInteractionAtPath(){return!1}include(e,t,{asSingleStatement:n}=jt){this.included=!0;for(const s of this.declarations){(t||s.shouldBeIncluded(e))&&s.include(e,t);const{id:r,init:o}=s;n&&r.include(e,t),o&&r.included&&!o.included&&(r instanceof Ro||r instanceof BS)&&o.include(e,t)}}initialise(){for(const e of this.declarations)e.declareDeclarator(this.kind)}render(e,t,n=jt){if(function(s,r){for(const o of s){if(!o.id.included)return!1;if(o.id.type===TS){if(r.has(o.id.variable))return!1}else{const a=[];if(o.id.addExportedVariables(a,r),a.length>0)return!1}}return!0}(this.declarations,t.exportNamesByVariable)){for(const s of this.declarations)s.render(e,t);n.isNoStatement||e.original.charCodeAt(this.end-1)===59||e.appendLeft(this.end,";")}else this.renderReplacedDeclarations(e,t)}applyDeoptimizations(){}renderDeclarationEnd(e,t,n,s,r,o,a){e.original.charCodeAt(this.end-1)===59&&e.remove(this.end-1,this.end),t+=";",n===null?e.appendLeft(r,t):(e.original.charCodeAt(s-1)!==10||e.original.charCodeAt(this.end)!==10&&e.original.charCodeAt(this.end)!==13||(s--,e.original.charCodeAt(s)===13&&s--),s===n+1?e.overwrite(n,r,t):(e.overwrite(n,n+1,t),e.remove(s,r))),o.length>0&&e.appendLeft(r,` ${sr(o,a)};`)}renderReplacedDeclarations(e,t){const n=WS(this.declarations,e,this.start+this.kind.length,this.end-(e.original.charCodeAt(this.end-1)===59?1:0));let s,r;r=hs(e.original,this.start+this.kind.length);let o=r-1;e.remove(this.start,o);let a,l=!1,h=!1,c="";const f=[],p=function(g,y,v){let w=null;if(y.format==="system"){for(const{node:k}of g)k.id instanceof nt&&k.init&&v.length===0&&y.exportNamesByVariable.get(k.id.variable)?.length===1?(w=k.id.variable,v.push(w)):k.id.addExportedVariables(v,y.exportNamesByVariable);v.length>1?w=null:w&&(v.length=0)}return w}(n,t,f);for(const{node:g,start:y,separator:v,contentEnd:w,end:k}of n)if(g.included){if(g.render(e,t),a="",!g.id.included||g.id instanceof nt&&ab(g.id.variable,t.exportNamesByVariable))h&&(c+=";"),l=!1;else{if(p&&p===g.id.variable){const T=Lt(e.original,"=",g.id.end);cd(p,hs(e.original,T+1),v===null?w:v,e,t)}l?c+=",":(h&&(c+=";"),a+=`${this.kind} `,l=!0)}r===o+1?e.overwrite(o,r,c+a):(e.overwrite(o,o+1,c),e.appendLeft(r,a)),s=w,r=k,h=!0,o=v,c=""}else e.remove(y,k);this.renderDeclarationEnd(e,c,o,s,r,f,t)}}const ky={ArrayExpression:VS,ArrayPattern:BS,ArrowFunctionExpression:hd,AssignmentExpression:class extends ce{hasEffects(i){const{deoptimized:e,left:t,operator:n,right:s}=this;return e||this.applyDeoptimizations(),s.hasEffects(i)||t.hasEffectsAsAssignmentTarget(i,n!=="=")}hasEffectsOnInteractionAtPath(i,e,t){return this.right.hasEffectsOnInteractionAtPath(i,e,t)}include(i,e){const{deoptimized:t,left:n,right:s,operator:r}=this;t||this.applyDeoptimizations(),this.included=!0,(e||r!=="="||n.included||n.hasEffectsAsAssignmentTarget(Uh(),!1))&&n.includeAsAssignmentTarget(i,e,r!=="="),s.include(i,e)}initialise(){this.left.setAssignedValue(this.right)}render(i,e,{preventASI:t,renderedParentType:n,renderedSurroundingElement:s}=jt){const{left:r,right:o,start:a,end:l,parent:h}=this;if(r.included)r.render(i,e),o.render(i,e);else{const c=hs(i.original,Lt(i.original,"=",r.end)+1);i.remove(a,c),t&&wl(i,c,o.start),o.render(i,e,{renderedParentType:n||h.type,renderedSurroundingElement:s||h.type})}if(e.format==="system")if(r instanceof nt){const c=r.variable,f=e.exportNamesByVariable.get(c);if(f)return void(f.length===1?cd(c,a,l,i,e):uy(c,a,l,h.type!==Li,i,e))}else{const c=[];if(r.addExportedVariables(c,e.exportNamesByVariable),c.length>0)return void function(f,p,g,y,v,w){const{_:k,getDirectReturnIifeLeft:T}=w.snippets;v.prependRight(p,T(["v"],`${sr(f,w)},${k}v`,{needsArrowReturnParens:!0,needsWrappedFunction:y})),v.appendLeft(g,")")}(c,a,l,s===Li,i,e)}r.included&&r instanceof Ro&&(s===Li||s===rd)&&(i.appendRight(a,"("),i.prependLeft(l,")"))}applyDeoptimizations(){this.deoptimized=!0,this.left.deoptimizePath(Ce),this.right.deoptimizePath(Be),this.context.requestTreeshakingPass()}},AssignmentPattern:class extends ce{addExportedVariables(i,e){this.left.addExportedVariables(i,e)}declare(i,e){return this.left.declare(i,e)}deoptimizePath(i){i.length===0&&this.left.deoptimizePath(i)}hasEffectsOnInteractionAtPath(i,e,t){return i.length>0||this.left.hasEffectsOnInteractionAtPath(Ce,e,t)}markDeclarationReached(){this.left.markDeclarationReached()}render(i,e,{isShorthandProperty:t}=jt){this.left.render(i,e,{isShorthandProperty:t}),this.right.render(i,e)}applyDeoptimizations(){this.deoptimized=!0,this.left.deoptimizePath(Ce),this.right.deoptimizePath(Be),this.context.requestTreeshakingPass()}},AwaitExpression:fy,BinaryExpression:class extends ce{deoptimizeCache(){}getLiteralValueAtPath(i,e,t){if(i.length>0)return ct;const n=this.left.getLiteralValueAtPath(Ce,e,t);if(typeof n=="symbol")return ct;const s=this.right.getLiteralValueAtPath(Ce,e,t);if(typeof s=="symbol")return ct;const r=zT[this.operator];return r?r(n,s):ct}hasEffects(i){return this.operator==="+"&&this.parent instanceof Ts&&this.left.getLiteralValueAtPath(Ce,kt,this)===""||super.hasEffects(i)}hasEffectsOnInteractionAtPath(i,{type:e}){return e!==0||i.length>1}render(i,e,{renderedSurroundingElement:t}=jt){this.left.render(i,e,{renderedSurroundingElement:t}),this.right.render(i,e)}},BlockStatement:Yh,BreakStatement:class extends ce{hasEffects(i){if(this.label){if(!i.ignore.labels.has(this.label.name))return!0;i.includedLabels.add(this.label.name)}else{if(!i.ignore.breaks)return!0;i.hasBreak=!0}return i.brokenFlow=!0,!1}include(i){this.included=!0,this.label?(this.label.include(),i.includedLabels.add(this.label.name)):i.hasBreak=!0,i.brokenFlow=!0}},CallExpression:dy,CatchClause:class extends ce{createScope(i){this.scope=new UT(i,this.context)}parseNode(i){const{param:e}=i;e&&(this.param=new(this.context.getNodeConstructor(e.type))(e,this,this.scope),this.param.declare("parameter",Pe)),super.parseNode(i)}},ChainExpression:class extends ce{deoptimizeCache(){}getLiteralValueAtPath(i,e,t){if(!this.expression.isSkippedAsOptional(t))return this.expression.getLiteralValueAtPath(i,e,t)}hasEffects(i){return!this.expression.isSkippedAsOptional(this)&&this.expression.hasEffects(i)}},ClassBody:class extends ce{createScope(i){this.scope=new jT(i,this.parent,this.context)}include(i,e){this.included=!0,this.context.includeVariableInModule(this.scope.thisVariable);for(const t of this.body)t.include(i,e)}parseNode(i){const e=this.body=[];for(const t of i.body)e.push(new(this.context.getNodeConstructor(t.type))(t,this,t.static?this.scope:this.scope.instanceScope));super.parseNode(i)}applyDeoptimizations(){}},ClassDeclaration:Gh,ClassExpression:fd,ConditionalExpression:class extends ce{constructor(){super(...arguments),this.expressionsToBeDeoptimized=[],this.isBranchResolutionAnalysed=!1,this.usedBranch=null}deoptimizeArgumentsOnInteractionAtPath(i,e,t){this.consequent.deoptimizeArgumentsOnInteractionAtPath(i,e,t),this.alternate.deoptimizeArgumentsOnInteractionAtPath(i,e,t)}deoptimizeCache(){if(this.usedBranch!==null){const i=this.usedBranch===this.consequent?this.alternate:this.consequent;this.usedBranch=null,i.deoptimizePath(Be);const{expressionsToBeDeoptimized:e}=this;this.expressionsToBeDeoptimized=yt;for(const t of e)t.deoptimizeCache()}}deoptimizePath(i){const e=this.getUsedBranch();e?e.deoptimizePath(i):(this.consequent.deoptimizePath(i),this.alternate.deoptimizePath(i))}getLiteralValueAtPath(i,e,t){const n=this.getUsedBranch();return n?(this.expressionsToBeDeoptimized.push(t),n.getLiteralValueAtPath(i,e,t)):ct}getReturnExpressionWhenCalledAtPath(i,e,t,n){const s=this.getUsedBranch();return s?(this.expressionsToBeDeoptimized.push(n),s.getReturnExpressionWhenCalledAtPath(i,e,t,n)):[new qh([this.consequent.getReturnExpressionWhenCalledAtPath(i,e,t,n)[0],this.alternate.getReturnExpressionWhenCalledAtPath(i,e,t,n)[0]]),!1]}hasEffects(i){if(this.test.hasEffects(i))return!0;const e=this.getUsedBranch();return e?e.hasEffects(i):this.consequent.hasEffects(i)||this.alternate.hasEffects(i)}hasEffectsOnInteractionAtPath(i,e,t){const n=this.getUsedBranch();return n?n.hasEffectsOnInteractionAtPath(i,e,t):this.consequent.hasEffectsOnInteractionAtPath(i,e,t)||this.alternate.hasEffectsOnInteractionAtPath(i,e,t)}include(i,e){this.included=!0;const t=this.getUsedBranch();e||this.test.shouldBeIncluded(i)||t===null?(this.test.include(i,e),this.consequent.include(i,e),this.alternate.include(i,e)):t.include(i,e)}includeCallArguments(i,e){const t=this.getUsedBranch();t?t.includeCallArguments(i,e):(this.consequent.includeCallArguments(i,e),this.alternate.includeCallArguments(i,e))}render(i,e,{isCalleeOfRenderedParent:t,preventASI:n,renderedParentType:s,renderedSurroundingElement:r}=jt){const o=this.getUsedBranch();if(this.test.included)this.test.render(i,e,{renderedSurroundingElement:r}),this.consequent.render(i,e),this.alternate.render(i,e);else{const a=Lt(i.original,":",this.consequent.end),l=hs(i.original,(this.consequent.included?Lt(i.original,"?",this.test.end):a)+1);n&&wl(i,l,o.start),i.remove(this.start,l),this.consequent.included&&i.remove(a,this.end),hy(this,i),o.render(i,e,{isCalleeOfRenderedParent:t,preventASI:!0,renderedParentType:s||this.parent.type,renderedSurroundingElement:r||this.parent.type})}}getUsedBranch(){if(this.isBranchResolutionAnalysed)return this.usedBranch;this.isBranchResolutionAnalysed=!0;const i=this.test.getLiteralValueAtPath(Ce,kt,this);return typeof i=="symbol"?null:this.usedBranch=i?this.consequent:this.alternate}},ContinueStatement:class extends ce{hasEffects(i){if(this.label){if(!i.ignore.labels.has(this.label.name))return!0;i.includedLabels.add(this.label.name)}else{if(!i.ignore.continues)return!0;i.hasContinue=!0}return i.brokenFlow=!0,!1}include(i){this.included=!0,this.label?(this.label.include(),i.includedLabels.add(this.label.name)):i.hasContinue=!0,i.brokenFlow=!0}},DoWhileStatement:class extends ce{hasEffects(i){return!!this.test.hasEffects(i)||kl(i,this.body)}include(i,e){this.included=!0,this.test.include(i,e),So(i,this.body,e)}},EmptyStatement:class extends ce{hasEffects(){return!1}},ExportAllDeclaration:Tp,ExportDefaultDeclaration:$c,ExportNamedDeclaration:tb,ExportSpecifier:class extends ce{applyDeoptimizations(){}},ExpressionStatement:Ts,ForInStatement:class extends ce{createScope(i){this.scope=new Vs(i)}hasEffects(i){const{body:e,deoptimized:t,left:n,right:s}=this;return t||this.applyDeoptimizations(),!(!n.hasEffectsAsAssignmentTarget(i,!1)&&!s.hasEffects(i))||kl(i,e)}include(i,e){const{body:t,deoptimized:n,left:s,right:r}=this;n||this.applyDeoptimizations(),this.included=!0,s.includeAsAssignmentTarget(i,e||!0,!1),r.include(i,e),So(i,t,e)}initialise(){this.left.setAssignedValue(Pe)}render(i,e){this.left.render(i,e,Ms),this.right.render(i,e,Ms),i.original.charCodeAt(this.right.start-1)===110&&i.prependLeft(this.right.start," "),this.body.render(i,e)}applyDeoptimizations(){this.deoptimized=!0,this.left.deoptimizePath(Ce),this.context.requestTreeshakingPass()}},ForOfStatement:class extends ce{createScope(i){this.scope=new Vs(i)}hasEffects(){return this.deoptimized||this.applyDeoptimizations(),!0}include(i,e){const{body:t,deoptimized:n,left:s,right:r}=this;n||this.applyDeoptimizations(),this.included=!0,s.includeAsAssignmentTarget(i,e||!0,!1),r.include(i,e),So(i,t,e)}initialise(){this.left.setAssignedValue(Pe)}render(i,e){this.left.render(i,e,Ms),this.right.render(i,e,Ms),i.original.charCodeAt(this.right.start-1)===102&&i.prependLeft(this.right.start," "),this.body.render(i,e)}applyDeoptimizations(){this.deoptimized=!0,this.left.deoptimizePath(Ce),this.right.deoptimizePath(Be),this.context.requestTreeshakingPass()}},ForStatement:class extends ce{createScope(i){this.scope=new Vs(i)}hasEffects(i){return!!(this.init?.hasEffects(i)||this.test?.hasEffects(i)||this.update?.hasEffects(i))||kl(i,this.body)}include(i,e){this.included=!0,this.init?.include(i,e,{asSingleStatement:!0}),this.test?.include(i,e),this.update?.include(i,e),So(i,this.body,e)}render(i,e){this.init?.render(i,e,Ms),this.test?.render(i,e,Ms),this.update?.render(i,e,Ms),this.body.render(i,e)}},FunctionDeclaration:Oa,FunctionExpression:py,Identifier:nt,IfStatement:Qp,ImportAttribute:class extends ce{},ImportDeclaration:ib,ImportDefaultSpecifier:nb,ImportExpression:class extends ce{constructor(){super(...arguments),this.inlineNamespace=null,this.assertions=null,this.mechanism=null,this.namespaceExportName=void 0,this.resolution=null,this.resolutionString=null}bind(){this.source.bind()}getDeterministicImportedNames(){const i=this.parent;if(i instanceof Ts)return yt;if(i instanceof fy){const e=i.parent;if(e instanceof Ts)return yt;if(e instanceof xy){const t=e.id;return t instanceof Ro?by(t):void 0}if(e instanceof os){const t=e.property;if(!e.computed&&t instanceof nt)return[t.name]}}else if(i instanceof os){const e=i.parent,t=i.property;if(!(e instanceof dy&&t instanceof nt))return;const n=t.name;if(e.parent instanceof Ts&&["catch","finally"].includes(n))return yt;if(n!=="then")return;if(e.arguments.length===0)return yt;const s=e.arguments[0];if(e.arguments.length!==1||!(s instanceof hd||s instanceof py))return;if(s.params.length===0)return yt;const r=s.params[0];return s.params.length===1&&r instanceof Ro?by(r):void 0}}hasEffects(){return!0}include(i,e){this.included||(this.included=!0,this.context.includeDynamicImport(this),this.scope.addAccessedDynamicImport(this)),this.source.include(i,e)}initialise(){this.context.addDynamicImport(this)}parseNode(i){super.parseNode(i,["source"])}render(i,e){const{snippets:{_:t,getDirectReturnFunction:n,getObject:s,getPropertyAccess:r}}=e;if(this.inlineNamespace){const[o,a]=n([],{functionReturn:!0,lineBreakIndent:null,name:null});i.overwrite(this.start,this.end,`Promise.resolve().then(${o}${this.inlineNamespace.getName(r)}${a})`)}else{if(this.mechanism&&(i.overwrite(this.start,Lt(i.original,"(",this.start+6)+1,this.mechanism.left),i.overwrite(this.end-1,this.end,this.mechanism.right)),this.resolutionString){if(i.overwrite(this.source.start,this.source.end,this.resolutionString),this.namespaceExportName){const[o,a]=n(["n"],{functionReturn:!0,lineBreakIndent:null,name:null});i.prependLeft(this.end,`.then(${o}n.${this.namespaceExportName}${a})`)}}else this.source.render(i,e);this.assertions!==!0&&(this.arguments&&i.overwrite(this.source.end,this.end-1,"",{contentOnly:!0}),this.assertions&&i.appendLeft(this.end-1,`,${t}${s([["assert",this.assertions]],{lineBreakIndent:null})}`))}}setExternalResolution(i,e,t,n,s,r,o,a,l){const{format:h}=t;this.inlineNamespace=null,this.resolution=e,this.resolutionString=o,this.namespaceExportName=a,this.assertions=l;const c=[...KT[h]||[]];let f;({helper:f,mechanism:this.mechanism}=this.getDynamicImportMechanismAndHelper(e,i,t,n,s)),f&&c.push(f),c.length>0&&this.scope.addAccessedGlobals(c,r)}setInternalResolution(i){this.inlineNamespace=i}applyDeoptimizations(){}getDynamicImportMechanismAndHelper(i,e,{compact:t,dynamicImportFunction:n,dynamicImportInCjs:s,format:r,generatedCode:{arrowFunctions:o},interop:a},{_:l,getDirectReturnFunction:h,getDirectReturnIifeLeft:c},f){const p=f.hookFirstSync("renderDynamicImport",[{customResolution:typeof this.resolution=="string"?this.resolution:null,format:r,moduleId:this.context.module.id,targetModuleId:this.resolution&&typeof this.resolution!="string"?this.resolution.id:null}]);if(p)return{helper:null,mechanism:p};const g=!this.resolution||typeof this.resolution=="string";switch(r){case"cjs":{if(s&&(!i||typeof i=="string"||i instanceof st))return{helper:null,mechanism:null};const y=Sy(i,e,a);let v="require(",w=")";y&&(v=`/*#__PURE__*/${y}(${v}`,w+=")");const[k,T]=h([],{functionReturn:!0,lineBreakIndent:null,name:null});return v=`Promise.resolve().then(${k}${v}`,w+=`${T})`,!o&&g&&(v=c(["t"],`${v}t${w}`,{needsArrowReturnParens:!1,needsWrappedFunction:!0}),w=")"),{helper:y,mechanism:{left:v,right:w}}}case"amd":{const y=t?"c":"resolve",v=t?"e":"reject",w=Sy(i,e,a),[k,T]=h(["m"],{functionReturn:!1,lineBreakIndent:null,name:null}),$=w?`${k}${y}(/*#__PURE__*/${w}(m))${T}`:y,[E,_]=h([y,v],{functionReturn:!1,lineBreakIndent:null,name:null});let N=`new Promise(${E}require([`,z=`],${l}${$},${l}${v})${_})`;return!o&&g&&(N=c(["t"],`${N}t${z}`,{needsArrowReturnParens:!1,needsWrappedFunction:!0}),z=")"),{helper:w,mechanism:{left:N,right:z}}}case"system":return{helper:null,mechanism:{left:"module.import(",right:")"}};case"es":if(n)return{helper:null,mechanism:{left:`${n}(`,right:")"}}}return{helper:null,mechanism:null}}},ImportNamespaceSpecifier:lb,ImportSpecifier:class extends ce{applyDeoptimizations(){}},LabeledStatement:class extends ce{hasEffects(i){const e=i.brokenFlow;return i.ignore.labels.add(this.label.name),!!this.body.hasEffects(i)||(i.ignore.labels.delete(this.label.name),i.includedLabels.has(this.label.name)&&(i.includedLabels.delete(this.label.name),i.brokenFlow=e),!1)}include(i,e){this.included=!0;const t=i.brokenFlow;this.body.include(i,e),(e||i.includedLabels.has(this.label.name))&&(this.label.include(),i.includedLabels.delete(this.label.name),i.brokenFlow=t)}render(i,e){this.label.included?this.label.render(i,e):i.remove(this.start,hs(i.original,Lt(i.original,":",this.label.end)+1)),this.body.render(i,e)}},Literal:Zs,LogicalExpression:class extends ce{constructor(){super(...arguments),this.expressionsToBeDeoptimized=[],this.isBranchResolutionAnalysed=!1,this.usedBranch=null}deoptimizeArgumentsOnInteractionAtPath(i,e,t){this.left.deoptimizeArgumentsOnInteractionAtPath(i,e,t),this.right.deoptimizeArgumentsOnInteractionAtPath(i,e,t)}deoptimizeCache(){if(this.usedBranch){const i=this.usedBranch===this.left?this.right:this.left;this.usedBranch=null,i.deoptimizePath(Be);const{context:e,expressionsToBeDeoptimized:t}=this;this.expressionsToBeDeoptimized=yt;for(const n of t)n.deoptimizeCache();e.requestTreeshakingPass()}}deoptimizePath(i){const e=this.getUsedBranch();e?e.deoptimizePath(i):(this.left.deoptimizePath(i),this.right.deoptimizePath(i))}getLiteralValueAtPath(i,e,t){const n=this.getUsedBranch();return n?(this.expressionsToBeDeoptimized.push(t),n.getLiteralValueAtPath(i,e,t)):ct}getReturnExpressionWhenCalledAtPath(i,e,t,n){const s=this.getUsedBranch();return s?(this.expressionsToBeDeoptimized.push(n),s.getReturnExpressionWhenCalledAtPath(i,e,t,n)):[new qh([this.left.getReturnExpressionWhenCalledAtPath(i,e,t,n)[0],this.right.getReturnExpressionWhenCalledAtPath(i,e,t,n)[0]]),!1]}hasEffects(i){return!!this.left.hasEffects(i)||this.getUsedBranch()!==this.left&&this.right.hasEffects(i)}hasEffectsOnInteractionAtPath(i,e,t){const n=this.getUsedBranch();return n?n.hasEffectsOnInteractionAtPath(i,e,t):this.left.hasEffectsOnInteractionAtPath(i,e,t)||this.right.hasEffectsOnInteractionAtPath(i,e,t)}include(i,e){this.included=!0;const t=this.getUsedBranch();e||t===this.right&&this.left.shouldBeIncluded(i)||!t?(this.left.include(i,e),this.right.include(i,e)):t.include(i,e)}render(i,e,{isCalleeOfRenderedParent:t,preventASI:n,renderedParentType:s,renderedSurroundingElement:r}=jt){if(this.left.included&&this.right.included)this.left.render(i,e,{preventASI:n,renderedSurroundingElement:r}),this.right.render(i,e);else{const o=Lt(i.original,this.operator,this.left.end);if(this.right.included){const a=hs(i.original,o+2);i.remove(this.start,a),n&&wl(i,a,this.right.start)}else i.remove(o,this.end);hy(this,i),this.getUsedBranch().render(i,e,{isCalleeOfRenderedParent:t,preventASI:n,renderedParentType:s||this.parent.type,renderedSurroundingElement:r||this.parent.type})}}getUsedBranch(){if(!this.isBranchResolutionAnalysed){this.isBranchResolutionAnalysed=!0;const i=this.left.getLiteralValueAtPath(Ce,kt,this);if(typeof i=="symbol")return null;this.usedBranch=this.operator==="||"&&i||this.operator==="&&"&&!i||this.operator==="??"&&i!=null?this.left:this.right}return this.usedBranch}},MemberExpression:os,MetaProperty:class extends ce{constructor(){super(...arguments),this.metaProperty=null,this.preliminaryChunkId=null,this.referenceId=null}getReferencedFileName(i){const{meta:{name:e},metaProperty:t}=this;return e===Mu&&t?.startsWith(Iu)?i.getFileName(t.slice(16)):null}hasEffects(){return!1}hasEffectsOnInteractionAtPath(i,{type:e}){return i.length>1||e!==0}include(){if(!this.included&&(this.included=!0,this.meta.name===Mu)){this.context.addImportMeta(this);const i=this.parent,e=this.metaProperty=i instanceof os&&typeof i.propertyKey=="string"?i.propertyKey:null;e?.startsWith(Iu)&&(this.referenceId=e.slice(16))}}render(i,{format:e,pluginDriver:t,snippets:n}){const{context:{module:{id:s}},meta:{name:r},metaProperty:o,parent:a,preliminaryChunkId:l,referenceId:h,start:c,end:f}=this;if(r!==Mu)return;const p=l;if(h){const y=t.getFileName(h),v=Ra(no(ir(p),y)),w=t.hookFirstSync("resolveFileUrl",[{chunkId:p,fileName:y,format:e,moduleId:s,referenceId:h,relativePath:v}])||tQ[e](v);return void i.overwrite(a.start,a.end,w,{contentOnly:!0})}const g=t.hookFirstSync("resolveImportMeta",[o,{chunkId:p,format:e,moduleId:s}])||iQ[e]?.(o,{chunkId:p,snippets:n});typeof g=="string"&&(a instanceof os?i.overwrite(a.start,a.end,g,{contentOnly:!0}):i.overwrite(c,f,g,{contentOnly:!0}))}setResolution(i,e,t){this.preliminaryChunkId=t;const n=(this.metaProperty?.startsWith(Iu)?eQ:JT)[i];n.length>0&&this.scope.addAccessedGlobals(n,e)}},MethodDefinition:ud,NewExpression:class extends ce{hasEffects(i){try{for(const e of this.arguments)if(e.hasEffects(i))return!0;return!this.annotationPure&&(this.callee.hasEffects(i)||this.callee.hasEffectsOnInteractionAtPath(Ce,this.interaction,i))}finally{this.deoptimized||this.applyDeoptimizations()}}hasEffectsOnInteractionAtPath(i,{type:e}){return i.length>0||e!==0}include(i,e){this.deoptimized||this.applyDeoptimizations(),e?super.include(i,e):(this.included=!0,this.callee.include(i,!1)),this.callee.includeCallArguments(i,this.arguments)}initialise(){this.interaction={args:[null,...this.arguments],type:2,withNew:!0}}render(i,e){this.callee.render(i,e),GS(i,e,this)}applyDeoptimizations(){this.deoptimized=!0,this.callee.deoptimizeArgumentsOnInteractionAtPath(this.interaction,Ce,kt),this.context.requestTreeshakingPass()}},ObjectExpression:class extends ce{constructor(){super(...arguments),this.objectEntity=null}deoptimizeArgumentsOnInteractionAtPath(i,e,t){this.getObjectEntity().deoptimizeArgumentsOnInteractionAtPath(i,e,t)}deoptimizeCache(){this.getObjectEntity().deoptimizeAllProperties()}deoptimizePath(i){this.getObjectEntity().deoptimizePath(i)}getLiteralValueAtPath(i,e,t){return this.getObjectEntity().getLiteralValueAtPath(i,e,t)}getReturnExpressionWhenCalledAtPath(i,e,t,n){return this.getObjectEntity().getReturnExpressionWhenCalledAtPath(i,e,t,n)}hasEffectsOnInteractionAtPath(i,e,t){return this.getObjectEntity().hasEffectsOnInteractionAtPath(i,e,t)}render(i,e,{renderedSurroundingElement:t}=jt){super.render(i,e),t!==Li&&t!==rd||(i.appendRight(this.start,"("),i.prependLeft(this.end,")"))}applyDeoptimizations(){}getObjectEntity(){if(this.objectEntity!==null)return this.objectEntity;let i=ms;const e=[];for(const t of this.properties){if(t instanceof pa){e.push({key:He,kind:"init",property:t});continue}let n;if(t.computed){const s=t.key.getLiteralValueAtPath(Ce,kt,this);if(typeof s=="symbol"){e.push({key:He,kind:t.kind,property:t});continue}n=String(s)}else if(n=t.key instanceof nt?t.key.name:String(t.key.value),n==="__proto__"&&t.kind==="init"){i=t.value instanceof Zs&&t.value.value===null?null:t.value;continue}e.push({key:n,kind:t.kind,property:t})}return this.objectEntity=new $i(e,i)}},ObjectPattern:Ro,PrivateIdentifier:class extends ce{},Program:hb,Property:class extends JS{constructor(){super(...arguments),this.declarationInit=null}declare(i,e){return this.declarationInit=e,this.value.declare(i,Pe)}hasEffects(i){this.deoptimized||this.applyDeoptimizations();const e=this.context.options.treeshake.propertyReadSideEffects;return this.parent.type==="ObjectPattern"&&e==="always"||this.key.hasEffects(i)||this.value.hasEffects(i)}markDeclarationReached(){this.value.markDeclarationReached()}render(i,e){this.shorthand||this.key.render(i,e),this.value.render(i,e,{isShorthandProperty:this.shorthand})}applyDeoptimizations(){this.deoptimized=!0,this.declarationInit!==null&&(this.declarationInit.deoptimizePath([He,He]),this.context.requestTreeshakingPass())}},PropertyDefinition:class extends ce{deoptimizeArgumentsOnInteractionAtPath(i,e,t){this.value?.deoptimizeArgumentsOnInteractionAtPath(i,e,t)}deoptimizePath(i){this.value?.deoptimizePath(i)}getLiteralValueAtPath(i,e,t){return this.value?this.value.getLiteralValueAtPath(i,e,t):ct}getReturnExpressionWhenCalledAtPath(i,e,t,n){return this.value?this.value.getReturnExpressionWhenCalledAtPath(i,e,t,n):bt}hasEffects(i){return this.key.hasEffects(i)||this.static&&!!this.value?.hasEffects(i)}hasEffectsOnInteractionAtPath(i,e,t){return!this.value||this.value.hasEffectsOnInteractionAtPath(i,e,t)}applyDeoptimizations(){}},RestElement:ld,ReturnStatement:class extends ce{hasEffects(i){return!(i.ignore.returnYield&&!this.argument?.hasEffects(i))||(i.brokenFlow=!0,!1)}include(i,e){this.included=!0,this.argument?.include(i,e),i.brokenFlow=!0}initialise(){this.scope.addReturnExpression(this.argument||Pe)}render(i,e){this.argument&&(this.argument.render(i,e,{preventASI:!0}),this.argument.start===this.start+6&&i.prependLeft(this.start+6," "))}},SequenceExpression:class extends ce{deoptimizeArgumentsOnInteractionAtPath(i,e,t){this.expressions[this.expressions.length-1].deoptimizeArgumentsOnInteractionAtPath(i,e,t)}deoptimizePath(i){this.expressions[this.expressions.length-1].deoptimizePath(i)}getLiteralValueAtPath(i,e,t){return this.expressions[this.expressions.length-1].getLiteralValueAtPath(i,e,t)}hasEffects(i){for(const e of this.expressions)if(e.hasEffects(i))return!0;return!1}hasEffectsOnInteractionAtPath(i,e,t){return this.expressions[this.expressions.length-1].hasEffectsOnInteractionAtPath(i,e,t)}include(i,e){this.included=!0;const t=this.expressions[this.expressions.length-1];for(const n of this.expressions)(e||n===t&&!(this.parent instanceof Ts)||n.shouldBeIncluded(i))&&n.include(i,e)}render(i,e,{renderedParentType:t,isCalleeOfRenderedParent:n,preventASI:s}=jt){let r=0,o=null;const a=this.expressions[this.expressions.length-1];for(const{node:l,separator:h,start:c,end:f}of WS(this.expressions,i,this.start,this.end))if(l.included)if(r++,o=h,r===1&&s&&wl(i,c,l.start),r===1){const p=t||this.parent.type;l.render(i,e,{isCalleeOfRenderedParent:n&&l===a,renderedParentType:p,renderedSurroundingElement:p})}else l.render(i,e);else Ip(l,i,c,f);o&&i.remove(o,this.end)}},SpreadElement:pa,StaticBlock:class extends ce{createScope(i){this.scope=new Vs(i)}hasEffects(i){for(const e of this.body)if(e.hasEffects(i))return!0;return!1}include(i,e){this.included=!0;for(const t of this.body)(e||t.shouldBeIncluded(i))&&t.include(i,e)}render(i,e){if(this.body.length>0){const t=Lt(i.original.slice(this.start,this.end),"{")+1;ga(this.body,i,this.start+t,this.end-1,e)}else super.render(i,e)}},Super:class extends ce{bind(){this.variable=this.scope.findVariable("this")}deoptimizeArgumentsOnInteractionAtPath(i,e,t){this.variable.deoptimizeArgumentsOnInteractionAtPath(i,e,t)}deoptimizePath(i){this.variable.deoptimizePath(i)}include(){this.included||(this.included=!0,this.context.includeVariableInModule(this.variable))}},SwitchCase:cb,SwitchStatement:class extends ce{createScope(i){this.parentScope=i,this.scope=new Vs(i)}hasEffects(i){if(this.discriminant.hasEffects(i))return!0;const{brokenFlow:e,hasBreak:t,ignore:n}=i,{breaks:s}=n;n.breaks=!0,i.hasBreak=!1;let r=!0;for(const o of this.cases){if(o.hasEffects(i))return!0;r&&(r=i.brokenFlow&&!i.hasBreak),i.hasBreak=!1,i.brokenFlow=e}return this.defaultCase!==null&&(i.brokenFlow=r),n.breaks=s,i.hasBreak=t,!1}include(i,e){this.included=!0,this.discriminant.include(i,e);const{brokenFlow:t,hasBreak:n}=i;i.hasBreak=!1;let s=!0,r=e||this.defaultCase!==null&&this.defaultCase<this.cases.length-1;for(let o=this.cases.length-1;o>=0;o--){const a=this.cases[o];if(a.included&&(r=!0),!r){const l=Uh();l.ignore.breaks=!0,r=a.hasEffects(l)}r?(a.include(i,e),s&&(s=i.brokenFlow&&!i.hasBreak),i.hasBreak=!1,i.brokenFlow=t):s=t}r&&this.defaultCase!==null&&(i.brokenFlow=s),i.hasBreak=n}initialise(){for(let i=0;i<this.cases.length;i++)if(this.cases[i].test===null)return void(this.defaultCase=i);this.defaultCase=null}parseNode(i){this.discriminant=new(this.context.getNodeConstructor(i.discriminant.type))(i.discriminant,this,this.parentScope),super.parseNode(i)}render(i,e){this.discriminant.render(i,e),this.cases.length>0&&ga(this.cases,i,this.cases[0].start,this.end-1,e)}},TaggedTemplateExpression:class extends KS{bind(){if(super.bind(),this.tag.type===TS){const i=this.tag.name;this.scope.findVariable(i).isNamespace&&this.context.log(ke,AS(i),this.start)}}hasEffects(i){try{for(const e of this.quasi.expressions)if(e.hasEffects(i))return!0;return this.tag.hasEffects(i)||this.tag.hasEffectsOnInteractionAtPath(Ce,this.interaction,i)}finally{this.deoptimized||this.applyDeoptimizations()}}include(i,e){this.deoptimized||this.applyDeoptimizations(),e?super.include(i,e):(this.included=!0,this.tag.include(i,e),this.quasi.include(i,e)),this.tag.includeCallArguments(i,this.args);const[t]=this.getReturnExpression();t.included||t.include(i,!1)}initialise(){this.args=[Pe,...this.quasi.expressions],this.interaction={args:[this.tag instanceof os&&!this.tag.variable?this.tag.object:null,...this.args],type:2,withNew:!1}}render(i,e){this.tag.render(i,e,{isCalleeOfRenderedParent:!0}),this.quasi.render(i,e)}applyDeoptimizations(){this.deoptimized=!0,this.tag.deoptimizeArgumentsOnInteractionAtPath(this.interaction,Ce,kt),this.context.requestTreeshakingPass()}getReturnExpression(i=kt){return this.returnExpression===null?(this.returnExpression=bt,this.returnExpression=this.tag.getReturnExpressionWhenCalledAtPath(Ce,this.interaction,i,this)):this.returnExpression}},TemplateElement:class extends ce{bind(){}hasEffects(){return!1}include(){this.included=!0}parseNode(i){this.value=i.value,super.parseNode(i)}render(){}},TemplateLiteral:ub,ThisExpression:class extends ce{bind(){this.variable=this.scope.findVariable("this")}deoptimizeArgumentsOnInteractionAtPath(i,e,t){this.variable.deoptimizeArgumentsOnInteractionAtPath(i,e,t)}deoptimizePath(i){this.variable.deoptimizePath(i)}hasEffectsOnInteractionAtPath(i,e,t){return i.length===0?e.type!==0:this.variable.hasEffectsOnInteractionAtPath(i,e,t)}include(){this.included||(this.included=!0,this.context.includeVariableInModule(this.variable))}initialise(){this.alias=this.scope.findLexicalBoundary()instanceof db?this.context.moduleContext:null,this.alias==="undefined"&&this.context.log(ke,{code:"THIS_IS_UNDEFINED",message:"The 'this' keyword is equivalent to 'undefined' at the top level of an ES module, and has been rewritten",url:Bt("troubleshooting/#error-this-is-undefined")},this.start)}render(i){this.alias!==null&&i.overwrite(this.start,this.end,this.alias,{contentOnly:!1,storeName:!0})}},ThrowStatement:class extends ce{hasEffects(){return!0}include(i,e){this.included=!0,this.argument.include(i,e),i.brokenFlow=!0}render(i,e){this.argument.render(i,e,{preventASI:!0}),this.argument.start===this.start+5&&i.prependLeft(this.start+5," ")}},TryStatement:class extends ce{constructor(){super(...arguments),this.directlyIncluded=!1,this.includedLabelsAfterBlock=null}hasEffects(i){return(this.context.options.treeshake.tryCatchDeoptimization?this.block.body.length>0:this.block.hasEffects(i))||!!this.finalizer?.hasEffects(i)}include(i,e){const t=this.context.options.treeshake?.tryCatchDeoptimization,{brokenFlow:n,includedLabels:s}=i;if(this.directlyIncluded&&t){if(this.includedLabelsAfterBlock)for(const r of this.includedLabelsAfterBlock)s.add(r)}else this.included=!0,this.directlyIncluded=!0,this.block.include(i,t?NS:e),s.size>0&&(this.includedLabelsAfterBlock=[...s]),i.brokenFlow=n;this.handler!==null&&(this.handler.include(i,e),i.brokenFlow=n),this.finalizer?.include(i,e)}},UnaryExpression:class extends ce{getLiteralValueAtPath(i,e,t){if(i.length>0)return ct;const n=this.argument.getLiteralValueAtPath(Ce,e,t);return typeof n=="symbol"?ct:nQ[this.operator](n)}hasEffects(i){return this.deoptimized||this.applyDeoptimizations(),!(this.operator==="typeof"&&this.argument instanceof nt)&&(this.argument.hasEffects(i)||this.operator==="delete"&&this.argument.hasEffectsOnInteractionAtPath(Ce,vp,i))}hasEffectsOnInteractionAtPath(i,{type:e}){return e!==0||i.length>(this.operator==="void"?0:1)}applyDeoptimizations(){this.deoptimized=!0,this.operator==="delete"&&(this.argument.deoptimizePath(Ce),this.context.requestTreeshakingPass())}},UnknownNode:class extends ce{hasEffects(){return!0}include(i){super.include(i,!0)}},UpdateExpression:class extends ce{hasEffects(i){return this.deoptimized||this.applyDeoptimizations(),this.argument.hasEffectsAsAssignmentTarget(i,!0)}hasEffectsOnInteractionAtPath(i,{type:e}){return i.length>1||e!==0}include(i,e){this.deoptimized||this.applyDeoptimizations(),this.included=!0,this.argument.includeAsAssignmentTarget(i,e,!0)}initialise(){this.argument.setAssignedValue(Pe)}render(i,e){const{exportNamesByVariable:t,format:n,snippets:{_:s}}=e;if(this.argument.render(i,e),n==="system"){const r=this.argument.variable,o=t.get(r);if(o)if(this.prefix)o.length===1?cd(r,this.start,this.end,i,e):uy(r,this.start,this.end,this.parent.type!==Li,i,e);else{const a=this.operator[0];(function(l,h,c,f,p,g,y){const{_:v}=g.snippets;p.prependRight(h,`${sr([l],g,y)},${v}`),f&&(p.prependRight(h,"("),p.appendLeft(c,")"))})(r,this.start,this.end,this.parent.type!==Li,i,e,`${s}${a}${s}1`)}}}applyDeoptimizations(){this.deoptimized=!0,this.argument.deoptimizePath(Ce),this.argument instanceof nt&&(this.scope.findVariable(this.argument.name).isReassigned=!0),this.context.requestTreeshakingPass()}},VariableDeclaration:pb,VariableDeclarator:xy,WhileStatement:class extends ce{hasEffects(i){return!!this.test.hasEffects(i)||kl(i,this.body)}include(i,e){this.included=!0,this.test.include(i,e),So(i,this.body,e)}},YieldExpression:class extends ce{hasEffects(i){return this.deoptimized||this.applyDeoptimizations(),!(i.ignore.returnYield&&!this.argument?.hasEffects(i))}render(i,e){this.argument&&(this.argument.render(i,e,{preventASI:!0}),this.argument.start===this.start+5&&i.prependLeft(this.start+5," "))}}},Gr="_missingExportShim";class sQ extends lr{constructor(e){super(Gr),this.module=e}include(){super.include(),this.module.needsExportShim=!0}}class Fo extends lr{constructor(e){super(e.getModuleName()),this.memberVariables=null,this.mergedNamespaces=[],this.referencedEarly=!1,this.references=[],this.context=e,this.module=e.module}addReference(e){this.references.push(e),this.name=e.name}deoptimizeArgumentsOnInteractionAtPath(e,t,n){if(t.length>1||t.length===1&&e.type===2){const s=t[0];typeof s=="string"?this.getMemberVariables()[s]?.deoptimizeArgumentsOnInteractionAtPath(e,t.slice(1),n):ks(e)}}deoptimizePath(e){if(e.length>1){const t=e[0];typeof t=="string"&&this.getMemberVariables()[t]?.deoptimizePath(e.slice(1))}}getLiteralValueAtPath(e){return e[0]===yp?"Module":ct}getMemberVariables(){if(this.memberVariables)return this.memberVariables;const e=Object.create(null),t=[...this.context.getExports(),...this.context.getReexports()].sort();for(const n of t)if(n[0]!=="*"&&n!==this.module.info.syntheticNamedExports){const s=this.context.traceExport(n);s&&(e[n]=s)}return this.memberVariables=e}hasEffectsOnInteractionAtPath(e,t,n){const{type:s}=t;if(e.length===0)return!0;if(e.length===1&&s!==2)return s===1;const r=e[0];if(typeof r!="string")return!0;const o=this.getMemberVariables()[r];return!o||o.hasEffectsOnInteractionAtPath(e.slice(1),t,n)}include(){this.included=!0,this.context.includeAllExports()}prepare(e){this.mergedNamespaces.length>0&&this.module.scope.addAccessedGlobals([Hh],e)}renderBlock(e){const{exportNamesByVariable:t,format:n,freeze:s,indent:r,namespaceToStringTag:o,snippets:{_:a,cnst:l,getObject:h,getPropertyAccess:c,n:f,s:p}}=e,g=this.getMemberVariables(),y=Object.entries(g).filter(([w,k])=>k.included).map(([w,k])=>this.referencedEarly||k.isReassigned||k===this?[null,`get ${w}${a}()${a}{${a}return ${k.getName(c)}${p}${a}}`]:[w,k.getName(c)]);y.unshift([null,`__proto__:${a}null`]);let v=h(y,{lineBreakIndent:{base:"",t:r}});if(this.mergedNamespaces.length>0){const w=this.mergedNamespaces.map(k=>k.getName(c));v=`/*#__PURE__*/${Hh}(${v},${a}[${w.join(`,${a}`)}])`}else o&&(v=`/*#__PURE__*/Object.defineProperty(${v},${a}Symbol.toStringTag,${a}${va(h)})`),s&&(v=`/*#__PURE__*/Object.freeze(${v})`);return v=`${l} ${this.getName(c)}${a}=${a}${v};`,n==="system"&&t.has(this)&&(v+=`${f}${sr([this],e)};`),v}renderFirst(){return this.referencedEarly}setMergedNamespaces(e){this.mergedNamespaces=e;const t=this.context.getModuleExecIndex();for(const n of this.references)if(n.context.getModuleExecIndex()<=t){this.referencedEarly=!0;break}}}Fo.prototype.isNamespace=!0;class ci extends lr{constructor(e,t,n){super(t),this.baseVariable=null,this.context=e,this.module=e.module,this.syntheticNamespace=n}getBaseVariable(){if(this.baseVariable)return this.baseVariable;let e=this.syntheticNamespace;for(;e instanceof An||e instanceof ci;){if(e instanceof An){const t=e.getOriginalVariable();if(t===e)break;e=t}e instanceof ci&&(e=e.syntheticNamespace)}return this.baseVariable=e}getBaseVariableName(){return this.syntheticNamespace.getBaseVariableName()}getName(e){return`${this.syntheticNamespace.getName(e)}${e(this.name)}`}include(){this.included=!0,this.context.includeVariableInModule(this.syntheticNamespace)}setRenderNames(e,t){super.setRenderNames(e,t)}}var gs;(function(i){i[i.LOAD_AND_PARSE=0]="LOAD_AND_PARSE",i[i.ANALYSE=1]="ANALYSE",i[i.GENERATE=2]="GENERATE"})(gs||(gs={}));const mb=new WeakMap;function Rp(i,e){if(i){const t=mb.get(i);t&&function(n){n.encodedMappings===void 0&&n.decodedMappings&&(n.encodedMappings=gp.encode(n.decodedMappings)),n.decodedMappings=void 0}(t)}if(e)for(const t of e)t.missing||Rp(t)}function Br(i){if(!i)return null;if(typeof i=="string"&&(i=JSON.parse(i)),!i.mappings)return{mappings:[],names:[],sources:[],version:3};const e=i.mappings,t=Array.isArray(e),n={decodedMappings:t?e:void 0,encodedMappings:t?void 0:e},s={...i,get mappings(){return n.decodedMappings||(n.decodedMappings=n.encodedMappings?gp.decode(n.encodedMappings):[],n.encodedMappings=void 0),n.decodedMappings}};return mb.set(s,n),s}function Qu(i){return i.id}const vd=i=>{const e=i.key;return e&&(e.name||e.value)};function nh(i,e){const t=Object.keys(i);return t.length!==Object.keys(e).length||t.some(n=>i[n]!==e[n])}var gb="performance"in(typeof globalThis>"u"?typeof window>"u"?{}:window:globalThis)?performance:{now:()=>0},Ob={memoryUsage:()=>({heapUsed:0})};let xa=new Map;function yb(i,e){switch(e){case 1:return`# ${i}`;case 2:return`## ${i}`;case 3:return i;default:return`${"  ".repeat(e-4)}- ${i}`}}function rQ(i,e=3){i=yb(i,e);const t=Ob.memoryUsage().heapUsed,n=gb.now(),s=xa.get(i);s===void 0?xa.set(i,{memory:0,startMemory:t,startTime:n,time:0,totalMemory:0}):(s.startMemory=t,s.startTime=n)}function oQ(i,e=3){i=yb(i,e);const t=xa.get(i);if(t!==void 0){const n=Ob.memoryUsage().heapUsed;t.memory+=n-t.startMemory,t.time+=gb.now()-t.startTime,t.totalMemory=Math.max(t.totalMemory,n)}}function aQ(){const i={};for(const[e,{memory:t,time:n,totalMemory:s}]of xa)i[e]=[n,t,s];return i}let At=tn,xt=tn;const lQ=["augmentChunkHash","buildEnd","buildStart","generateBundle","load","moduleParsed","options","outputOptions","renderChunk","renderDynamicImport","renderStart","resolveDynamicImport","resolveFileUrl","resolveId","resolveImportMeta","shouldTransformCachedModule","transform","writeBundle"];function hQ(i,e){for(const t of lQ)if(t in i){let n=`plugin ${e}`;i.name&&(n+=` (${i.name})`),n+=` - ${t}`;const s=function(...o){At(n,4);const a=r.apply(this,o);return xt(n,4),a};let r;typeof i[t].handler=="function"?(r=i[t].handler,i[t].handler=s):(r=i[t],i[t]=s)}return i}function Lo(i){i.isExecuted=!0;const e=[i],t=new Set;for(const n of e)for(const s of[...n.dependencies,...n.implicitlyLoadedBefore])s instanceof st||s.isExecuted||!s.info.moduleSideEffects&&!n.implicitlyLoadedBefore.has(s)||t.has(s.id)||(s.isExecuted=!0,t.add(s.id),e.push(s))}const Cy={identifier:null,localName:Gr};function Ru(i,e,t,n,s=new Map){const r=s.get(e);if(r){if(r.has(i))return n?[null]:oe((o=e,a=i.id,{code:U_,exporter:a,message:`"${o}" cannot be exported from "${Ae(a)}" as it is a reexport that references itself.`}));r.add(i)}else s.set(e,new Set([i]));var o,a;return i.getVariableForExportName(e,{importerForSideEffects:t,isExportAllSearch:n,searchedNamesAndModules:s})}function $y(i,e){const t=Ci(e.sideEffectDependenciesByVariable,i,nr);let n=i;const s=new Set([n]);for(;;){const r=n.module;if(n=n instanceof An?n.getDirectOriginalVariable():n instanceof ci?n.syntheticNamespace:null,!n||s.has(n))break;s.add(n),t.add(r);const o=r.sideEffectDependenciesByVariable.get(n);if(o)for(const a of o)t.add(a)}return t}class mt{constructor(e,t,n,s,r,o,a,l){this.graph=e,this.id=t,this.options=n,this.alternativeReexportModules=new Map,this.chunkFileNames=new Set,this.chunkNames=[],this.cycles=new Set,this.dependencies=new Set,this.dynamicDependencies=new Set,this.dynamicImporters=[],this.dynamicImports=[],this.execIndex=1/0,this.implicitlyLoadedAfter=new Set,this.implicitlyLoadedBefore=new Set,this.importDescriptions=new Map,this.importMetas=[],this.importedFromNotTreeshaken=!1,this.importers=[],this.includedDynamicImporters=[],this.includedImports=new Set,this.isExecuted=!1,this.isUserDefinedEntryPoint=!1,this.needsExportShim=!1,this.sideEffectDependenciesByVariable=new Map,this.sourcesWithAssertions=new Map,this.allExportNames=null,this.ast=null,this.exportAllModules=[],this.exportAllSources=new Set,this.exportNamesByVariable=null,this.exportShimVariable=new sQ(this),this.exports=new Map,this.namespaceReexportsByName=new Map,this.reexportDescriptions=new Map,this.relevantDependencies=null,this.syntheticExports=new Map,this.syntheticNamespace=null,this.transformDependencies=[],this.transitiveReexports=null,this.excludeFromSourcemap=/\0/.test(t),this.context=n.moduleContext(t),this.preserveSignature=this.options.preserveEntrySignatures;const h=this,{dynamicImports:c,dynamicImporters:f,exportAllSources:p,exports:g,implicitlyLoadedAfter:y,implicitlyLoadedBefore:v,importers:w,reexportDescriptions:k,sourcesWithAssertions:T}=this;this.info={assertions:l,ast:null,code:null,get dynamicallyImportedIdResolutions(){return c.map(({argument:$})=>typeof $=="string"&&h.resolvedIds[$]).filter(Boolean)},get dynamicallyImportedIds(){return c.map(({id:$})=>$).filter($=>$!=null)},get dynamicImporters(){return f.sort()},get exportedBindings(){const $={".":[...g.keys()]};for(const[E,{source:_}]of k)($[_]??($[_]=[])).push(E);for(const E of p)($[E]??($[E]=[])).push("*");return $},get exports(){return[...g.keys(),...k.keys(),...[...p].map(()=>"*")]},get hasDefaultExport(){return h.ast?h.exports.has("default")||k.has("default"):null},get hasModuleSideEffects(){return hr("Accessing ModuleInfo.hasModuleSideEffects from plugins is deprecated. Please use ModuleInfo.moduleSideEffects instead.",wS,!0,n),this.moduleSideEffects},id:t,get implicitlyLoadedAfterOneOf(){return Array.from(y,Qu).sort()},get implicitlyLoadedBefore(){return Array.from(v,Qu).sort()},get importedIdResolutions(){return Array.from(T.keys(),$=>h.resolvedIds[$]).filter(Boolean)},get importedIds(){return Array.from(T.keys(),$=>h.resolvedIds[$]?.id).filter(Boolean)},get importers(){return w.sort()},isEntry:s,isExternal:!1,get isIncluded(){return e.phase!==gs.GENERATE?null:h.isIncluded()},meta:{...a},moduleSideEffects:r,syntheticNamedExports:o},Object.defineProperty(this.info,"hasModuleSideEffects",{enumerable:!1})}basename(){const e=Fn(this.id),t=ds(this.id);return xp(t?e.slice(0,-t.length):e)}bindReferences(){this.ast.bind()}error(e,t){return this.addLocationToLogProps(e,t),oe(e)}estimateSize(){let e=0;for(const t of this.ast.body)t.included&&(e+=t.end-t.start);return e}getAllExportNames(){if(this.allExportNames)return this.allExportNames;this.allExportNames=new Set([...this.exports.keys(),...this.reexportDescriptions.keys()]);for(const e of this.exportAllModules)if(e instanceof st)this.allExportNames.add(`*${e.id}`);else for(const t of e.getAllExportNames())t!=="default"&&this.allExportNames.add(t);return typeof this.info.syntheticNamedExports=="string"&&this.allExportNames.delete(this.info.syntheticNamedExports),this.allExportNames}getDependenciesToBeIncluded(){if(this.relevantDependencies)return this.relevantDependencies;this.relevantDependencies=new Set;const e=new Set,t=new Set,n=new Set(this.includedImports);if(this.info.isEntry||this.includedDynamicImporters.length>0||this.namespace.included||this.implicitlyLoadedAfter.size>0)for(const s of[...this.getReexports(),...this.getExports()]){const[r]=this.getVariableForExportName(s);r?.included&&n.add(r)}for(let s of n){const r=this.sideEffectDependenciesByVariable.get(s);if(r)for(const o of r)t.add(o);s instanceof ci?s=s.getBaseVariable():s instanceof An&&(s=s.getOriginalVariable()),e.add(s.module)}if(this.options.treeshake&&this.info.moduleSideEffects!=="no-treeshake")this.addRelevantSideEffectDependencies(this.relevantDependencies,e,t);else for(const s of this.dependencies)this.relevantDependencies.add(s);for(const s of e)this.relevantDependencies.add(s);return this.relevantDependencies}getExportNamesByVariable(){if(this.exportNamesByVariable)return this.exportNamesByVariable;const e=new Map;for(const t of this.getAllExportNames()){let[n]=this.getVariableForExportName(t);if(n instanceof An&&(n=n.getOriginalVariable()),!n||!(n.included||n instanceof Xh))continue;const s=e.get(n);s?s.push(t):e.set(n,[t])}return this.exportNamesByVariable=e}getExports(){return[...this.exports.keys()]}getReexports(){if(this.transitiveReexports)return this.transitiveReexports;this.transitiveReexports=[];const e=new Set(this.reexportDescriptions.keys());for(const t of this.exportAllModules)if(t instanceof st)e.add(`*${t.id}`);else for(const n of[...t.getReexports(),...t.getExports()])n!=="default"&&e.add(n);return this.transitiveReexports=[...e]}getRenderedExports(){const e=[],t=[];for(const n of this.exports.keys()){const[s]=this.getVariableForExportName(n);(s&&s.included?e:t).push(n)}return{removedExports:t,renderedExports:e}}getSyntheticNamespace(){return this.syntheticNamespace===null&&(this.syntheticNamespace=void 0,[this.syntheticNamespace]=this.getVariableForExportName(typeof this.info.syntheticNamedExports=="string"?this.info.syntheticNamedExports:"default",{onlyExplicit:!0})),this.syntheticNamespace?this.syntheticNamespace:oe((e=this.id,t=this.info.syntheticNamedExports,{code:"SYNTHETIC_NAMED_EXPORTS_NEED_NAMESPACE_EXPORT",exporter:e,message:`Module "${Ae(e)}" that is marked with \`syntheticNamedExports: ${JSON.stringify(t)}\` needs ${typeof t=="string"&&t!=="default"?`an explicit export named "${t}"`:"a default export"} that does not reexport an unresolved named export of the same module.`}));var e,t}getVariableForExportName(e,{importerForSideEffects:t,isExportAllSearch:n,onlyExplicit:s,searchedNamesAndModules:r}=Si){if(e[0]==="*")return e.length===1?[this.namespace]:this.graph.modulesById.get(e.slice(1)).getVariableForExportName("*");const o=this.reexportDescriptions.get(e);if(o){const[l]=Ru(o.module,o.localName,t,!1,r);return l?(t&&(Py(l,t,this),this.info.moduleSideEffects&&Ci(t.sideEffectDependenciesByVariable,l,nr).add(this)),[l]):this.error(Zh(o.localName,this.id,o.module.id),o.start)}const a=this.exports.get(e);if(a){if(a===Cy)return[this.exportShimVariable];const l=a.localName,h=this.traceVariable(l,{importerForSideEffects:t,searchedNamesAndModules:r});return t&&(Py(h,t,this),Ci(t.sideEffectDependenciesByVariable,h,nr).add(this)),[h]}if(s)return[null];if(e!=="default"){const l=this.namespaceReexportsByName.get(e)??this.getVariableFromNamespaceReexports(e,t,r);if(this.namespaceReexportsByName.set(e,l),l[0])return l}return this.info.syntheticNamedExports?[Ci(this.syntheticExports,e,()=>new ci(this.astContext,e,this.getSyntheticNamespace()))]:!n&&this.options.shimMissingExports?(this.shimMissingExport(e),[this.exportShimVariable]):[null]}hasEffects(){return this.info.moduleSideEffects==="no-treeshake"||this.ast.hasCachedEffects()}include(){const e=id();this.ast.shouldBeIncluded(e)&&this.ast.include(e,!1)}includeAllExports(e){this.isExecuted||(Lo(this),this.graph.needsTreeshakingPass=!0);for(const t of this.exports.keys())if(e||t!==this.info.syntheticNamedExports){const n=this.getVariableForExportName(t)[0];n.deoptimizePath(Be),n.included||this.includeVariable(n)}for(const t of this.getReexports()){const[n]=this.getVariableForExportName(t);n&&(n.deoptimizePath(Be),n.included||this.includeVariable(n),n instanceof Xh&&(n.module.reexported=!0))}e&&this.namespace.setMergedNamespaces(this.includeAndGetAdditionalMergedNamespaces())}includeAllInBundle(){this.ast.include(id(),!0),this.includeAllExports(!1)}includeExportsByNames(e){this.isExecuted||(Lo(this),this.graph.needsTreeshakingPass=!0);let t=!1;for(const n of e){const s=this.getVariableForExportName(n)[0];s&&(s.deoptimizePath(Be),s.included||this.includeVariable(s)),this.exports.has(n)||this.reexportDescriptions.has(n)||(t=!0)}t&&this.namespace.setMergedNamespaces(this.includeAndGetAdditionalMergedNamespaces())}isIncluded(){return this.ast&&(this.ast.included||this.namespace.included||this.importedFromNotTreeshaken||this.exportShimVariable.included)}linkImports(){this.addModulesToImportDescriptions(this.importDescriptions),this.addModulesToImportDescriptions(this.reexportDescriptions);const e=[];for(const t of this.exportAllSources){const n=this.graph.modulesById.get(this.resolvedIds[t].id);n instanceof st?e.push(n):this.exportAllModules.push(n)}this.exportAllModules.push(...e)}log(e,t,n){this.addLocationToLogProps(t,n),this.options.onLog(e,t)}render(e){const t=this.magicString.clone();this.ast.render(t,e),t.trim();const{usesTopLevelAwait:n}=this.astContext;return n&&e.format!=="es"&&e.format!=="system"?oe((s=this.id,r=e.format,{code:"INVALID_TLA_FORMAT",id:s,message:`Module format "${r}" does not support top-level await. Use the "es" or "system" output formats rather.`})):{source:t,usesTopLevelAwait:n};var s,r}setSource({ast:e,code:t,customTransformCache:n,originalCode:s,originalSourcemap:r,resolvedIds:o,sourcemapChain:a,transformDependencies:l,transformFiles:h,...c}){At("generate ast",3),this.info.code=t,this.originalCode=s,this.originalSourcemap=Br(r),this.sourcemapChain=a.map(g=>g.missing?g:Br(g)),Rp(this.originalSourcemap,this.sourcemapChain),h&&(this.transformFiles=h),this.transformDependencies=l,this.customTransformCache=n,this.updateOptions(c);const f=e??this.tryParse();xt("generate ast",3),At("analyze ast",3),this.resolvedIds=o??Object.create(null);const p=this.id;this.magicString=new Ws(t,{filename:this.excludeFromSourcemap?null:p,indentExclusionRanges:[]}),this.astContext={addDynamicImport:this.addDynamicImport.bind(this),addExport:this.addExport.bind(this),addImport:this.addImport.bind(this),addImportMeta:this.addImportMeta.bind(this),code:t,deoptimizationTracker:this.graph.deoptimizationTracker,error:this.error.bind(this),fileName:p,getExports:this.getExports.bind(this),getModuleExecIndex:()=>this.execIndex,getModuleName:this.basename.bind(this),getNodeConstructor:g=>ky[g]||ky.UnknownNode,getReexports:this.getReexports.bind(this),importDescriptions:this.importDescriptions,includeAllExports:()=>this.includeAllExports(!0),includeDynamicImport:this.includeDynamicImport.bind(this),includeVariableInModule:this.includeVariableInModule.bind(this),log:this.log.bind(this),magicString:this.magicString,manualPureFunctions:this.graph.pureFunctions,module:this,moduleContext:this.context,options:this.options,requestTreeshakingPass:()=>this.graph.needsTreeshakingPass=!0,traceExport:g=>this.getVariableForExportName(g)[0],traceVariable:this.traceVariable.bind(this),usesTopLevelAwait:!1},this.scope=new db(this.graph.scope,this.astContext),this.namespace=new Fo(this.astContext),this.ast=new hb(f,{context:this.astContext,type:"Module"},this.scope),e||this.options.cache!==!1?this.info.ast=f:Object.defineProperty(this.info,"ast",{get:()=>{if(this.graph.astLru.has(p))return this.graph.astLru.get(p);{const g=this.tryParse();return this.graph.astLru.set(p,g),g}}}),xt("analyze ast",3)}toJSON(){return{assertions:this.info.assertions,ast:this.info.ast,code:this.info.code,customTransformCache:this.customTransformCache,dependencies:Array.from(this.dependencies,Qu),id:this.id,meta:this.info.meta,moduleSideEffects:this.info.moduleSideEffects,originalCode:this.originalCode,originalSourcemap:this.originalSourcemap,resolvedIds:this.resolvedIds,sourcemapChain:this.sourcemapChain,syntheticNamedExports:this.info.syntheticNamedExports,transformDependencies:this.transformDependencies,transformFiles:this.transformFiles}}traceVariable(e,{importerForSideEffects:t,isExportAllSearch:n,searchedNamesAndModules:s}=Si){const r=this.scope.variables.get(e);if(r)return r;const o=this.importDescriptions.get(e);if(o){const a=o.module;if(a instanceof mt&&o.name==="*")return a.namespace;const[l]=Ru(a,o.name,t||this,n,s);return l||this.error(Zh(o.name,this.id,a.id),o.start)}return null}updateOptions({meta:e,moduleSideEffects:t,syntheticNamedExports:n}){t!=null&&(this.info.moduleSideEffects=t),n!=null&&(this.info.syntheticNamedExports=n),e!=null&&Object.assign(this.info.meta,e)}addDynamicImport(e){let t=e.source;t instanceof ub?t.quasis.length===1&&t.quasis[0].value.cooked&&(t=t.quasis[0].value.cooked):t instanceof Zs&&typeof t.value=="string"&&(t=t.value),this.dynamicImports.push({argument:t,id:null,node:e,resolution:null})}addExport(e){if(e instanceof $c)this.exports.set("default",{identifier:e.variable.getAssignedVariableName(),localName:"default"});else if(e instanceof Tp){const t=e.source.value;if(this.addSource(t,e),e.exported){const n=e.exported.name;this.reexportDescriptions.set(n,{localName:"*",module:null,source:t,start:e.start})}else this.exportAllSources.add(t)}else if(e.source instanceof Zs){const t=e.source.value;this.addSource(t,e);for(const{exported:n,local:s,start:r}of e.specifiers){const o=n instanceof Zs?n.value:n.name;this.reexportDescriptions.set(o,{localName:s instanceof Zs?s.value:s.name,module:null,source:t,start:r})}}else if(e.declaration){const t=e.declaration;if(t instanceof pb)for(const n of t.declarations)for(const s of mT(n.id))this.exports.set(s,{identifier:null,localName:s});else{const n=t.id.name;this.exports.set(n,{identifier:null,localName:n})}}else for(const{local:t,exported:n}of e.specifiers){const s=t.name,r=n instanceof nt?n.name:n.value;this.exports.set(r,{identifier:null,localName:s})}}addImport(e){const t=e.source.value;this.addSource(t,e);for(const n of e.specifiers){const s=n instanceof nb?"default":n instanceof lb?"*":n.imported instanceof nt?n.imported.name:n.imported.value;this.importDescriptions.set(n.local.name,{module:null,name:s,source:t,start:n.start})}}addImportMeta(e){this.importMetas.push(e)}addLocationToLogProps(e,t){e.id=this.id,e.pos=t;let n=this.info.code;const s=Sp(n,t,{offsetLine:1});if(s){let{column:r,line:o}=s;try{({column:r,line:o}=function(a,l){const h=a.filter(c=>!c.missing);e:for(;h.length>0;){const c=h.pop().mappings[l.line-1];if(c){const f=c.filter(g=>g.length>1),p=f[f.length-1];for(const g of f)if(g[0]>=l.column||g===p){l={column:g[3],line:g[2]+1};continue e}}throw new Error("Can't resolve original location of error.")}return l}(this.sourcemapChain,{column:r,line:o})),n=this.originalCode}catch(a){this.options.onLog(ke,function(l,h,c,f,p){return{cause:l,code:"SOURCEMAP_ERROR",id:h,loc:{column:c,file:h,line:f},message:`Error when using sourcemap for reporting an error: ${l.message}`,pos:p}}(a,this.id,r,o,t))}zh(e,{column:r,line:o},n,this.id)}}addModulesToImportDescriptions(e){for(const t of e.values()){const{id:n}=this.resolvedIds[t.source];t.module=this.graph.modulesById.get(n)}}addRelevantSideEffectDependencies(e,t,n){const s=new Set,r=o=>{for(const a of o)s.has(a)||(s.add(a),t.has(a)?e.add(a):(a.info.moduleSideEffects||n.has(a))&&(a instanceof st||a.hasEffects()?e.add(a):r(a.dependencies)))};r(this.dependencies),r(n)}addSource(e,t){const n=(s=t.assertions,s?.length?Object.fromEntries(s.map(o=>[vd(o),o.value.value])):Si);var s;const r=this.sourcesWithAssertions.get(e);r?nh(r,n)&&this.log(ke,Jl(r,n,e,this.id),t.start):this.sourcesWithAssertions.set(e,n)}getVariableFromNamespaceReexports(e,t,n){let s=null;const r=new Map,o=new Set;for(const c of this.exportAllModules){if(c.info.syntheticNamedExports===e)continue;const[f,p]=Ru(c,e,t,!0,cQ(n));c instanceof st||p?o.add(f):f instanceof ci?s||(s=f):f&&r.set(f,c)}if(r.size>0){const c=[...r],f=c[0][0];return c.length===1?[f]:(this.options.onLog(ke,(a=e,l=this.id,h=c.map(([,p])=>p.id),{binding:a,code:"NAMESPACE_CONFLICT",ids:h,message:`Conflicting namespaces: "${Ae(l)}" re-exports "${a}" from one of the modules ${Wn(h.map(p=>Ae(p)))} (will be ignored).`,reexporter:l})),[null])}var a,l,h;if(o.size>0){const c=[...o],f=c[0];return c.length>1&&this.options.onLog(ke,function(p,g,y,v){return{binding:p,code:"AMBIGUOUS_EXTERNAL_NAMESPACES",ids:v,message:`Ambiguous external namespace resolution: "${Ae(g)}" re-exports "${p}" from one of the external modules ${Wn(v.map(w=>Ae(w)))}, guessing "${Ae(y)}".`,reexporter:g}}(e,this.id,f.module.id,c.map(p=>p.module.id))),[f,!0]}return s?[s]:[null]}includeAndGetAdditionalMergedNamespaces(){const e=new Set,t=new Set;for(const n of[this,...this.exportAllModules])if(n instanceof st){const[s]=n.getVariableForExportName("*");s.include(),this.includedImports.add(s),e.add(s)}else if(n.info.syntheticNamedExports){const s=n.getSyntheticNamespace();s.include(),this.includedImports.add(s),t.add(s)}return[...t,...e]}includeDynamicImport(e){const t=this.dynamicImports.find(n=>n.node===e).resolution;if(t instanceof mt){t.includedDynamicImporters.push(this);const n=this.options.treeshake?e.getDeterministicImportedNames():void 0;n?t.includeExportsByNames(n):t.includeAllExports(!0)}}includeVariable(e){const t=e.module;if(e.included)t instanceof mt&&t!==this&&$y(e,this);else if(e.include(),this.graph.needsTreeshakingPass=!0,t instanceof mt&&(t.isExecuted||Lo(t),t!==this)){const n=$y(e,this);for(const s of n)s.isExecuted||Lo(s)}}includeVariableInModule(e){this.includeVariable(e);const t=e.module;t&&t!==this&&this.includedImports.add(e)}shimMissingExport(e){var t,n;this.options.onLog(ke,(t=this.id,{binding:n=e,code:"SHIMMED_EXPORT",exporter:t,message:`Missing export "${n}" has been shimmed in module "${Ae(t)}".`})),this.exports.set(e,Cy)}tryParse(){try{return this.graph.contextParse(this.info.code)}catch(e){return this.error(function(t,n){let s=t.message.replace(/ \(\d+:\d+\)$/,"");return n.endsWith(".json")?s+=" (Note that you need @rollup/plugin-json to import JSON files)":n.endsWith(".js")||(s+=" (Note that you need plugins to import files that are not JavaScript)"),{cause:t,code:"PARSE_ERROR",id:n,message:s}}(e,this.id),e.pos)}}}function Py(i,e,t){if(i.module instanceof mt&&i.module!==t){const n=i.module.cycles;if(n.size>0){const s=t.cycles;for(const r of s)if(n.has(r)){e.alternativeReexportModules.set(i,t);break}}}}const cQ=i=>i&&new Map(Array.from(i,([e,t])=>[e,new Set(t)]));function vb(i){return i.endsWith(".js")?i.slice(0,-3):i}function Ey(i,e){return i.autoId?`${i.basePath?i.basePath+"/":""}${vb(e)}`:i.id??""}function $l(i,e,t,n,s,r,o,a="return "){const{_:l,getDirectReturnFunction:h,getFunctionIntro:c,getPropertyAccess:f,n:p,s:g}=s;if(!t)return`${p}${p}${a}${function(v,w,k,T,$){if(v.length>0)return v[0].local;for(const{defaultVariableName:E,importPath:_,isChunk:N,name:z,namedExportsMode:Q,namespaceVariableName:M,reexports:V}of w)if(V)return Ay(z,V[0].imported,Q,N,E,M,k,_,T,$)}(i,e,n,o,f)};`;let y="";for(const{defaultVariableName:v,importPath:w,isChunk:k,name:T,namedExportsMode:$,namespaceVariableName:E,reexports:_}of e)if(_&&t){for(const N of _)if(N.reexported!=="*"){const z=Ay(T,N.imported,$,k,v,E,n,w,o,f);if(y&&(y+=p),N.imported!=="*"&&N.needsLiveBinding){const[Q,M]=h([],{functionReturn:!0,lineBreakIndent:null,name:null});y+=`Object.defineProperty(exports,${l}'${N.reexported}',${l}{${p}${r}enumerable:${l}true,${p}${r}get:${l}${Q}${z}${M}${p}});`}else y+=`exports${f(N.reexported)}${l}=${l}${z};`}}for(const{exported:v,local:w}of i){const k=`exports${f(v)}`;k!==w&&(y&&(y+=p),y+=`${k}${l}=${l}${w};`)}for(const{name:v,reexports:w}of e)if(w&&t){for(const k of w)if(k.reexported==="*"){y&&(y+=p);const T=`{${p}${r}if${l}(k${l}!==${l}'default'${l}&&${l}!Object.prototype.hasOwnProperty.call(exports,${l}k))${l}${uQ(v,k.needsLiveBinding,r,s)}${g}${p}}`;y+=`Object.keys(${v}).forEach(${c(["k"],{isAsync:!1,name:null})}${T});`}}return y?`${p}${p}${y}`:""}function Ay(i,e,t,n,s,r,o,a,l,h){if(e==="default"){if(!n){const c=o(a),f=Pc[c]?s:i;return Ec(c,l)?`${f}${h("default")}`:f}return t?`${i}${h("default")}`:i}return e==="*"?(n?!t:za[o(a)])?r:i:`${i}${h(e)}`}function Iy(i){return i([["value","true"]],{lineBreakIndent:null})}function Pl(i,e,t,{_:n,getObject:s}){if(i){if(e)return t?`Object.defineProperties(exports,${n}${s([["__esModule",Iy(s)],[null,`[Symbol.toStringTag]:${n}${va(s)}`]],{lineBreakIndent:null})});`:`Object.defineProperty(exports,${n}'__esModule',${n}${Iy(s)});`;if(t)return`Object.defineProperty(exports,${n}Symbol.toStringTag,${n}${va(s)});`}return""}const uQ=(i,e,t,{_:n,getDirectReturnFunction:s,n:r})=>{if(e){const[o,a]=s([],{functionReturn:!0,lineBreakIndent:null,name:null});return`Object.defineProperty(exports,${n}k,${n}{${r}${t}${t}enumerable:${n}true,${r}${t}${t}get:${n}${o}${i}[k]${a}${r}${t}})`}return`exports[k]${n}=${n}${i}[k]`};function El(i,e,t,n,s,r,o,a){const{_:l,cnst:h,n:c}=a,f=new Set,p=[],g=(y,v,w)=>{f.add(v),p.push(`${h} ${y}${l}=${l}/*#__PURE__*/${v}(${w});`)};for(const{defaultVariableName:y,imports:v,importPath:w,isChunk:k,name:T,namedExportsMode:$,namespaceVariableName:E,reexports:_}of i)if(k){for(const{imported:N,reexported:z}of[...v||[],..._||[]])if(N==="*"&&z!=="*"){$||g(E,ya,T);break}}else{const N=e(w);let z=!1,Q=!1;for(const{imported:M,reexported:V}of[...v||[],..._||[]]){let B,q;M==="default"?z||(z=!0,y!==E&&(q=y,B=Pc[N])):M!=="*"||V==="*"||Q||(Q=!0,B=za[N],q=E),B&&g(q,B,T)}}return`${md(f,r,o,a,t,n,s)}${p.length>0?`${p.join(c)}${c}${c}`:""}`}function My(i,e){return i[0]!=="."?i:e?(t=i).endsWith(".js")?t:t+".js":vb(i);var t}const fQ=new Set([...cS(["assert","async_hooks","buffer","child_process","cluster","console","constants","crypto","dgram","diagnostics_channel","dns","domain","events","fs","http","http2","https","inspector","module","net","os","path","perf_hooks","process","punycode","querystring","readline","repl","stream","string_decoder","timers","tls","trace_events","tty","url","util","v8","vm","wasi","worker_threads","zlib"]),"assert/strict","dns/promises","fs/promises","path/posix","path/win32","readline/promises","stream/consumers","stream/promises","stream/web","timers/promises","util/types"]);function Lu(i,e){const t=e.map(({importPath:n})=>n).filter(n=>fQ.has(n)||n.startsWith("node:"));t.length!==0&&i(ke,function(n){return{code:tT,ids:n,message:`Creating a browser bundle that depends on Node.js built-in modules (${Wn(n)}). You might need to include https://github.com/FredKSchott/rollup-plugin-polyfill-node`}}(t))}const sh=(i,e)=>i.split(".").map(e).join("");function Nu(i,e,t,n,{_:s,getPropertyAccess:r}){const o=i.split(".");o[0]=(typeof t=="function"?t(o[0]):t[o[0]])||o[0];const a=o.pop();let l=e,h=[...o.map(c=>(l+=r(c),`${l}${s}=${s}${l}${s}||${s}{}`)),`${l}${r(a)}`].join(`,${s}`)+`${s}=${s}${n}`;return o.length>0&&(h=`(${h})`),h}function _y(i){let e=i.length;for(;e--;){const{imports:t,reexports:n}=i[e];if(t||n)return i.slice(0,e+1)}return[]}const dQ=({dependencies:i,exports:e})=>{const t=new Set(e.map(n=>n.exported));t.add("default");for(const{reexports:n}of i)if(n)for(const s of n)s.reexported!=="*"&&t.add(s.reexported);return t},pQ=(i,e,{_:t,cnst:n,getObject:s,n:r})=>i?`${r}${e}${n} _starExcludes${t}=${t}${s([...i].map(o=>[o,"1"]),{lineBreakIndent:{base:e,t:e}})};`:"",mQ=(i,e,{_:t,n})=>i.length>0?`${n}${e}var ${i.join(`,${t}`)};`:"",gQ=(i,e,t)=>Lp(i.filter(n=>n.hoisted).map(n=>({name:n.exported,value:n.local})),e,t);function Lp(i,e,{_:t,n}){return i.length===0?"":i.length===1?`exports('${i[0].name}',${t}${i[0].value});${n}${n}`:`exports({${n}`+i.map(({name:s,value:r})=>`${e}${s}:${t}${r}`).join(`,${n}`)+`${n}});${n}${n}`}const OQ=(i,e,t)=>Lp(i.filter(n=>n.expression).map(n=>({name:n.exported,value:n.local})),e,t),yQ=(i,e,t)=>Lp(i.filter(n=>n.local===Gr).map(n=>({name:n.exported,value:Gr})),e,t);function Du(i,e,t){return i?`${e}${sh(i,t)}`:"null"}var vQ={amd:function(i,{accessedGlobals:e,dependencies:t,exports:n,hasDefaultExport:s,hasExports:r,id:o,indent:a,intro:l,isEntryFacade:h,isModuleFacade:c,namedExportsMode:f,log:p,outro:g,snippets:y},{amd:v,esModule:w,externalLiveBindings:k,freeze:T,interop:$,namespaceToStringTag:E,strict:_}){Lu(p,t);const N=t.map(X=>`'${My(X.importPath,v.forceJsExtensionForImports)}'`),z=t.map(X=>X.name),{n:Q,getNonArrowFunctionIntro:M,_:V}=y;f&&r&&(z.unshift("exports"),N.unshift("'exports'")),e.has("require")&&(z.unshift("require"),N.unshift("'require'")),e.has("module")&&(z.unshift("module"),N.unshift("'module'"));const B=Ey(v,o),q=(B?`'${B}',${V}`:"")+(N.length>0?`[${N.join(`,${V}`)}],${V}`:""),ee=_?`${V}'use strict';`:"";i.prepend(`${l}${El(t,$,k,T,E,e,a,y)}`);const K=$l(n,t,f,$,y,a,k);let H=Pl(f&&r,h&&(w===!0||w==="if-default-prop"&&s),c&&E,y);H&&(H=Q+Q+H),i.append(`${K}${H}${g}`).indent(a).prepend(`${v.define}(${q}(${M(z,{isAsync:!1,name:null})}{${ee}${Q}${Q}`).append(`${Q}${Q}}));`)},cjs:function(i,{accessedGlobals:e,dependencies:t,exports:n,hasDefaultExport:s,hasExports:r,indent:o,intro:a,isEntryFacade:l,isModuleFacade:h,namedExportsMode:c,outro:f,snippets:p},{compact:g,esModule:y,externalLiveBindings:v,freeze:w,interop:k,namespaceToStringTag:T,strict:$}){const{_:E,n:_}=p,N=$?`'use strict';${_}${_}`:"";let z=Pl(c&&r,l&&(y===!0||y==="if-default-prop"&&s),h&&T,p);z&&(z+=_+_);const Q=function(B,{_:q,cnst:ee,n:K},H){let X="",Y=!1;for(const{importPath:te,name:le,reexports:de,imports:Se}of B)de||Se?(X+=H&&Y?",":`${X?`;${K}`:""}${ee} `,Y=!0,X+=`${le}${q}=${q}require('${te}')`):(X&&(X+=H&&!Y?",":`;${K}`),Y=!1,X+=`require('${te}')`);return X?`${X};${K}${K}`:""}(t,p,g),M=El(t,k,v,w,T,e,o,p);i.prepend(`${N}${a}${z}${Q}${M}`);const V=$l(n,t,c,k,p,o,v,`module.exports${E}=${E}`);i.append(`${V}${f}`)},es:function(i,{accessedGlobals:e,indent:t,intro:n,outro:s,dependencies:r,exports:o,snippets:a},{externalLiveBindings:l,freeze:h,namespaceToStringTag:c}){const{n:f}=a,p=function(y,{_:v}){const w=[];for(const{importPath:k,reexports:T,imports:$,name:E,assertions:_}of y){const N=`'${k}'${_?`${v}assert${v}${_}`:""};`;if(T||$){if($){let z=null,Q=null;const M=[];for(const V of $)V.imported==="default"?z=V:V.imported==="*"?Q=V:M.push(V);Q&&w.push(`import${v}*${v}as ${Q.local} from${v}${N}`),z&&M.length===0?w.push(`import ${z.local} from${v}${N}`):M.length>0&&w.push(`import ${z?`${z.local},${v}`:""}{${v}${M.map(V=>V.imported===V.local?V.imported:`${V.imported} as ${V.local}`).join(`,${v}`)}${v}}${v}from${v}${N}`)}if(T){let z=null;const Q=[],M=[];for(const V of T)V.reexported==="*"?z=V:V.imported==="*"?Q.push(V):M.push(V);if(z&&w.push(`export${v}*${v}from${v}${N}`),Q.length>0){$&&$.some(V=>V.imported==="*"&&V.local===E)||w.push(`import${v}*${v}as ${E} from${v}${N}`);for(const V of Q)w.push(`export${v}{${v}${E===V.reexported?E:`${E} as ${V.reexported}`} };`)}M.length>0&&w.push(`export${v}{${v}${M.map(V=>V.imported===V.reexported?V.imported:`${V.imported} as ${V.reexported}`).join(`,${v}`)}${v}}${v}from${v}${N}`)}}else w.push(`import${v}${N}`)}return w}(r,a);p.length>0&&(n+=p.join(f)+f+f),(n+=md(null,e,t,a,l,h,c))&&i.prepend(n);const g=function(y,{_:v,cnst:w}){const k=[],T=[];for(const $ of y)$.expression&&k.push(`${w} ${$.local}${v}=${v}${$.expression};`),T.push($.exported===$.local?$.local:`${$.local} as ${$.exported}`);return T.length>0&&k.push(`export${v}{${v}${T.join(`,${v}`)}${v}};`),k}(o,a);g.length>0&&i.append(f+f+g.join(f).trim()),s&&i.append(s),i.trim()},iife:function(i,{accessedGlobals:e,dependencies:t,exports:n,hasDefaultExport:s,hasExports:r,indent:o,intro:a,namedExportsMode:l,log:h,outro:c,snippets:f},{compact:p,esModule:g,extend:y,freeze:v,externalLiveBindings:w,globals:k,interop:T,name:$,namespaceToStringTag:E,strict:_}){const{_:N,getNonArrowFunctionIntro:z,getPropertyAccess:Q,n:M}=f,V=$&&$.includes("."),B=!y&&!V;if($&&B&&(vS(q=$)||yS.test(q)))return oe(function(xe){return{code:Y_,message:`Given name "${xe}" is not a legal JS identifier. If you need this, you can try "output.extend: true".`,url:Bt(Q_)}}($));var q;Lu(h,t);const ee=_y(t),K=ee.map(xe=>xe.globalName||"null"),H=ee.map(xe=>xe.name);r&&!$&&h(ke,{code:ZO,message:'If you do not supply "output.name", you may not be able to access the exports of an IIFE bundle.',url:Bt(zO)}),l&&r&&(y?(K.unshift(`this${sh($,Q)}${N}=${N}this${sh($,Q)}${N}||${N}{}`),H.unshift("exports")):(K.unshift("{}"),H.unshift("exports")));const X=_?`${o}'use strict';${M}`:"",Y=El(t,T,w,v,E,e,o,f);i.prepend(`${a}${Y}`);let te=`(${z(H,{isAsync:!1,name:null})}{${M}${X}${M}`;r&&(!$||y&&l||(te=(B?`var ${$}`:`this${sh($,Q)}`)+`${N}=${N}${te}`),V&&(te=function(xe,Ee,Ue,{_:Ie,getPropertyAccess:Fe,s:ie},Je){const Qe=xe.split(".");Qe[0]=(typeof Ue=="function"?Ue(Qe[0]):Ue[Qe[0]])||Qe[0],Qe.pop();let We=Ee;return Qe.map(Xt=>(We+=Fe(Xt),`${We}${Ie}=${Ie}${We}${Ie}||${Ie}{}${ie}`)).join(Je?",":`
`)+(Je&&Qe.length>0?";":`
`)}($,"this",k,f,p)+te));let le=`${M}${M}})(${K.join(`,${N}`)});`;r&&!y&&l&&(le=`${M}${M}${o}return exports;${le}`);const de=$l(n,t,l,T,f,o,w);let Se=Pl(l&&r,g===!0||g==="if-default-prop"&&s,E,f);Se&&(Se=M+M+Se),i.append(`${de}${Se}${c}`).indent(o).prepend(te).append(le)},system:function(i,{accessedGlobals:e,dependencies:t,exports:n,hasExports:s,indent:r,intro:o,snippets:a,outro:l,usesTopLevelAwait:h},{externalLiveBindings:c,freeze:f,name:p,namespaceToStringTag:g,strict:y,systemNullSetters:v}){const{_:w,getFunctionIntro:k,getNonArrowFunctionIntro:T,n:$,s:E}=a,{importBindings:_,setters:N,starExcludes:z}=function(q,ee,K,{_:H,cnst:X,getObject:Y,getPropertyAccess:te,n:le}){const de=[],Se=[];let xe=null;for(const{imports:Ee,reexports:Ue}of q){const Ie=[];if(Ee)for(const Fe of Ee)de.push(Fe.local),Fe.imported==="*"?Ie.push(`${Fe.local}${H}=${H}module;`):Ie.push(`${Fe.local}${H}=${H}module${te(Fe.imported)};`);if(Ue){const Fe=[];let ie=!1;for(const{imported:Je,reexported:Qe}of Ue)Qe==="*"?ie=!0:Fe.push([Qe,Je==="*"?"module":`module${te(Je)}`]);if(Fe.length>1||ie){const Je=Y(Fe,{lineBreakIndent:null});ie?(xe||(xe=dQ({dependencies:q,exports:ee})),Ie.push(`${X} setter${H}=${H}${Je};`,`for${H}(${X} name in module)${H}{`,`${K}if${H}(!_starExcludes[name])${H}setter[name]${H}=${H}module[name];`,"}","exports(setter);")):Ie.push(`exports(${Je});`)}else{const[Je,Qe]=Fe[0];Ie.push(`exports('${Je}',${H}${Qe});`)}}Se.push(Ie.join(`${le}${K}${K}${K}`))}return{importBindings:de,setters:Se,starExcludes:xe}}(t,n,r,a),Q=p?`'${p}',${w}`:"",M=e.has("module")?["exports","module"]:s?["exports"]:[];let V=`System.register(${Q}[`+t.map(({importPath:q})=>`'${q}'`).join(`,${w}`)+`],${w}(${T(M,{isAsync:!1,name:null})}{${$}${r}${y?"'use strict';":""}`+pQ(z,r,a)+mQ(_,r,a)+`${$}${r}return${w}{${N.length>0?`${$}${r}${r}setters:${w}[${N.map(q=>q?`${k(["module"],{isAsync:!1,name:null})}{${$}${r}${r}${r}${q}${$}${r}${r}}`:v?"null":`${k([],{isAsync:!1,name:null})}{}`).join(`,${w}`)}],`:""}${$}`;V+=`${r}${r}execute:${w}(${T([],{isAsync:h,name:null})}{${$}${$}`;const B=`${r}${r}})${$}${r}}${E}${$}}));`;i.prepend(o+md(null,e,r,a,c,f,g)+gQ(n,r,a)).append(`${l}${$}${$}`+OQ(n,r,a)+yQ(n,r,a)).indent(`${r}${r}${r}`).append(B).prepend(V)},umd:function(i,{accessedGlobals:e,dependencies:t,exports:n,hasDefaultExport:s,hasExports:r,id:o,indent:a,intro:l,namedExportsMode:h,log:c,outro:f,snippets:p},{amd:g,compact:y,esModule:v,extend:w,externalLiveBindings:k,freeze:T,interop:$,name:E,namespaceToStringTag:_,globals:N,noConflict:z,strict:Q}){const{_:M,cnst:V,getFunctionIntro:B,getNonArrowFunctionIntro:q,getPropertyAccess:ee,n:K,s:H}=p,X=y?"f":"factory",Y=y?"g":"global";if(r&&!E)return oe({code:ZO,message:'You must supply "output.name" for UMD bundles that have exports so that the exports are accessible in environments without a module loader.',url:Bt(zO)});Lu(c,t);const te=t.map(Gt=>`'${My(Gt.importPath,g.forceJsExtensionForImports)}'`),le=t.map(Gt=>`require('${Gt.importPath}')`),de=_y(t),Se=de.map(Gt=>Du(Gt.globalName,Y,ee)),xe=de.map(Gt=>Gt.name);h&&(r||z)&&(te.unshift("'exports'"),le.unshift("exports"),Se.unshift(Nu(E,Y,N,(w?`${Du(E,Y,ee)}${M}||${M}`:"")+"{}",p)),xe.unshift("exports"));const Ee=Ey(g,o),Ue=(Ee?`'${Ee}',${M}`:"")+(te.length>0?`[${te.join(`,${M}`)}],${M}`:""),Ie=g.define,Fe=!h&&r?`module.exports${M}=${M}`:"",ie=Q?`${M}'use strict';${K}`:"";let Je;if(z){const Gt=y?"e":"exports";let Es;!h&&r?Es=`${V} ${Gt}${M}=${M}${Nu(E,Y,N,`${X}(${Se.join(`,${M}`)})`,p)};`:Es=`${V} ${Gt}${M}=${M}${Se.shift()};${K}${a}${a}${X}(${[Gt,...Se].join(`,${M}`)});`,Je=`(${B([],{isAsync:!1,name:null})}{${K}${a}${a}${V} current${M}=${M}${function(Qn,Wi,{_:Ua,getPropertyAccess:ja}){let ho=Wi;return Qn.split(".").map(Dc=>ho+=ja(Dc)).join(`${Ua}&&${Ua}`)}(E,Y,p)};${K}${a}${a}${Es}${K}${a}${a}${Gt}.noConflict${M}=${M}${B([],{isAsync:!1,name:null})}{${M}${Du(E,Y,ee)}${M}=${M}current;${M}return ${Gt}${H}${M}};${K}${a}})()`}else Je=`${X}(${Se.join(`,${M}`)})`,!h&&r&&(Je=Nu(E,Y,N,Je,p));const Qe=r||z&&h||Se.length>0,We=[X];Qe&&We.unshift(Y);const Xt=Qe?`this,${M}`:"",rn=Qe?`(${Y}${M}=${M}typeof globalThis${M}!==${M}'undefined'${M}?${M}globalThis${M}:${M}${Y}${M}||${M}self,${M}`:"",Ai=Qe?")":"",Hn=Qe?`${a}typeof exports${M}===${M}'object'${M}&&${M}typeof module${M}!==${M}'undefined'${M}?${M}${Fe}${X}(${le.join(`,${M}`)})${M}:${K}`:"",wt=`(${q(We,{isAsync:!1,name:null})}{${K}`+Hn+`${a}typeof ${Ie}${M}===${M}'function'${M}&&${M}${Ie}.amd${M}?${M}${Ie}(${Ue}${X})${M}:${K}${a}${rn}${Je}${Ai};${K}})(${Xt}(${q(xe,{isAsync:!1,name:null})}{${ie}${K}`,Nc=K+K+"}));";i.prepend(`${l}${El(t,$,k,T,_,e,a,p)}`);const gi=$l(n,t,h,$,p,a,k);let cr=Pl(h&&r,v===!0||v==="if-default-prop"&&s,_,p);cr&&(cr=K+K+cr),i.append(`${gi}${cr}${f}`).trim().indent(a).append(Nc).prepend(wt)}};const Ty=(i,e)=>e?`${i}
${e}`:i,Qy=(i,e)=>e?`${i}

${e}`:i;async function xQ(i,e,t){try{let[o,a,l,h]=await Promise.all([e.hookReduceValue("banner",i.banner(t),[t],Ty),e.hookReduceValue("footer",i.footer(t),[t],Ty),e.hookReduceValue("intro",i.intro(t),[t],Qy),e.hookReduceValue("outro",i.outro(t),[t],Qy)]);return l&&(l+=`

`),h&&(h=`

${h}`),o&&(o+=`
`),a&&(a=`
`+a),{banner:o,footer:a,intro:l,outro:h}}catch(o){return oe((n=o.message,s=o.hook,r=o.plugin,{code:D_,message:`Could not retrieve "${s}". Check configuration of plugin "${r}".
	Error Message: ${n}`}))}var n,s,r}const SQ={amd:Al,cjs:Al,es:Ry,iife:Al,system:Ry,umd:Al};function bQ(i,e,t,n,s,r,o,a,l,h,c,f,p,g){const y=[...i].reverse();for(const v of y)v.scope.addUsedOutsideNames(n,s,f,p);(function(v,w,k){for(const T of w){for(const $ of T.scope.variables.values())$.included&&!($.renderBaseName||$ instanceof An&&$.getOriginalVariable()!==$)&&$.setRenderNames(null,Cn($.name,v,$.forbiddenNames));if(k.has(T)){const $=T.namespace;$.setRenderNames(null,Cn($.name,v,$.forbiddenNames))}}})(n,y,g),SQ[s](n,t,e,r,o,a,l,h,c);for(const v of y)v.scope.deconflict(s,f,p)}function Ry(i,e,t,n,s,r,o,a,l){for(const h of t.dependencies)(s||h instanceof Ar)&&(h.variableName=Cn(h.suggestedVariableName,i,null));for(const h of e){const c=h.module,f=h.name;h.isNamespace&&(s||c instanceof st)?h.setRenderNames(null,(c instanceof st?a.get(c):o.get(c)).variableName):c instanceof st&&f==="default"?h.setRenderNames(null,Cn([...c.exportedVariables].some(([p,g])=>g==="*"&&p.included)?c.suggestedVariableName+"__default":c.suggestedVariableName,i,h.forbiddenNames)):h.setRenderNames(null,Cn(f,i,h.forbiddenNames))}for(const h of l)h.setRenderNames(null,Cn(h.name,i,h.forbiddenNames))}function Al(i,e,{deconflictedDefault:t,deconflictedNamespace:n,dependencies:s},r,o,a,l,h){for(const c of s)c.variableName=Cn(c.suggestedVariableName,i,null);for(const c of n)c.namespaceVariableName=Cn(`${c.suggestedVariableName}__namespace`,i,null);for(const c of t)c.defaultVariableName=n.has(c)&&WT(r(c.id),a)?c.namespaceVariableName:Cn(`${c.suggestedVariableName}__default`,i,null);for(const c of e){const f=c.module;if(f instanceof st){const p=h.get(f),g=c.name;if(g==="default"){const y=r(f.id),v=Pc[y]?p.defaultVariableName:p.variableName;Ec(y,a)?c.setRenderNames(v,"default"):c.setRenderNames(null,v)}else g==="*"?c.setRenderNames(null,za[r(f.id)]?p.namespaceVariableName:p.variableName):c.setRenderNames(p.variableName,null)}else{const p=l.get(f);o&&c.isNamespace?c.setRenderNames(null,p.exportMode==="default"?p.namespaceVariableName:p.variableName):p.exportMode==="default"?c.setRenderNames(null,p.variableName):c.setRenderNames(p.variableName,p.getVariableExportName(c))}}}function wQ(i,{exports:e,name:t,format:n},s,r){const o=i.getExportNames();if(e==="default"){if(o.length!==1||o[0]!=="default")return oe(YO("default",o,s))}else if(e==="none"&&o.length>0)return oe(YO("none",o,s));return e==="auto"&&(o.length===0?e="none":o.length===1&&o[0]==="default"?e="default":(n!=="es"&&n!=="system"&&o.includes("default")&&r(ke,function(a,l){return{code:nT,id:a,message:`Entry module "${Ae(a)}" is using named and default exports together. Consumers of your bundle will have to use \`${l||"chunk"}.default\` to access the default export, which may not be what you want. Use \`output.exports: "named"\` to disable this warning.`,url:Bt(bp)}}(s,t)),e="named")),e}function kQ(i){const e=i.split(`
`),t=e.filter(r=>/^\t+/.test(r)),n=e.filter(r=>/^ {2,}/.test(r));if(t.length===0&&n.length===0)return null;if(t.length>=n.length)return"	";const s=n.reduce((r,o)=>{const a=/^ +/.exec(o)[0].length;return Math.min(a,r)},1/0);return" ".repeat(s)}function xb(i,e,t,n,s,r){const o=i.getDependenciesToBeIncluded();for(const a of o){if(a instanceof st){e.push(r.get(a));continue}const l=s.get(a);l===n?t.has(a)||(t.add(a),xb(a,e,t,n,s,r)):e.push(l)}}const Np="!~{",Dp="}~",Vp=new RegExp(`${Np}[0-9a-zA-Z_$]{1,59}${Dp}`,"g"),No=(i,e)=>i.replace(Vp,t=>e.get(t)||t),CQ=(i,e,t)=>i.replace(Vp,n=>n===e?t:n),$Q=(i,e)=>{const t=new Set,n=i.replace(Vp,s=>e.has(s)?(t.add(s),`${Np}${"0".repeat(s.length-5)}${Dp}`):s);return{containedPlaceholders:t,transformedCode:n}},Ac=Symbol("bundleKeys"),Bp={type:"placeholder"};function Sb(i,e,t){return Vh(i)?oe(fi(`Invalid pattern "${i}" for "${e}", patterns can be neither absolute nor relative paths. If you want your files to be stored in a subdirectory, write its name without a leading slash like this: subdirectory/pattern.`)):i.replace(/\[(\w+)(:\d+)?]/g,(n,s,r)=>{if(!t.hasOwnProperty(s)||r&&s!=="hash")return oe(fi(`"[${s}${r||""}]" is not a valid placeholder in the "${e}" pattern.`));const o=t[s](r&&Number.parseInt(r.slice(1)));return Vh(o)?oe(fi(`Invalid substitution "${o}" for placeholder "[${s}]" in "${e}" pattern, can be neither absolute nor relative path.`)):o})}function bb(i,{[Ac]:e}){if(!e.has(i.toLowerCase()))return i;const t=ds(i);i=i.slice(0,Math.max(0,i.length-t.length));let n,s=1;for(;e.has((n=i+ ++s+t).toLowerCase()););return n}const PQ=new Set([".js",".jsx",".ts",".tsx",".mjs",".mts",".cjs",".cts"]);function EQ(i,e,t,n){return(typeof e=="function"?e(i.id):e[i.id])||(t?(n(ke,(r=i.id,o=i.variableName,{code:eT,id:r,message:`No name was provided for external module "${r}" in "output.globals" – guessing "${o}".`,names:[o],url:Bt(L_)})),i.variableName):void 0);var r,o}let AQ=class Rs{constructor(e,t,n,s,r,o,a,l,h,c,f,p,g,y,v){this.orderedModules=e,this.inputOptions=t,this.outputOptions=n,this.unsetOptions=s,this.pluginDriver=r,this.modulesById=o,this.chunkByModule=a,this.externalChunkByModule=l,this.facadeChunkByModule=h,this.includedNamespaces=c,this.manualChunkAlias=f,this.getPlaceholder=p,this.bundle=g,this.inputBase=y,this.snippets=v,this.entryModules=[],this.exportMode="named",this.facadeModule=null,this.namespaceVariableName="",this.variableName="",this.accessedGlobalsByScope=new Map,this.dependencies=new Set,this.dynamicEntryModules=[],this.dynamicName=null,this.exportNamesByVariable=new Map,this.exports=new Set,this.exportsByName=new Map,this.fileName=null,this.implicitEntryModules=[],this.implicitlyLoadedBefore=new Set,this.imports=new Set,this.includedDynamicImports=null,this.includedReexportsByModule=new Map,this.isEmpty=!0,this.name=null,this.needsExportsShim=!1,this.preRenderedChunkInfo=null,this.preliminaryFileName=null,this.renderedChunkInfo=null,this.renderedDependencies=null,this.renderedModules=Object.create(null),this.sortedExportNames=null,this.strictFacade=!1,this.execIndex=e.length>0?e[0].execIndex:1/0;const w=new Set(e);for(const k of e){a.set(k,this),k.namespace.included&&!n.preserveModules&&c.add(k),this.isEmpty&&k.isIncluded()&&(this.isEmpty=!1),(k.info.isEntry||n.preserveModules)&&this.entryModules.push(k);for(const T of k.includedDynamicImporters)w.has(T)||(this.dynamicEntryModules.push(k),k.info.syntheticNamedExports&&(c.add(k),this.exports.add(k.namespace)));k.implicitlyLoadedAfter.size>0&&this.implicitEntryModules.push(k)}this.suggestedVariableName=xp(this.generateVariableName())}static generateFacade(e,t,n,s,r,o,a,l,h,c,f,p,g,y,v){const w=new Rs([],e,t,n,s,r,o,a,l,h,null,p,g,y,v);w.assignFacadeName(f,c),l.has(c)||l.set(c,w);for(const k of c.getDependenciesToBeIncluded())w.dependencies.add(k instanceof mt?o.get(k):a.get(k));return!w.dependencies.has(o.get(c))&&c.info.moduleSideEffects&&c.hasEffects()&&w.dependencies.add(o.get(c)),w.ensureReexportsAreAvailableForModule(c),w.facadeModule=c,w.strictFacade=!0,w}canModuleBeFacade(e,t){const n=e.getExportNamesByVariable();for(const s of this.exports)if(!n.has(s))return!1;for(const s of t)if(!(s.module===e||n.has(s)||s instanceof ci&&n.has(s.getBaseVariable())))return!1;return!0}finalizeChunk(e,t,n){const s=this.getRenderedChunkInfo(),r=l=>No(l,n),o=s.fileName,a=this.fileName=r(o);return{...s,code:e,dynamicImports:s.dynamicImports.map(r),fileName:a,implicitlyLoadedBefore:s.implicitlyLoadedBefore.map(r),importedBindings:Object.fromEntries(Object.entries(s.importedBindings).map(([l,h])=>[r(l),h])),imports:s.imports.map(r),map:t,preliminaryFileName:o,referencedFiles:s.referencedFiles.map(r)}}generateExports(){this.sortedExportNames=null;const e=new Set(this.exports);if(this.facadeModule!==null&&(this.facadeModule.preserveSignature!==!1||this.strictFacade)){const t=this.facadeModule.getExportNamesByVariable();for(const[n,s]of t){this.exportNamesByVariable.set(n,[...s]);for(const r of s)this.exportsByName.set(r,n);e.delete(n)}}this.outputOptions.minifyInternalExports?function(t,n,s){let r=0;for(const o of t){let[a]=o.name;if(n.has(a))do a=Wh(++r),a.charCodeAt(0)===49&&(r+=9*64**(a.length-1),a=Wh(r));while(wc.has(a)||n.has(a));n.set(a,o),s.set(o,[a])}}(e,this.exportsByName,this.exportNamesByVariable):function(t,n,s){for(const r of t){let o=0,a=r.name;for(;n.has(a);)a=r.name+"$"+ ++o;n.set(a,r),s.set(r,[a])}}(e,this.exportsByName,this.exportNamesByVariable),(this.outputOptions.preserveModules||this.facadeModule&&this.facadeModule.info.isEntry)&&(this.exportMode=wQ(this,this.outputOptions,this.facadeModule.id,this.inputOptions.onLog))}generateFacades(){const e=[],t=new Set([...this.entryModules,...this.implicitEntryModules]),n=new Set(this.dynamicEntryModules.map(({namespace:s})=>s));for(const s of t)if(s.preserveSignature)for(const r of s.getExportNamesByVariable().keys())this.chunkByModule.get(r.module)===this&&n.add(r);for(const s of t){const r=Array.from(new Set(s.chunkNames.filter(({isUserDefined:o})=>o).map(({name:o})=>o)),o=>({name:o}));if(r.length===0&&s.isUserDefinedEntryPoint&&r.push({}),r.push(...Array.from(s.chunkFileNames,o=>({fileName:o}))),r.length===0&&r.push({}),!this.facadeModule){const o=!this.outputOptions.preserveModules&&(s.preserveSignature==="strict"||s.preserveSignature==="exports-only"&&s.getExportNamesByVariable().size>0);o&&!this.canModuleBeFacade(s,n)||(this.facadeModule=s,this.facadeChunkByModule.set(s,this),s.preserveSignature&&(this.strictFacade=o),this.assignFacadeName(r.shift(),s,this.outputOptions.preserveModules))}for(const o of r)e.push(Rs.generateFacade(this.inputOptions,this.outputOptions,this.unsetOptions,this.pluginDriver,this.modulesById,this.chunkByModule,this.externalChunkByModule,this.facadeChunkByModule,this.includedNamespaces,s,o,this.getPlaceholder,this.bundle,this.inputBase,this.snippets))}for(const s of this.dynamicEntryModules)s.info.syntheticNamedExports||(!this.facadeModule&&this.canModuleBeFacade(s,n)?(this.facadeModule=s,this.facadeChunkByModule.set(s,this),this.strictFacade=!0,this.dynamicName=Vu(s)):this.facadeModule===s&&!this.strictFacade&&this.canModuleBeFacade(s,n)?this.strictFacade=!0:this.facadeChunkByModule.get(s)?.strictFacade||(this.includedNamespaces.add(s),this.exports.add(s.namespace)));return this.outputOptions.preserveModules||this.addNecessaryImportsForFacades(),e}getChunkName(){return this.name??(this.name=this.outputOptions.sanitizeFileName(this.getFallbackChunkName()))}getExportNames(){return this.sortedExportNames??(this.sortedExportNames=[...this.exportsByName.keys()].sort())}getFileName(){return this.fileName||this.getPreliminaryFileName().fileName}getImportPath(e){return xc(mS(e,this.getFileName(),this.outputOptions.format==="amd"&&!this.outputOptions.amd.forceJsExtensionForImports,!0))}getPreliminaryFileName(){if(this.preliminaryFileName)return this.preliminaryFileName;let e,t=null;const{chunkFileNames:n,entryFileNames:s,file:r,format:o,preserveModules:a}=this.outputOptions;if(r)e=Fn(r);else if(this.fileName===null){const[l,h]=a||this.facadeModule?.isUserDefinedEntryPoint?[s,"output.entryFileNames"]:[n,"output.chunkFileNames"];e=Sb(typeof l=="function"?l(this.getPreRenderedChunkInfo()):l,h,{format:()=>o,hash:c=>t||(t=this.getPlaceholder(h,c)),name:()=>this.getChunkName()}),t||(e=bb(e,this.bundle))}else e=this.fileName;return t||(this.bundle[e]=Bp),this.preliminaryFileName={fileName:e,hashPlaceholder:t}}getRenderedChunkInfo(){return this.renderedChunkInfo?this.renderedChunkInfo:this.renderedChunkInfo={...this.getPreRenderedChunkInfo(),dynamicImports:this.getDynamicDependencies().map(Il),fileName:this.getFileName(),implicitlyLoadedBefore:Array.from(this.implicitlyLoadedBefore,Il),importedBindings:IQ(this.getRenderedDependencies(),Il),imports:Array.from(this.dependencies,Il),modules:this.renderedModules,referencedFiles:this.getReferencedFiles()}}getVariableExportName(e){return this.outputOptions.preserveModules&&e instanceof Fo?"*":this.exportNamesByVariable.get(e)[0]}link(){this.dependencies=function(e,t,n,s){const r=[],o=new Set;for(let l=t.length-1;l>=0;l--){const h=t[l];if(!o.has(h)){const c=[];xb(h,c,o,e,n,s),r.unshift(c)}}const a=new Set;for(const l of r)for(const h of l)a.add(h);return a}(this,this.orderedModules,this.chunkByModule,this.externalChunkByModule);for(const e of this.orderedModules)this.addImplicitlyLoadedBeforeFromModule(e),this.setUpChunkImportsAndExportsForModule(e)}async render(){const{dependencies:e,exportMode:t,facadeModule:n,inputOptions:{onLog:s},outputOptions:r,pluginDriver:o,snippets:a}=this,{format:l,hoistTransitiveImports:h,preserveModules:c}=r;if(h&&!c&&n!==null)for(const V of e)V instanceof Rs&&this.inlineChunkDependencies(V);const f=this.getPreliminaryFileName(),{accessedGlobals:p,indent:g,magicString:y,renderedSource:v,usedModules:w,usesTopLevelAwait:k}=this.renderModules(f.fileName),T=[...this.getRenderedDependencies().values()],$=t==="none"?[]:this.getChunkExportDeclarations(l);let E=$.length>0,_=!1;for(const V of T){const{reexports:B}=V;B?.length&&(E=!0,!_&&B.some(q=>q.reexported==="default")&&(_=!0),l==="es"&&(V.reexports=B.filter(({reexported:q})=>!$.find(({exported:ee})=>ee===q))))}if(!_){for(const{exported:V}of $)if(V==="default"){_=!0;break}}const{intro:N,outro:z,banner:Q,footer:M}=await xQ(r,o,this.getRenderedChunkInfo());return vQ[l](v,{accessedGlobals:p,dependencies:T,exports:$,hasDefaultExport:_,hasExports:E,id:f.fileName,indent:g,intro:N,isEntryFacade:c||n!==null&&n.info.isEntry,isModuleFacade:n!==null,log:s,namedExportsMode:t!=="default",outro:z,snippets:a,usesTopLevelAwait:k},r),Q&&y.prepend(Q),M&&y.append(M),{chunk:this,magicString:y,preliminaryFileName:f,usedModules:w}}addImplicitlyLoadedBeforeFromModule(e){const{chunkByModule:t,implicitlyLoadedBefore:n}=this;for(const s of e.implicitlyLoadedBefore){const r=t.get(s);r&&r!==this&&n.add(r)}}addNecessaryImportsForFacades(){for(const[e,t]of this.includedReexportsByModule)if(this.includedNamespaces.has(e))for(const n of t)this.imports.add(n)}assignFacadeName({fileName:e,name:t},n,s){e?this.fileName=e:this.name=this.outputOptions.sanitizeFileName(t||(s?this.getPreserveModulesChunkNameFromModule(n):Vu(n)))}checkCircularDependencyImport(e,t){const n=e.module;if(n instanceof mt){const h=this.chunkByModule.get(n);let c;do c=t.alternativeReexportModules.get(e),c&&(this.chunkByModule.get(c)!==h&&this.inputOptions.onLog(ke,(s=n.getExportNamesByVariable().get(e)?.[0]||"*",r=n.id,o=c.id,a=t.id,l=this.outputOptions.preserveModules,{code:"CYCLIC_CROSS_CHUNK_REEXPORT",exporter:r,id:a,message:`Export "${s}" of module "${Ae(r)}" was reexported through module "${Ae(o)}" while both modules are dependencies of each other and will end up in different chunks by current Rollup settings. This scenario is not well supported at the moment as it will produce a circular dependency between chunks and will likely lead to broken execution order.
Either change the import in "${Ae(a)}" to point directly to the exporting module or ${l?'do not use "output.preserveModules"':'reconfigure "output.manualChunks"'} to ensure these modules end up in the same chunk.`,reexporter:o})),t=c);while(c)}var s,r,o,a,l}ensureReexportsAreAvailableForModule(e){const t=[],n=e.getExportNamesByVariable();for(const s of n.keys()){const r=s instanceof ci,o=r?s.getBaseVariable():s;if(this.checkCircularDependencyImport(o,e),!(o instanceof Fo&&this.outputOptions.preserveModules)){const a=o.module;if(a instanceof mt){const l=this.chunkByModule.get(a);l&&l!==this&&(l.exports.add(o),t.push(o),r&&this.imports.add(o))}}}t.length>0&&this.includedReexportsByModule.set(e,t)}generateVariableName(){if(this.manualChunkAlias)return this.manualChunkAlias;const e=this.entryModules[0]||this.implicitEntryModules[0]||this.dynamicEntryModules[0]||this.orderedModules[this.orderedModules.length-1];return e?Vu(e):"chunk"}getChunkExportDeclarations(e){const t=[];for(const n of this.getExportNames()){if(n[0]==="*")continue;const s=this.exportsByName.get(n);if(!(s instanceof ci)){const l=s.module;if(l){const h=this.chunkByModule.get(l);if(h!==this){if(!h||e!=="es")continue;const c=this.renderedDependencies.get(h);if(!c)continue;const{imports:f,reexports:p}=c,g=p?.find(({reexported:v})=>v===n);if(!f?.find(({imported:v})=>v===g?.imported))continue}}}let r=null,o=!1,a=s.getName(this.snippets.getPropertyAccess);if(s instanceof Yn){for(const l of s.declarations)if(l.parent instanceof Oa||l instanceof $c&&l.declaration instanceof Oa){o=!0;break}}else s instanceof ci&&(r=a,e==="es"&&(a=s.renderName));t.push({exported:n,expression:r,hoisted:o,local:a})}return t}getDependenciesToBeDeconflicted(e,t,n){const s=new Set,r=new Set,o=new Set;for(const a of[...this.exportNamesByVariable.keys(),...this.imports])if(e||a.isNamespace){const l=a.module;if(l instanceof st){const h=this.externalChunkByModule.get(l);s.add(h),e&&(a.name==="default"?Pc[n(l.id)]&&r.add(h):a.name==="*"&&za[n(l.id)]&&o.add(h))}else{const h=this.chunkByModule.get(l);h!==this&&(s.add(h),e&&h.exportMode==="default"&&a.isNamespace&&o.add(h))}}if(t)for(const a of this.dependencies)s.add(a);return{deconflictedDefault:r,deconflictedNamespace:o,dependencies:s}}getDynamicDependencies(){return this.getIncludedDynamicImports().map(e=>e.facadeChunk||e.chunk||e.externalChunk||e.resolution).filter(e=>e!==this&&(e instanceof Rs||e instanceof Ar))}getDynamicImportStringAndAssertions(e,t){if(e instanceof st){const n=this.externalChunkByModule.get(e);return[`'${n.getImportPath(t)}'`,n.getImportAssertions(this.snippets)]}return[e||"",this.outputOptions.format==="es"&&this.outputOptions.externalImportAssertions||null]}getFallbackChunkName(){return this.manualChunkAlias?this.manualChunkAlias:this.dynamicName?this.dynamicName:this.fileName?Kf(this.fileName):Kf(this.orderedModules[this.orderedModules.length-1].id)}getImportSpecifiers(){const{interop:e}=this.outputOptions,t=new Map;for(const n of this.imports){const s=n.module;let r,o;if(s instanceof st){if(r=this.externalChunkByModule.get(s),o=n.name,o!=="default"&&o!=="*"&&e(s.id)==="defaultOnly")return oe(qO(s.id,o,!1))}else r=this.chunkByModule.get(s),o=r.getVariableExportName(n);Ci(t,r,BO).push({imported:o,local:n.getName(this.snippets.getPropertyAccess)})}return t}getIncludedDynamicImports(){if(this.includedDynamicImports)return this.includedDynamicImports;const e=[];for(const t of this.orderedModules)for(const{node:n,resolution:s}of t.dynamicImports)n.included&&e.push(s instanceof mt?{chunk:this.chunkByModule.get(s),externalChunk:null,facadeChunk:this.facadeChunkByModule.get(s),node:n,resolution:s}:s instanceof st?{chunk:null,externalChunk:this.externalChunkByModule.get(s),facadeChunk:null,node:n,resolution:s}:{chunk:null,externalChunk:null,facadeChunk:null,node:n,resolution:s});return this.includedDynamicImports=e}getPreRenderedChunkInfo(){if(this.preRenderedChunkInfo)return this.preRenderedChunkInfo;const{dynamicEntryModules:e,facadeModule:t,implicitEntryModules:n,orderedModules:s}=this;return this.preRenderedChunkInfo={exports:this.getExportNames(),facadeModuleId:t&&t.id,isDynamicEntry:e.length>0,isEntry:!!t?.info.isEntry,isImplicitEntry:n.length>0,moduleIds:s.map(({id:r})=>r),name:this.getChunkName(),type:"chunk"}}getPreserveModulesChunkNameFromModule(e){const t=kb(e);if(t)return t;const{preserveModulesRoot:n,sanitizeFileName:s}=this.outputOptions,r=s(Ra(e.id.split(MQ,1)[0])),o=ds(r),a=PQ.has(o)?r.slice(0,-o.length):r;return ws(a)?n&&Ji(a).startsWith(n)?a.slice(n.length).replace(/^[/\\]/,""):no(this.inputBase,a):`_virtual/${Fn(a)}`}getReexportSpecifiers(){const{externalLiveBindings:e,interop:t}=this.outputOptions,n=new Map;for(let s of this.getExportNames()){let r,o,a=!1;if(s[0]==="*"){const l=s.slice(1);t(l)==="defaultOnly"&&this.inputOptions.onLog(ke,pT(l)),a=e,r=this.externalChunkByModule.get(this.modulesById.get(l)),o=s="*"}else{const l=this.exportsByName.get(s);if(l instanceof ci)continue;const h=l.module;if(h instanceof mt){if(r=this.chunkByModule.get(h),r===this)continue;o=r.getVariableExportName(l),a=l.isReassigned}else{if(r=this.externalChunkByModule.get(h),o=l.name,o!=="default"&&o!=="*"&&t(h.id)==="defaultOnly")return oe(qO(h.id,o,!0));a=e&&(o!=="default"||Ec(t(h.id),!0))}}Ci(n,r,BO).push({imported:o,needsLiveBinding:a,reexported:s})}return n}getReferencedFiles(){const e=new Set;for(const t of this.orderedModules)for(const n of t.importMetas){const s=n.getReferencedFileName(this.pluginDriver);s&&e.add(s)}return[...e]}getRenderedDependencies(){if(this.renderedDependencies)return this.renderedDependencies;const e=this.getImportSpecifiers(),t=this.getReexportSpecifiers(),n=new Map,s=this.getFileName();for(const r of this.dependencies){const o=e.get(r)||null,a=t.get(r)||null,l=r instanceof Ar||r.exportMode!=="default",h=r.getImportPath(s);n.set(r,{assertions:r instanceof Ar?r.getImportAssertions(this.snippets):null,defaultVariableName:r.defaultVariableName,globalName:r instanceof Ar&&(this.outputOptions.format==="umd"||this.outputOptions.format==="iife")&&EQ(r,this.outputOptions.globals,(o||a)!==null,this.inputOptions.onLog),importPath:h,imports:o,isChunk:r instanceof Rs,name:r.variableName,namedExportsMode:l,namespaceVariableName:r.namespaceVariableName,reexports:a})}return this.renderedDependencies=n}inlineChunkDependencies(e){for(const t of e.dependencies)this.dependencies.has(t)||(this.dependencies.add(t),t instanceof Rs&&this.inlineChunkDependencies(t))}renderModules(e){const{accessedGlobalsByScope:t,dependencies:n,exportNamesByVariable:s,includedNamespaces:r,inputOptions:{onLog:o},isEmpty:a,orderedModules:l,outputOptions:h,pluginDriver:c,renderedModules:f,snippets:p}=this,{compact:g,dynamicImportFunction:y,format:v,freeze:w,namespaceToStringTag:k}=h,{_:T,cnst:$,n:E}=p;this.setDynamicImportResolutions(e),this.setImportMetaResolutions(e),this.setIdentifierRenderResolutions();const _=new class wb{constructor(X={}){this.intro=X.intro||"",this.separator=X.separator!==void 0?X.separator:`
`,this.sources=[],this.uniqueSources=[],this.uniqueSourceIndexByFilename={}}addSource(X){if(X instanceof Ws)return this.addSource({content:X,filename:X.filename,separator:this.separator});if(!dS(X)||!X.content)throw new Error("bundle.addSource() takes an object with a `content` property, which should be an instance of MagicString, and an optional `filename`");if(["filename","ignoreList","indentExclusionRanges","separator"].forEach(Y=>{VO.call(X,Y)||(X[Y]=X.content[Y])}),X.separator===void 0&&(X.separator=this.separator),X.filename)if(VO.call(this.uniqueSourceIndexByFilename,X.filename)){const Y=this.uniqueSources[this.uniqueSourceIndexByFilename[X.filename]];if(X.content.original!==Y.content)throw new Error(`Illegal source: same filename (${X.filename}), different contents`)}else this.uniqueSourceIndexByFilename[X.filename]=this.uniqueSources.length,this.uniqueSources.push({filename:X.filename,content:X.content.original});return this.sources.push(X),this}append(X,Y){return this.addSource({content:new Ws(X),separator:Y&&Y.separator||""}),this}clone(){const X=new wb({intro:this.intro,separator:this.separator});return this.sources.forEach(Y=>{X.addSource({filename:Y.filename,content:Y.content.clone(),separator:Y.separator})}),X}generateDecodedMap(X={}){const Y=[];let te;this.sources.forEach(de=>{Object.keys(de.content.storedNames).forEach(Se=>{~Y.indexOf(Se)||Y.push(Se)})});const le=new pS(X.hires);return this.intro&&le.advance(this.intro),this.sources.forEach((de,Se)=>{Se>0&&le.advance(this.separator);const xe=de.filename?this.uniqueSourceIndexByFilename[de.filename]:-1,Ee=de.content,Ue=Hf(Ee.original);Ee.intro&&le.advance(Ee.intro),Ee.firstChunk.eachNext(Ie=>{const Fe=Ue(Ie.start);Ie.intro.length&&le.advance(Ie.intro),de.filename?Ie.edited?le.addEdit(xe,Ie.content,Fe,Ie.storeName?Y.indexOf(Ie.original):-1):le.addUneditedChunk(xe,Ie,Ee.original,Fe,Ee.sourcemapLocations):le.advance(Ie.content),Ie.outro.length&&le.advance(Ie.outro)}),Ee.outro&&le.advance(Ee.outro),de.ignoreList&&xe!==-1&&(te===void 0&&(te=[]),te.push(xe))}),{file:X.file?X.file.split(/[/\\]/).pop():void 0,sources:this.uniqueSources.map(de=>X.file?fS(X.file,de.filename):de.filename),sourcesContent:this.uniqueSources.map(de=>X.includeContent?de.content:null),names:Y,mappings:le.raw,x_google_ignoreList:te}}generateMap(X){return new vc(this.generateDecodedMap(X))}getIndentString(){const X={};return this.sources.forEach(Y=>{const te=Y.content._getRawIndentString();te!==null&&(X[te]||(X[te]=0),X[te]+=1)}),Object.keys(X).sort((Y,te)=>X[Y]-X[te])[0]||"	"}indent(X){if(arguments.length||(X=this.getIndentString()),X==="")return this;let Y=!this.intro||this.intro.slice(-1)===`
`;return this.sources.forEach((te,le)=>{const de=te.separator!==void 0?te.separator:this.separator,Se=Y||le>0&&/\r?\n$/.test(de);te.content.indent(X,{exclude:te.indentExclusionRanges,indentStart:Se}),Y=te.content.lastChar()===`
`}),this.intro&&(this.intro=X+this.intro.replace(/^[^\n]/gm,(te,le)=>le>0?X+te:te)),this}prepend(X){return this.intro=X+this.intro,this}toString(){const X=this.sources.map((Y,te)=>{const le=Y.separator!==void 0?Y.separator:this.separator;return(te>0?le:"")+Y.content.toString()}).join("");return this.intro+X}isEmpty(){return!(this.intro.length&&this.intro.trim()||this.sources.some(X=>!X.content.isEmpty()))}length(){return this.sources.reduce((X,Y)=>X+Y.content.length(),this.intro.length)}trimLines(){return this.trim("[\\r\\n]")}trim(X){return this.trimStart(X).trimEnd(X)}trimStart(X){const Y=new RegExp("^"+(X||"\\s")+"+");if(this.intro=this.intro.replace(Y,""),!this.intro){let te,le=0;do if(te=this.sources[le++],!te)break;while(!te.content.trimStartAborted(X))}return this}trimEnd(X){const Y=new RegExp((X||"\\s")+"+$");let te,le=this.sources.length-1;do if(te=this.sources[le--],!te){this.intro=this.intro.replace(Y,"");break}while(!te.content.trimEndAborted(X));return this}}({separator:`${E}${E}`}),N=function(H,X){if(X.indent!==!0)return X.indent;for(const Y of H){const te=kQ(Y.originalCode);if(te!==null)return te}return"	"}(l,h),z=[];let Q="";const M=new Set,V=new Map,B={dynamicImportFunction:y,exportNamesByVariable:s,format:v,freeze:w,indent:N,namespaceToStringTag:k,pluginDriver:c,snippets:p,useOriginalName:null};let q=!1;for(const H of l){let X,Y=0;if(H.isIncluded()||r.has(H)){const de=H.render(B);({source:X}=de),q||(q=de.usesTopLevelAwait),Y=X.length(),Y&&(g&&X.lastLine().includes("//")&&X.append(`
`),V.set(H,X),_.addSource(X),z.push(H));const Se=H.namespace;if(r.has(H)){const Ee=Se.renderBlock(B);Se.renderFirst()?Q+=E+Ee:_.addSource(new Ws(Ee))}const xe=t.get(H.scope);if(xe)for(const Ee of xe)M.add(Ee)}const{renderedExports:te,removedExports:le}=H.getRenderedExports();f[H.id]={get code(){return X?.toString()??null},originalLength:H.originalCode.length,removedExports:le,renderedExports:te,renderedLength:Y}}Q&&_.prepend(Q+E+E),this.needsExportsShim&&_.prepend(`${E}${$} ${Gr}${T}=${T}void 0;${E}${E}`);const ee=g?_:_.trim();var K;return a&&this.getExportNames().length===0&&n.size===0&&o(ke,{code:"EMPTY_BUNDLE",message:`Generated an empty chunk: "${K=this.getChunkName()}".`,names:[K]}),{accessedGlobals:M,indent:N,magicString:_,renderedSource:ee,usedModules:z,usesTopLevelAwait:q}}setDynamicImportResolutions(e){const{accessedGlobalsByScope:t,outputOptions:n,pluginDriver:s,snippets:r}=this;for(const o of this.getIncludedDynamicImports())if(o.chunk){const{chunk:a,facadeChunk:l,node:h,resolution:c}=o;a===this?h.setInternalResolution(c.namespace):h.setExternalResolution((l||a).exportMode,c,n,r,s,t,`'${(l||a).getImportPath(e)}'`,!l?.strictFacade&&a.exportNamesByVariable.get(c.namespace)[0],null)}else{const{node:a,resolution:l}=o,[h,c]=this.getDynamicImportStringAndAssertions(l,e);a.setExternalResolution("external",l,n,r,s,t,h,!1,c)}}setIdentifierRenderResolutions(){const{format:e,interop:t,namespaceToStringTag:n,preserveModules:s,externalLiveBindings:r}=this.outputOptions,o=new Set;for(const l of this.getExportNames()){const h=this.exportsByName.get(l);e!=="es"&&e!=="system"&&h.isReassigned&&!h.isId?h.setRenderNames("exports",l):h instanceof ci?o.add(h):h.setRenderNames(null,null)}for(const l of this.orderedModules)if(l.needsExportShim){this.needsExportsShim=!0;break}const a=new Set(["Object","Promise"]);switch(this.needsExportsShim&&a.add(Gr),n&&a.add("Symbol"),e){case"system":a.add("module").add("exports");break;case"es":break;case"cjs":a.add("module").add("require").add("__filename").add("__dirname");default:a.add("exports");for(const l of Od)a.add(l)}bQ(this.orderedModules,this.getDependenciesToBeDeconflicted(e!=="es"&&e!=="system",e==="amd"||e==="umd"||e==="iife",t),this.imports,a,e,t,s,r,this.chunkByModule,this.externalChunkByModule,o,this.exportNamesByVariable,this.accessedGlobalsByScope,this.includedNamespaces)}setImportMetaResolutions(e){const{accessedGlobalsByScope:t,includedNamespaces:n,orderedModules:s,outputOptions:{format:r}}=this;for(const o of s){for(const a of o.importMetas)a.setResolution(r,t,e);n.has(o)&&o.namespace.prepare(t)}}setUpChunkImportsAndExportsForModule(e){const t=new Set(e.includedImports);if(!this.outputOptions.preserveModules&&this.includedNamespaces.has(e)){const n=e.namespace.getMemberVariables();for(const s of Object.values(n))s.included&&t.add(s)}for(let n of t){n instanceof An&&(n=n.getOriginalVariable()),n instanceof ci&&(n=n.getBaseVariable());const s=this.chunkByModule.get(n.module);s!==this&&(this.imports.add(n),n.module instanceof mt&&(this.checkCircularDependencyImport(n,e),n instanceof Fo&&this.outputOptions.preserveModules||s.exports.add(n)))}(this.includedNamespaces.has(e)||e.info.isEntry&&e.preserveSignature!==!1||e.includedDynamicImporters.some(n=>this.chunkByModule.get(n)!==this))&&this.ensureReexportsAreAvailableForModule(e);for(const{node:n,resolution:s}of e.dynamicImports)n.included&&s instanceof mt&&this.chunkByModule.get(s)===this&&!this.includedNamespaces.has(s)&&(this.includedNamespaces.add(s),this.ensureReexportsAreAvailableForModule(s))}};function Vu(i){return kb(i)??Kf(i.id)}function kb(i){return i.chunkNames.find(({isUserDefined:e})=>e)?.name??i.chunkNames[0]?.name}function IQ(i,e){const t={};for(const[n,s]of i){const r=new Set;if(s.imports)for(const{imported:o}of s.imports)r.add(o);if(s.reexports)for(const{imported:o}of s.reexports)r.add(o);t[e(n)]=[...r]}return t}const MQ=/[#?]/,Il=i=>i.getFileName();function*Cb(i){for(const e of i)yield*e}function _Q(i,e,t,n){const{chunkDefinitions:s,modulesInManualChunks:r}=function(f){const p=[],g=new Set(f.keys()),y=Object.create(null);for(const[v,w]of f)TQ(v,y[w]||(y[w]=[]),g);for(const[v,w]of Object.entries(y))p.push({alias:v,modules:w});return{chunkDefinitions:p,modulesInManualChunks:g}}(e),{allEntries:o,dependentEntriesByModule:a,dynamicallyDependentEntriesByDynamicEntry:l,dynamicImportsByEntry:h}=function(f){const p=new Set,g=new Map,y=[],v=new Set(f);let w=0;for(const E of v){const _=new Set;y.push(_);const N=new Set([E]);for(const z of N){Ci(g,z,nr).add(w);for(const Q of z.getDependenciesToBeIncluded())Q instanceof st||N.add(Q);for(const{resolution:Q}of z.dynamicImports)Q instanceof mt&&Q.includedDynamicImporters.length>0&&!v.has(Q)&&(p.add(Q),v.add(Q),_.add(Q));for(const Q of z.implicitlyLoadedBefore)v.has(Q)||(p.add(Q),v.add(Q))}w++}const k=[...v],{dynamicEntries:T,dynamicImportsByEntry:$}=function(E,_,N){const z=new Map,Q=new Set;for(const[V,B]of E.entries())z.set(B,V),_.has(B)&&Q.add(V);const M=[];for(const V of N){const B=new Set;for(const q of V)B.add(z.get(q));M.push(B)}return{dynamicEntries:Q,dynamicImportsByEntry:M}}(k,p,y);return{allEntries:k,dependentEntriesByModule:g,dynamicallyDependentEntriesByDynamicEntry:QQ(g,T,k),dynamicImportsByEntry:$}}(i),c=Ly(function*(f,p){for(const[g,y]of f)p.has(g)||(yield{dependentEntries:y,modules:[g]})}(a,r));return function(f,p,g,y){const v=y.map(()=>0n),w=y.map(($,E)=>p.has(E)?-1n:0n);let k=1n;for(const{dependentEntries:$}of f){for(const E of $)v[E]|=k;k<<=1n}const T=p;for(const[$,E]of T){T.delete($);const _=w[$];let N=_;for(const z of E)N&=v[z]|w[z];if(N!==_){w[$]=N;for(const z of g[$])Ci(T,z,nr).add($)}}k=1n;for(const{dependentEntries:$}of f){for(const E of $)(w[E]&k)===k&&$.delete(E);k<<=1n}}(c,l,h,o),s.push(...function(f,p,g,y){At("optimize chunks",3);const v=function(w,k,T){const $=[],E=[],_=new Map,N=[];let z=0n,Q=1n;for(const{dependentEntries:M,modules:V}of w){const B={containedAtoms:Q,correlatedAtoms:0n,dependencies:new Set,dependentChunks:new Set,dependentEntries:M,modules:V,pure:!0,size:0};let q=0,ee=!0;for(const K of V)_.set(K,B),K.isIncluded()&&(ee&&(ee=!K.hasEffects()),q+=T>1?K.estimateSize():1);B.pure=ee,B.size=q,N.push(q),ee||(z|=Q),(q<T?$:E).push(B),Q<<=1n}return $.length===0?null:(z|=function(M,V,B,q){const ee=new Map;let K=0n;const H=[];for(let X=0;X<B;X++)H.push(0n);for(const X of M){X.sort(LQ);for(const Y of X){const{dependencies:te,dependentEntries:le,modules:de}=Y;for(const xe of de)for(const Ee of xe.getDependenciesToBeIncluded())if(Ee instanceof st)Ee.info.moduleSideEffects&&(Y.containedAtoms|=Ci(ee,Ee,()=>{const Ue=q;return q<<=1n,K|=Ue,Ue}));else{const Ue=V.get(Ee);Ue&&Ue!==Y&&(te.add(Ue),Ue.dependentChunks.add(Y))}const{containedAtoms:Se}=Y;for(const xe of le)H[xe]|=Se}}for(const X of M)for(const Y of X){const{dependentEntries:te}=Y;Y.correlatedAtoms=-1n;for(const le of te)Y.correlatedAtoms&=H[le]}return K}([E,$],_,k,Q),{big:new Set(E),sideEffectAtoms:z,sizeByAtom:N,small:new Set($)})}(f,p,g);return v?(g>1&&y("info",GO(f.length,v.small.size,"Initially")),function(w,k){const{small:T}=w;for(const $ of T){const E=RQ($,w,k<=1?1:1/0);if(E){const{containedAtoms:_,correlatedAtoms:N,modules:z,pure:Q,size:M}=$;T.delete($),Ny(E,k,w).delete(E),E.modules.push(...z),E.size+=M,E.pure&&(E.pure=Q);const{dependencies:V,dependentChunks:B,dependentEntries:q}=E;E.correlatedAtoms&=N,E.containedAtoms|=_;for(const ee of $.dependentEntries)q.add(ee);for(const ee of $.dependencies)V.add(ee),ee.dependentChunks.delete($),ee.dependentChunks.add(E);for(const ee of $.dependentChunks)B.add(ee),ee.dependencies.delete($),ee.dependencies.add(E);V.delete(E),B.delete(E),Ny(E,k,w).add(E)}}}(v,g),g>1&&y("info",GO(v.small.size+v.big.size,v.small.size,"After merging chunks")),xt("optimize chunks",3),[...v.small,...v.big]):(xt("optimize chunks",3),f)}(Ly(c),o.length,t,n).map(({modules:f})=>({alias:null,modules:f}))),s}function TQ(i,e,t){const n=new Set([i]);for(const s of n){t.add(s),e.push(s);for(const r of s.dependencies)r instanceof st||t.has(r)||n.add(r)}}function QQ(i,e,t){const n=new Map;for(const s of e){const r=Ci(n,s,nr),o=t[s];for(const a of Cb([o.includedDynamicImporters,o.implicitlyLoadedAfter]))for(const l of i.get(a))r.add(l)}return n}function Ly(i){var e;const t=Object.create(null);for(const{dependentEntries:n,modules:s}of i){let r=0n;for(const o of n)r|=1n<<BigInt(o);(t[e=String(r)]||(t[e]={dependentEntries:new Set(n),modules:[]})).modules.push(...s)}return Object.values(t)}function RQ(i,{big:e,sideEffectAtoms:t,sizeByAtom:n,small:s},r){let o=null;for(const a of Cb([s,e])){if(i===a)continue;const l=NQ(i,a,r,t,n);if(l<r){if(o=a,l===0)break;r=l}}return o}function Ny(i,e,t){return i.size<e?t.small:t.big}function LQ({size:i},{size:e}){return i-e}function NQ(i,e,t,n,s){const r=Dy(i,e,t,n,s);return r<t?r+Dy(e,i,t-r,n,s):1/0}function Dy(i,e,t,n,s){const{correlatedAtoms:r}=e;let o=i.containedAtoms;const a=o&n;if((r&a)!==a)return 1/0;const l=new Set(i.dependencies);for(const{dependencies:h,containedAtoms:c}of l){o|=c;const f=c&n;if((r&f)!==f)return 1/0;for(const p of h){if(p===e)return 1/0;l.add(p)}}return function(h,c,f){let p=0,g=0,y=1n;const{length:v}=f;for(;g<v;g++)if((h&y)===y&&(p+=f[g]),y<<=1n,p>=c)return 1/0;return p}(o&~r,t,s)}const DQ=(i,e)=>i.execIndex>e.execIndex?1:-1;function VQ(i,e,t){const n=Symbol(i.id),s=[i.id];let r=e;for(i.cycles.add(n);r!==i;)r.cycles.add(n),s.push(r.id),r=t.get(r);return s.push(s[0]),s.reverse(),s}const Vy=(i,e)=>e?`(${i})`:i,By=/^(?!\d)[\w$]+$/;class Xy{constructor(e,t){this.isOriginal=!0,this.filename=e,this.content=t}traceSegment(e,t,n){return{column:t,line:e,name:n,source:this}}}class Kh{constructor(e,t){this.sources=t,this.names=e.names,this.mappings=e.mappings}traceMappings(){const e=[],t=new Map,n=[],s=[],r=new Map,o=[];for(const a of this.mappings){const l=[];for(const h of a){if(h.length===1)continue;const c=this.sources[h[1]];if(!c)continue;const f=c.traceSegment(h[2],h[3],h.length===5?this.names[h[4]]:"");if(f){const{column:p,line:g,name:y,source:{content:v,filename:w}}=f;let k=t.get(w);if(k===void 0)k=e.length,e.push(w),t.set(w,k),n[k]=v;else if(n[k]==null)n[k]=v;else if(v!=null&&n[k]!==v)return oe(dT(w));const T=[h[0],k,g,p];if(y){let $=r.get(y);$===void 0&&($=s.length,s.push(y),r.set(y,$)),T[4]=$}l.push(T)}}o.push(l)}return{mappings:o,names:s,sources:e,sourcesContent:n}}traceSegment(e,t,n){const s=this.mappings[e];if(!s)return null;let r=0,o=s.length-1;for(;r<=o;){const a=r+o>>1,l=s[a];if(l[0]===t||r===o){if(l.length==1)return null;const h=this.sources[l[1]];return h?h.traceSegment(l[2],l[3],l.length===5?this.names[l[4]]:n):null}l[0]>t?o=a-1:r=a+1}return null}}function $b(i){return function(e,t){return t.missing?(i(ke,(n=t.plugin,{code:PS,message:`Sourcemap is likely to be incorrect: a plugin (${n}) was used to transform files, but didn't generate a sourcemap for the transformation. Consult the plugin documentation for help`,plugin:n,url:Bt(T_)})),new Kh({mappings:[],names:[]},[e])):new Kh(t,[e]);var n}}function Pb(i,e,t,n,s){let r;if(t){const o=t.sources,a=t.sourcesContent||[],l=ir(i)||".",h=t.sourceRoot||".",c=o.map((f,p)=>new Xy(Ji(l,h,f),a[p]));r=new Kh(t,c)}else r=new Xy(i,e);return n.reduce(s,r)}var je={},Xp=Eb;function Eb(i,e){if(!i)throw new Error(e||"Assertion failed")}Eb.equal=function(i,e,t){if(i!=e)throw new Error(t||"Assertion failed: "+i+" != "+e)};var xd={exports:{}};typeof Object.create=="function"?xd.exports=function(i,e){e&&(i.super_=e,i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:xd.exports=function(i,e){if(e){i.super_=e;var t=function(){};t.prototype=e.prototype,i.prototype=new t,i.prototype.constructor=i}};var BQ=xd.exports,XQ=Xp,zQ=BQ;function ZQ(i,e){return(64512&i.charCodeAt(e))==55296&&!(e<0||e+1>=i.length)&&(64512&i.charCodeAt(e+1))==56320}function zy(i){return(i>>>24|i>>>8&65280|i<<8&16711680|(255&i)<<24)>>>0}function Zy(i){return i.length===1?"0"+i:i}function Uy(i){return i.length===7?"0"+i:i.length===6?"00"+i:i.length===5?"000"+i:i.length===4?"0000"+i:i.length===3?"00000"+i:i.length===2?"000000"+i:i.length===1?"0000000"+i:i}je.inherits=zQ,je.toArray=function(i,e){if(Array.isArray(i))return i.slice();if(!i)return[];var t=[];if(typeof i=="string")if(e){if(e==="hex")for((i=i.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(i="0"+i),s=0;s<i.length;s+=2)t.push(parseInt(i[s]+i[s+1],16))}else for(var n=0,s=0;s<i.length;s++){var r=i.charCodeAt(s);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):ZQ(i,s)?(r=65536+((1023&r)<<10)+(1023&i.charCodeAt(++s)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}else for(s=0;s<i.length;s++)t[s]=0|i[s];return t},je.toHex=function(i){for(var e="",t=0;t<i.length;t++)e+=Zy(i[t].toString(16));return e},je.htonl=zy,je.toHex32=function(i,e){for(var t="",n=0;n<i.length;n++){var s=i[n];e==="little"&&(s=zy(s)),t+=Uy(s.toString(16))}return t},je.zero2=Zy,je.zero8=Uy,je.join32=function(i,e,t,n){var s=t-e;XQ(s%4==0);for(var r=new Array(s/4),o=0,a=e;o<r.length;o++,a+=4){var l;l=n==="big"?i[a]<<24|i[a+1]<<16|i[a+2]<<8|i[a+3]:i[a+3]<<24|i[a+2]<<16|i[a+1]<<8|i[a],r[o]=l>>>0}return r},je.split32=function(i,e){for(var t=new Array(4*i.length),n=0,s=0;n<i.length;n++,s+=4){var r=i[n];e==="big"?(t[s]=r>>>24,t[s+1]=r>>>16&255,t[s+2]=r>>>8&255,t[s+3]=255&r):(t[s+3]=r>>>24,t[s+2]=r>>>16&255,t[s+1]=r>>>8&255,t[s]=255&r)}return t},je.rotr32=function(i,e){return i>>>e|i<<32-e},je.rotl32=function(i,e){return i<<e|i>>>32-e},je.sum32=function(i,e){return i+e>>>0},je.sum32_3=function(i,e,t){return i+e+t>>>0},je.sum32_4=function(i,e,t,n){return i+e+t+n>>>0},je.sum32_5=function(i,e,t,n,s){return i+e+t+n+s>>>0},je.sum64=function(i,e,t,n){var s=i[e],r=n+i[e+1]>>>0,o=(r<n?1:0)+t+s;i[e]=o>>>0,i[e+1]=r},je.sum64_hi=function(i,e,t,n){return(e+n>>>0<e?1:0)+i+t>>>0},je.sum64_lo=function(i,e,t,n){return e+n>>>0},je.sum64_4_hi=function(i,e,t,n,s,r,o,a){var l=0,h=e;return l+=(h=h+n>>>0)<e?1:0,l+=(h=h+r>>>0)<r?1:0,i+t+s+o+(l+=(h=h+a>>>0)<a?1:0)>>>0},je.sum64_4_lo=function(i,e,t,n,s,r,o,a){return e+n+r+a>>>0},je.sum64_5_hi=function(i,e,t,n,s,r,o,a,l,h){var c=0,f=e;return c+=(f=f+n>>>0)<e?1:0,c+=(f=f+r>>>0)<r?1:0,c+=(f=f+a>>>0)<a?1:0,i+t+s+o+l+(c+=(f=f+h>>>0)<h?1:0)>>>0},je.sum64_5_lo=function(i,e,t,n,s,r,o,a,l,h){return e+n+r+a+h>>>0},je.rotr64_hi=function(i,e,t){return(e<<32-t|i>>>t)>>>0},je.rotr64_lo=function(i,e,t){return(i<<32-t|e>>>t)>>>0},je.shr64_hi=function(i,e,t){return i>>>t},je.shr64_lo=function(i,e,t){return(i<<32-t|e>>>t)>>>0};var Ab={},jy=je,UQ=Xp;function Ml(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Ab.BlockHash=Ml,Ml.prototype.update=function(i,e){if(i=jy.toArray(i,e),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){var t=(i=this.pending).length%this._delta8;this.pending=i.slice(i.length-t,i.length),this.pending.length===0&&(this.pending=null),i=jy.join32(i,0,i.length-t,this.endian);for(var n=0;n<i.length;n+=this._delta32)this._update(i,n,n+this._delta32)}return this},Ml.prototype.digest=function(i){return this.update(this._pad()),UQ(this.pending===null),this._digest(i)},Ml.prototype._pad=function(){var i=this.pendingTotal,e=this._delta8,t=e-(i+this.padLength)%e,n=new Array(t+this.padLength);n[0]=128;for(var s=1;s<t;s++)n[s]=0;if(i<<=3,this.endian==="big"){for(var r=8;r<this.padLength;r++)n[s++]=0;n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=i>>>24&255,n[s++]=i>>>16&255,n[s++]=i>>>8&255,n[s++]=255&i}else for(n[s++]=255&i,n[s++]=i>>>8&255,n[s++]=i>>>16&255,n[s++]=i>>>24&255,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,r=8;r<this.padLength;r++)n[s++]=0;return n};var Bn={},un=je.rotr32;function Fy(i,e,t){return i&e^~i&t}function Wy(i,e,t){return i&e^i&t^e&t}function Yy(i,e,t){return i^e^t}Bn.ft_1=function(i,e,t,n){return i===0?Fy(e,t,n):i===1||i===3?Yy(e,t,n):i===2?Wy(e,t,n):void 0},Bn.ch32=Fy,Bn.maj32=Wy,Bn.p32=Yy,Bn.s0_256=function(i){return un(i,2)^un(i,13)^un(i,22)},Bn.s1_256=function(i){return un(i,6)^un(i,11)^un(i,25)},Bn.g0_256=function(i){return un(i,7)^un(i,18)^i>>>3},Bn.g1_256=function(i){return un(i,17)^un(i,19)^i>>>10};var qr=je,jQ=Ab,oo=Bn,FQ=Xp,qi=qr.sum32,WQ=qr.sum32_4,YQ=qr.sum32_5,GQ=oo.ch32,qQ=oo.maj32,HQ=oo.s0_256,KQ=oo.s1_256,JQ=oo.g0_256,eR=oo.g1_256,Ib=jQ.BlockHash,tR=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function vn(){if(!(this instanceof vn))return new vn;Ib.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=tR,this.W=new Array(64)}qr.inherits(vn,Ib);var iR=vn;vn.blockSize=512,vn.outSize=256,vn.hmacStrength=192,vn.padLength=64,vn.prototype._update=function(i,e){for(var t=this.W,n=0;n<16;n++)t[n]=i[e+n];for(;n<t.length;n++)t[n]=WQ(eR(t[n-2]),t[n-7],JQ(t[n-15]),t[n-16]);var s=this.h[0],r=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],h=this.h[5],c=this.h[6],f=this.h[7];for(FQ(this.k.length===t.length),n=0;n<t.length;n++){var p=YQ(f,KQ(l),GQ(l,h,c),this.k[n],t[n]),g=qi(HQ(s),qQ(s,r,o));f=c,c=h,h=l,l=qi(a,p),a=o,o=r,r=s,s=qi(p,g)}this.h[0]=qi(this.h[0],s),this.h[1]=qi(this.h[1],r),this.h[2]=qi(this.h[2],o),this.h[3]=qi(this.h[3],a),this.h[4]=qi(this.h[4],l),this.h[5]=qi(this.h[5],h),this.h[6]=qi(this.h[6],c),this.h[7]=qi(this.h[7],f)},vn.prototype._digest=function(i){return i==="hex"?qr.toHex32(this.h,"big"):qr.split32(this.h,"big")};var nR=cS(iR);const Wo=()=>nR();async function sR(i,e,t,n,s){At("render chunks",2),function(f){for(const p of f)p.facadeModule&&p.facadeModule.isUserDefinedEntryPoint&&p.getPreliminaryFileName()}(i);const r=await Promise.all(i.map(f=>f.render()));xt("render chunks",2),At("transform chunks",2);const o=function(f){return Object.fromEntries(f.map(p=>{const g=p.getRenderedChunkInfo();return[g.fileName,g]}))}(i),{nonHashedChunksWithPlaceholders:a,renderedChunksByPlaceholder:l,hashDependenciesByPlaceholder:h}=await async function(f,p,g,y,v){const w=[],k=new Map,T=new Map,$=new Set;for(const{preliminaryFileName:{hashPlaceholder:E}}of f)E&&$.add(E);return await Promise.all(f.map(async({chunk:E,preliminaryFileName:{fileName:_,hashPlaceholder:N},magicString:z,usedModules:Q})=>{const M={chunk:E,fileName:_,...await rR(z,_,Q,p,g,y,v)},{code:V}=M;if(N){const{containedPlaceholders:B,transformedCode:q}=$Q(V,$),ee=Wo().update(q),K=y.hookReduceValueSync("augmentChunkHash","",[E.getRenderedChunkInfo()],(H,X)=>(X&&(H+=X),H));K&&ee.update(K),k.set(N,M),T.set(N,{containedPlaceholders:B,contentHash:ee.digest("hex")})}else w.push(M)})),{hashDependenciesByPlaceholder:T,nonHashedChunksWithPlaceholders:w,renderedChunksByPlaceholder:k}}(r,o,n,t,s),c=function(f,p,g){const y=new Map;for(const[v,{fileName:w}]of f){let k=Wo();const T=new Set([v]);for(const _ of T){const{containedPlaceholders:N,contentHash:z}=p.get(_);k.update(z);for(const Q of N)T.add(Q)}let $,E;do E&&(k=Wo().update(E)),E=k.digest("hex").slice(0,v.length),$=CQ(w,v,E);while(g[Ac].has($.toLowerCase()));g[$]=Bp,y.set(v,E)}return y}(l,h,e);(function(f,p,g,y,v,w){for(const{chunk:k,code:T,fileName:$,map:E}of f.values()){let _=No(T,p);const N=No($,p);E&&(E.file=No(E.file,p),_+=Gy(N,E,v,w)),g[N]=k.finalizeChunk(_,E,p)}for(const{chunk:k,code:T,fileName:$,map:E}of y){let _=p.size>0?No(T,p):T;E&&(_+=Gy($,E,v,w)),g[$]=k.finalizeChunk(_,E,p)}})(l,c,e,a,t,n),xt("transform chunks",2)}async function rR(i,e,t,n,s,r,o){let a=null;const l=[];let h=await r.hookReduceArg0("renderChunk",[i.toString(),n[e],s,{chunks:n}],(T,$,E)=>{if($==null)return T;if(typeof $=="string"&&($={code:$,map:void 0}),$.map!==null){const _=Br($.map);l.push(_||{missing:!0,plugin:E.name})}return $.code});const{compact:c,dir:f,file:p,sourcemap:g,sourcemapExcludeSources:y,sourcemapFile:v,sourcemapPathTransform:w,sourcemapIgnoreList:k}=s;if(c||h[h.length-1]===`
`||(h+=`
`),g){let T;At("sourcemaps",3),T=p?Ji(v||p):f?Ji(f,e):Ji(e),a=function($,E,_,N,z,Q){const M=$b(Q),V=_.filter(Y=>!Y.excludeFromSourcemap).map(Y=>Pb(Y.id,Y.originalCode,Y.originalSourcemap,Y.sourcemapChain,M)),B=new Kh(E,V),q=N.reduce(M,B);let{sources:ee,sourcesContent:K,names:H,mappings:X}=q.traceMappings();if($){const Y=ir($);ee=ee.map(te=>no(Y,te)),$=Fn($)}K=z?null:K;for(const Y of _)Rp(Y.originalSourcemap,Y.sourcemapChain);return new vc({file:$,mappings:X,names:H,sources:ee,sourcesContent:K})}(T,i.generateDecodedMap({}),t,l,y,o);for(let $=0;$<a.sources.length;++$){let E=a.sources[$];const _=`${T}.map`,N=k(E,_);typeof N!="boolean"&&oe(fi("sourcemapIgnoreList function must return a boolean.")),N&&(a.x_google_ignoreList===void 0&&(a.x_google_ignoreList=[]),a.x_google_ignoreList.includes($)||a.x_google_ignoreList.push($)),w&&(E=w(E,_),typeof E!="string"&&oe(fi("sourcemapPathTransform function must return a string."))),a.sources[$]=Ra(E)}xt("sourcemaps",3)}return{code:h,map:a}}function Gy(i,e,t,{sourcemap:n,sourcemapBaseUrl:s}){let r;if(n==="inline")r=e.toUrl();else{const o=`${Fn(i)}.map`;r=s?new URL(o,s).toString():o,t.emitFile({fileName:`${i}.map`,source:e.toString(),type:"asset"})}return n==="hidden"?"":`//# ${Pp}=${r}
`}class oR{constructor(e,t,n,s,r){this.outputOptions=e,this.unsetOptions=t,this.inputOptions=n,this.pluginDriver=s,this.graph=r,this.facadeChunkByModule=new Map,this.includedNamespaces=new Set}async generate(e){At("GENERATE",1);const t=Object.create(null),n=(s=>{const r=new Set;return new Proxy(s,{deleteProperty:(o,a)=>(typeof a=="string"&&r.delete(a.toLowerCase()),Reflect.deleteProperty(o,a)),get:(o,a)=>a===Ac?r:Reflect.get(o,a),set:(o,a,l)=>(typeof a=="string"&&r.add(a.toLowerCase()),Reflect.set(o,a,l))})})(t);this.pluginDriver.setOutputBundle(n,this.outputOptions);try{At("initialize render",2),await this.pluginDriver.hookParallel("renderStart",[this.outputOptions,this.inputOptions]),xt("initialize render",2),At("generate chunks",2);const s=(()=>{let o=0;return(a,l=8)=>{if(l>64)return oe(fi(`Hashes cannot be longer than 64 characters, received ${l}. Check the "${a}" option.`));const h=`${Np}${Wh(++o).padStart(l-5,"0")}${Dp}`;return h.length>l?oe(fi(`To generate hashes for this number of chunks (currently ${o}), you need a minimum hash size of ${h.length}, received ${l}. Check the "${a}" option.`)):h}})(),r=await this.generateChunks(n,s);r.length>1&&function(o,a){if(o.format==="umd"||o.format==="iife")return oe(vt("output.format",bS,"UMD and IIFE output formats are not supported for code-splitting builds",o.format));if(typeof o.file=="string")return oe(vt("output.file",ua,'when building multiple chunks, the "output.dir" option must be used, not "output.file". To inline dynamic imports, set the "inlineDynamicImports" option'));if(o.sourcemapFile)return oe(vt("output.sourcemapFile",N_,'"output.sourcemapFile" is only supported for single-file builds'));!o.amd.autoId&&o.amd.id&&a(ke,vt("output.amd.id",SS,'this option is only properly supported for single-file builds. Use "output.amd.autoId" and "output.amd.basePath" instead'))}(this.outputOptions,this.inputOptions.onLog),this.pluginDriver.setChunkInformation(this.facadeChunkByModule);for(const o of r)o.generateExports();xt("generate chunks",2),await sR(r,n,this.pluginDriver,this.outputOptions,this.inputOptions.onLog)}catch(s){throw await this.pluginDriver.hookParallel("renderError",[s]),s}return(s=>{const r=new Set,o=Object.values(s);for(const a of o)a.type==="asset"&&a.needsCodeReference&&r.add(a.fileName);for(const a of o)if(a.type==="chunk")for(const l of a.referencedFiles)r.has(l)&&r.delete(l);for(const a of r)delete s[a]})(n),At("generate bundle",2),await this.pluginDriver.hookSeq("generateBundle",[this.outputOptions,n,e]),this.finaliseAssets(n),xt("generate bundle",2),xt("GENERATE",1),t}async addManualChunks(e){const t=new Map,n=await Promise.all(Object.entries(e).map(async([s,r])=>({alias:s,entries:await this.graph.moduleLoader.addAdditionalModules(r,!0)})));for(const{alias:s,entries:r}of n)for(const o of r)qy(s,o,t);return t}assignManualChunks(e){const t=[],n={getModuleIds:()=>this.graph.modulesById.keys(),getModuleInfo:this.graph.getModuleInfo};for(const r of this.graph.modulesById.values())if(r instanceof mt){const o=e(r.id,n);typeof o=="string"&&t.push([o,r])}t.sort(([r],[o])=>r>o?1:r<o?-1:0);const s=new Map;for(const[r,o]of t)qy(r,o,s);return s}finaliseAssets(e){if(this.outputOptions.validate){for(const t of Object.values(e))if("code"in t)try{this.graph.contextParse(t.code,{ecmaVersion:"latest"})}catch(n){this.inputOptions.onLog(ke,hT(t,n))}}this.pluginDriver.finaliseAssets()}async generateChunks(e,t){const{experimentalMinChunkSize:n,inlineDynamicImports:s,manualChunks:r,preserveModules:o}=this.outputOptions,a=typeof r=="object"?await this.addManualChunks(r):this.assignManualChunks(r),l=function({compact:v,generatedCode:{arrowFunctions:w,constBindings:k,objectShorthand:T,reservedNamesAsProps:$}}){const{_:E,n:_,s:N}=v?{_:"",n:"",s:""}:{_:" ",n:`
`,s:";"},z=k?"const":"var",Q=(q,{isAsync:ee,name:K})=>`${ee?"async ":""}function${K?` ${K}`:""}${E}(${q.join(`,${E}`)})${E}`,M=w?(q,{isAsync:ee,name:K})=>{const H=q.length===1;return`${K?`${z} ${K}${E}=${E}`:""}${ee?`async${H?" ":E}`:""}${H?q[0]:`(${q.join(`,${E}`)})`}${E}=>${E}`}:Q,V=(q,{functionReturn:ee,lineBreakIndent:K,name:H})=>[`${M(q,{isAsync:!1,name:H})}${w?K?`${_}${K.base}${K.t}`:"":`{${K?`${_}${K.base}${K.t}`:E}${ee?"return ":""}`}`,w?`${H?";":""}${K?`${_}${K.base}`:""}`:`${N}${K?`${_}${K.base}`:E}}`],B=$?q=>By.test(q):q=>!wc.has(q)&&By.test(q);return{_:E,cnst:z,getDirectReturnFunction:V,getDirectReturnIifeLeft:(q,ee,{needsArrowReturnParens:K,needsWrappedFunction:H})=>{const[X,Y]=V(q,{functionReturn:!0,lineBreakIndent:null,name:null});return`${Vy(`${X}${Vy(ee,w&&K)}${Y}`,w||H)}(`},getFunctionIntro:M,getNonArrowFunctionIntro:Q,getObject(q,{lineBreakIndent:ee}){const K=ee?`${_}${ee.base}${ee.t}`:E;return`{${q.map(([H,X])=>{if(H===null)return`${K}${X}`;const Y=!B(H);return H===X&&T&&!Y?K+H:`${K}${Y?`'${H}'`:H}:${E}${X}`}).join(",")}${q.length===0?"":ee?`${_}${ee.base}`:E}}`},getPropertyAccess:q=>B(q)?`.${q}`:`[${JSON.stringify(q)}]`,n:_,s:N}}(this.outputOptions),h=function(v){const w=[];for(const k of v.values())k instanceof mt&&(k.isIncluded()||k.info.isEntry||k.includedDynamicImporters.length>0)&&w.push(k);return w}(this.graph.modulesById),c=function(v){if(v.length===0)return"/";if(v.length===1)return ir(v[0]);const w=v.slice(1).reduce((k,T)=>{const $=T.split(/\/+|\\+/);let E;for(E=0;k[E]===$[E]&&E<Math.min(k.length,$.length);E++);return k.slice(0,E)},v[0].split(/\/+|\\+/));return w.length>1?w.join("/"):"/"}(function(v,w){const k=[];for(const T of v)(T.info.isEntry||w)&&ws(T.id)&&k.push(T.id);return k}(h,o)),f=function(v,w,k){const T=new Map;for(const $ of v.values())$ instanceof st&&T.set($,new Ar($,w,k));return T}(this.graph.modulesById,this.outputOptions,c),p=[],g=new Map;for(const{alias:v,modules:w}of s?[{alias:null,modules:h}]:o?h.map(k=>({alias:null,modules:[k]})):_Q(this.graph.entryModules,a,n,this.inputOptions.onLog)){w.sort(DQ);const k=new AQ(w,this.inputOptions,this.outputOptions,this.unsetOptions,this.pluginDriver,this.graph.modulesById,g,f,this.facadeChunkByModule,this.includedNamespaces,v,t,e,c,l);p.push(k)}for(const v of p)v.link();const y=[];for(const v of p)y.push(...v.generateFacades());return[...p,...y]}}function qy(i,e,t){const n=t.get(e);if(typeof n=="string"&&n!==i)return oe((s=e.id,r=i,o=n,{code:G_,message:`Cannot assign "${Ae(s)}" to the "${r}" chunk as it is already in the "${o}" chunk.`}));var s,r,o;t.set(e,i)}var aR=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Mb=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],_b="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Bu={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Xu="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",lR={5:Xu,"5module":Xu+" export import",6:Xu+" const class extends export import super"},hR=/^in(stanceof)?$/,cR=new RegExp("["+_b+"]"),uR=new RegExp("["+_b+"‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿]");function Sd(i,e){for(var t=65536,n=0;n<e.length;n+=2){if((t+=e[n])>i)return!1;if((t+=e[n+1])>=i)return!0}return!1}function bn(i,e){return i<65?i===36:i<91||(i<97?i===95:i<123||(i<=65535?i>=170&&cR.test(String.fromCharCode(i)):e!==!1&&Sd(i,Mb)))}function rr(i,e){return i<48?i===36:i<58||!(i<65)&&(i<91||(i<97?i===95:i<123||(i<=65535?i>=170&&uR.test(String.fromCharCode(i)):e!==!1&&(Sd(i,Mb)||Sd(i,aR)))))}var De=function(i,e){e===void 0&&(e={}),this.label=i,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null};function Mi(i,e){return new De(i,{beforeExpr:!0,binop:e})}var _i={beforeExpr:!0},hi={startsExpr:!0},Ic={};function Le(i,e){return e===void 0&&(e={}),e.keyword=i,Ic[i]=new De(i,e)}var P={num:new De("num",hi),regexp:new De("regexp",hi),string:new De("string",hi),name:new De("name",hi),privateId:new De("privateId",hi),eof:new De("eof"),bracketL:new De("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new De("]"),braceL:new De("{",{beforeExpr:!0,startsExpr:!0}),braceR:new De("}"),parenL:new De("(",{beforeExpr:!0,startsExpr:!0}),parenR:new De(")"),comma:new De(",",_i),semi:new De(";",_i),colon:new De(":",_i),dot:new De("."),question:new De("?",_i),questionDot:new De("?."),arrow:new De("=>",_i),template:new De("template"),invalidTemplate:new De("invalidTemplate"),ellipsis:new De("...",_i),backQuote:new De("`",hi),dollarBraceL:new De("${",{beforeExpr:!0,startsExpr:!0}),eq:new De("=",{beforeExpr:!0,isAssign:!0}),assign:new De("_=",{beforeExpr:!0,isAssign:!0}),incDec:new De("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new De("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Mi("||",1),logicalAND:Mi("&&",2),bitwiseOR:Mi("|",3),bitwiseXOR:Mi("^",4),bitwiseAND:Mi("&",5),equality:Mi("==/!=/===/!==",6),relational:Mi("</>/<=/>=",7),bitShift:Mi("<</>>/>>>",8),plusMin:new De("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Mi("%",10),star:Mi("*",10),slash:Mi("/",10),starstar:new De("**",{beforeExpr:!0}),coalesce:Mi("??",1),_break:Le("break"),_case:Le("case",_i),_catch:Le("catch"),_continue:Le("continue"),_debugger:Le("debugger"),_default:Le("default",_i),_do:Le("do",{isLoop:!0,beforeExpr:!0}),_else:Le("else",_i),_finally:Le("finally"),_for:Le("for",{isLoop:!0}),_function:Le("function",hi),_if:Le("if"),_return:Le("return",_i),_switch:Le("switch"),_throw:Le("throw",_i),_try:Le("try"),_var:Le("var"),_const:Le("const"),_while:Le("while",{isLoop:!0}),_with:Le("with"),_new:Le("new",{beforeExpr:!0,startsExpr:!0}),_this:Le("this",hi),_super:Le("super",hi),_class:Le("class",hi),_extends:Le("extends",_i),_export:Le("export"),_import:Le("import",hi),_null:Le("null",hi),_true:Le("true",hi),_false:Le("false",hi),_in:Le("in",{beforeExpr:!0,binop:7}),_instanceof:Le("instanceof",{beforeExpr:!0,binop:7}),_typeof:Le("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Le("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Le("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Pi=/\r\n?|\n|\u2028|\u2029/,Tb=new RegExp(Pi.source,"g");function or(i){return i===10||i===13||i===8232||i===8233}function Qb(i,e,t){t===void 0&&(t=i.length);for(var n=e;n<t;n++){var s=i.charCodeAt(n);if(or(s))return n<t-1&&s===13&&i.charCodeAt(n+1)===10?n+2:n+1}return-1}var zp=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ni=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Rb=Object.prototype,fR=Rb.hasOwnProperty,dR=Rb.toString,Sa=Object.hasOwn||function(i,e){return fR.call(i,e)},Hy=Array.isArray||function(i){return dR.call(i)==="[object Array]"};function cs(i){return new RegExp("^(?:"+i.replace(/ /g,"|")+")$")}function Cs(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode(55296+(i>>10),56320+(1023&i)))}var pR=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Hr=function(i,e){this.line=i,this.column=e};Hr.prototype.offset=function(i){return new Hr(this.line,this.column+i)};var Za=function(i,e,t){this.start=e,this.end=t,i.sourceFile!==null&&(this.source=i.sourceFile)};function Zp(i,e){for(var t=1,n=0;;){var s=Qb(i,n,e);if(s<0)return new Hr(t,e-n);++t,n=s}}var Jh={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Ky=!1;function mR(i){var e={};for(var t in Jh)e[t]=i&&Sa(i,t)?i[t]:Jh[t];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!Ky&&typeof console=="object"&&console.warn&&(Ky=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),i&&i.allowHashBang!=null||(e.allowHashBang=e.ecmaVersion>=14),Hy(e.onToken)){var n=e.onToken;e.onToken=function(s){return n.push(s)}}return Hy(e.onComment)&&(e.onComment=function(s,r){return function(o,a,l,h,c,f){var p={type:o?"Block":"Line",value:a,start:l,end:h};s.locations&&(p.loc=new Za(this,c,f)),s.ranges&&(p.range=[l,h]),r.push(p)}}(e,e.onComment)),e}var Jy=256;function bd(i,e){return 2|(i?4:0)|(e?8:0)}var ut=function(i,e,t){this.options=i=mR(i),this.sourceFile=i.sourceFile,this.keywords=cs(lR[i.ecmaVersion>=6?6:i.sourceType==="module"?"5module":5]);var n="";i.allowReserved!==!0&&(n=Bu[i.ecmaVersion>=6?6:i.ecmaVersion===5?5:3],i.sourceType==="module"&&(n+=" await")),this.reservedWords=cs(n);var s=(n?n+" ":"")+Bu.strict;this.reservedWordsStrict=cs(s),this.reservedWordsStrictBind=cs(s+" "+Bu.strictBind),this.input=String(e),this.containsEsc=!1,t?(this.pos=t,this.lineStart=this.input.lastIndexOf(`
`,t-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Pi).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=P.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=i.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&i.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},fn={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ut.prototype.parse=function(){var i=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(i)},fn.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},fn.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},fn.inAsync.get=function(){return(4&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},fn.canAwait.get=function(){for(var i=this.scopeStack.length-1;i>=0;i--){var e=this.scopeStack[i];if(e.inClassFieldInit||e.flags&Jy)return!1;if(2&e.flags)return(4&e.flags)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},fn.allowSuper.get=function(){var i=this.currentThisScope(),e=i.flags,t=i.inClassFieldInit;return(64&e)>0||t||this.options.allowSuperOutsideMethod},fn.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},fn.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},fn.allowNewDotTarget.get=function(){var i=this.currentThisScope(),e=i.flags,t=i.inClassFieldInit;return(258&e)>0||t},fn.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Jy)>0},ut.extend=function(){for(var i=[],e=arguments.length;e--;)i[e]=arguments[e];for(var t=this,n=0;n<i.length;n++)t=i[n](t);return t},ut.parse=function(i,e){return new this(e,i).parse()},ut.parseExpressionAt=function(i,e,t){var n=new this(t,i,e);return n.nextToken(),n.parseExpression()},ut.tokenizer=function(i,e){return new this(e,i)},Object.defineProperties(ut.prototype,fn);var si=ut.prototype,gR=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;si.strictDirective=function(i){if(this.options.ecmaVersion<5)return!1;for(;;){Ni.lastIndex=i,i+=Ni.exec(this.input)[0].length;var e=gR.exec(this.input.slice(i));if(!e)return!1;if((e[1]||e[2])==="use strict"){Ni.lastIndex=i+e[0].length;var t=Ni.exec(this.input),n=t.index+t[0].length,s=this.input.charAt(n);return s===";"||s==="}"||Pi.test(t[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||s==="!"&&this.input.charAt(n+1)==="=")}i+=e[0].length,Ni.lastIndex=i,i+=Ni.exec(this.input)[0].length,this.input[i]===";"&&i++}},si.eat=function(i){return this.type===i&&(this.next(),!0)},si.isContextual=function(i){return this.type===P.name&&this.value===i&&!this.containsEsc},si.eatContextual=function(i){return!!this.isContextual(i)&&(this.next(),!0)},si.expectContextual=function(i){this.eatContextual(i)||this.unexpected()},si.canInsertSemicolon=function(){return this.type===P.eof||this.type===P.braceR||Pi.test(this.input.slice(this.lastTokEnd,this.start))},si.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},si.semicolon=function(){this.eat(P.semi)||this.insertSemicolon()||this.unexpected()},si.afterTrailingComma=function(i,e){if(this.type===i)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},si.expect=function(i){this.eat(i)||this.unexpected()},si.unexpected=function(i){this.raise(i??this.start,"Unexpected token")};var rh=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};si.checkPatternErrors=function(i,e){if(i){i.trailingComma>-1&&this.raiseRecoverable(i.trailingComma,"Comma is not permitted after the rest element");var t=e?i.parenthesizedAssign:i.parenthesizedBind;t>-1&&this.raiseRecoverable(t,e?"Assigning to rvalue":"Parenthesized pattern")}},si.checkExpressionErrors=function(i,e){if(!i)return!1;var t=i.shorthandAssign,n=i.doubleProto;if(!e)return t>=0||n>=0;t>=0&&this.raise(t,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")},si.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},si.isSimpleAssignTarget=function(i){return i.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(i.expression):i.type==="Identifier"||i.type==="MemberExpression"};var ge=ut.prototype;ge.parseTopLevel=function(i){var e=Object.create(null);for(i.body||(i.body=[]);this.type!==P.eof;){var t=this.parseStatement(null,!0,e);i.body.push(t)}if(this.inModule)for(var n=0,s=Object.keys(this.undefinedExports);n<s.length;n+=1){var r=s[n];this.raiseRecoverable(this.undefinedExports[r].start,"Export '"+r+"' is not defined")}return this.adaptDirectivePrologue(i.body),this.next(),i.sourceType=this.options.sourceType,this.finishNode(i,"Program")};var wd={kind:"loop"},OR={kind:"switch"};ge.isLet=function(i){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Ni.lastIndex=this.pos;var e=Ni.exec(this.input),t=this.pos+e[0].length,n=this.input.charCodeAt(t);if(n===91||n===92)return!0;if(i)return!1;if(n===123||n>55295&&n<56320)return!0;if(bn(n,!0)){for(var s=t+1;rr(n=this.input.charCodeAt(s),!0);)++s;if(n===92||n>55295&&n<56320)return!0;var r=this.input.slice(t,s);if(!hR.test(r))return!0}return!1},ge.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Ni.lastIndex=this.pos;var i,e=Ni.exec(this.input),t=this.pos+e[0].length;return!(Pi.test(this.input.slice(this.pos,t))||this.input.slice(t,t+8)!=="function"||t+8!==this.input.length&&(rr(i=this.input.charCodeAt(t+8))||i>55295&&i<56320))},ge.parseStatement=function(i,e,t){var n,s=this.type,r=this.startNode();switch(this.isLet(i)&&(s=P._var,n="let"),s){case P._break:case P._continue:return this.parseBreakContinueStatement(r,s.keyword);case P._debugger:return this.parseDebuggerStatement(r);case P._do:return this.parseDoStatement(r);case P._for:return this.parseForStatement(r);case P._function:return i&&(this.strict||i!=="if"&&i!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!i);case P._class:return i&&this.unexpected(),this.parseClass(r,!0);case P._if:return this.parseIfStatement(r);case P._return:return this.parseReturnStatement(r);case P._switch:return this.parseSwitchStatement(r);case P._throw:return this.parseThrowStatement(r);case P._try:return this.parseTryStatement(r);case P._const:case P._var:return n=n||this.value,i&&n!=="var"&&this.unexpected(),this.parseVarStatement(r,n);case P._while:return this.parseWhileStatement(r);case P._with:return this.parseWithStatement(r);case P.braceL:return this.parseBlock(!0,r);case P.semi:return this.parseEmptyStatement(r);case P._export:case P._import:if(this.options.ecmaVersion>10&&s===P._import){Ni.lastIndex=this.pos;var o=Ni.exec(this.input),a=this.pos+o[0].length,l=this.input.charCodeAt(a);if(l===40||l===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),s===P._import?this.parseImport(r):this.parseExport(r,t);default:if(this.isAsyncFunction())return i&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!i);var h=this.value,c=this.parseExpression();return s===P.name&&c.type==="Identifier"&&this.eat(P.colon)?this.parseLabeledStatement(r,h,c,i):this.parseExpressionStatement(r,c)}},ge.parseBreakContinueStatement=function(i,e){var t=e==="break";this.next(),this.eat(P.semi)||this.insertSemicolon()?i.label=null:this.type!==P.name?this.unexpected():(i.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var s=this.labels[n];if((i.label==null||s.name===i.label.name)&&(s.kind!=null&&(t||s.kind==="loop")||i.label&&t))break}return n===this.labels.length&&this.raise(i.start,"Unsyntactic "+e),this.finishNode(i,t?"BreakStatement":"ContinueStatement")},ge.parseDebuggerStatement=function(i){return this.next(),this.semicolon(),this.finishNode(i,"DebuggerStatement")},ge.parseDoStatement=function(i){return this.next(),this.labels.push(wd),i.body=this.parseStatement("do"),this.labels.pop(),this.expect(P._while),i.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(P.semi):this.semicolon(),this.finishNode(i,"DoWhileStatement")},ge.parseForStatement=function(i){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(wd),this.enterScope(0),this.expect(P.parenL),this.type===P.semi)return e>-1&&this.unexpected(e),this.parseFor(i,null);var t=this.isLet();if(this.type===P._var||this.type===P._const||t){var n=this.startNode(),s=t?"let":this.value;return this.next(),this.parseVar(n,!0,s),this.finishNode(n,"VariableDeclaration"),(this.type===P._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&n.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===P._in?e>-1&&this.unexpected(e):i.await=e>-1),this.parseForIn(i,n)):(e>-1&&this.unexpected(e),this.parseFor(i,n))}var r=this.isContextual("let"),o=!1,a=new rh,l=this.parseExpression(!(e>-1)||"await",a);return this.type===P._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===P._in?e>-1&&this.unexpected(e):i.await=e>-1),r&&o&&this.raise(l.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(l,!1,a),this.checkLValPattern(l),this.parseForIn(i,l)):(this.checkExpressionErrors(a,!0),e>-1&&this.unexpected(e),this.parseFor(i,l))},ge.parseFunctionStatement=function(i,e,t){return this.next(),this.parseFunction(i,Do|(t?0:kd),!1,e)},ge.parseIfStatement=function(i){return this.next(),i.test=this.parseParenExpression(),i.consequent=this.parseStatement("if"),i.alternate=this.eat(P._else)?this.parseStatement("if"):null,this.finishNode(i,"IfStatement")},ge.parseReturnStatement=function(i){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(P.semi)||this.insertSemicolon()?i.argument=null:(i.argument=this.parseExpression(),this.semicolon()),this.finishNode(i,"ReturnStatement")},ge.parseSwitchStatement=function(i){var e;this.next(),i.discriminant=this.parseParenExpression(),i.cases=[],this.expect(P.braceL),this.labels.push(OR),this.enterScope(0);for(var t=!1;this.type!==P.braceR;)if(this.type===P._case||this.type===P._default){var n=this.type===P._case;e&&this.finishNode(e,"SwitchCase"),i.cases.push(e=this.startNode()),e.consequent=[],this.next(),n?e.test=this.parseExpression():(t&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),t=!0,e.test=null),this.expect(P.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(i,"SwitchStatement")},ge.parseThrowStatement=function(i){return this.next(),Pi.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),i.argument=this.parseExpression(),this.semicolon(),this.finishNode(i,"ThrowStatement")};var yR=[];ge.parseCatchClauseParam=function(){var i=this.parseBindingAtom(),e=i.type==="Identifier";return this.enterScope(e?32:0),this.checkLValPattern(i,e?4:2),this.expect(P.parenR),i},ge.parseTryStatement=function(i){if(this.next(),i.block=this.parseBlock(),i.handler=null,this.type===P._catch){var e=this.startNode();this.next(),this.eat(P.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),i.handler=this.finishNode(e,"CatchClause")}return i.finalizer=this.eat(P._finally)?this.parseBlock():null,i.handler||i.finalizer||this.raise(i.start,"Missing catch or finally clause"),this.finishNode(i,"TryStatement")},ge.parseVarStatement=function(i,e,t){return this.next(),this.parseVar(i,!1,e,t),this.semicolon(),this.finishNode(i,"VariableDeclaration")},ge.parseWhileStatement=function(i){return this.next(),i.test=this.parseParenExpression(),this.labels.push(wd),i.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(i,"WhileStatement")},ge.parseWithStatement=function(i){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),i.object=this.parseParenExpression(),i.body=this.parseStatement("with"),this.finishNode(i,"WithStatement")},ge.parseEmptyStatement=function(i){return this.next(),this.finishNode(i,"EmptyStatement")},ge.parseLabeledStatement=function(i,e,t,n){for(var s=0,r=this.labels;s<r.length;s+=1)r[s].name===e&&this.raise(t.start,"Label '"+e+"' is already declared");for(var o=this.type.isLoop?"loop":this.type===P._switch?"switch":null,a=this.labels.length-1;a>=0;a--){var l=this.labels[a];if(l.statementStart!==i.start)break;l.statementStart=this.start,l.kind=o}return this.labels.push({name:e,kind:o,statementStart:this.start}),i.body=this.parseStatement(n?n.indexOf("label")===-1?n+"label":n:"label"),this.labels.pop(),i.label=t,this.finishNode(i,"LabeledStatement")},ge.parseExpressionStatement=function(i,e){return i.expression=e,this.semicolon(),this.finishNode(i,"ExpressionStatement")},ge.parseBlock=function(i,e,t){for(i===void 0&&(i=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(P.braceL),i&&this.enterScope(0);this.type!==P.braceR;){var n=this.parseStatement(null);e.body.push(n)}return t&&(this.strict=!1),this.next(),i&&this.exitScope(),this.finishNode(e,"BlockStatement")},ge.parseFor=function(i,e){return i.init=e,this.expect(P.semi),i.test=this.type===P.semi?null:this.parseExpression(),this.expect(P.semi),i.update=this.type===P.parenR?null:this.parseExpression(),this.expect(P.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,"ForStatement")},ge.parseForIn=function(i,e){var t=this.type===P._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!t||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(t?"for-in":"for-of")+" loop variable declaration may not have an initializer"),i.left=e,i.right=t?this.parseExpression():this.parseMaybeAssign(),this.expect(P.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,t?"ForInStatement":"ForOfStatement")},ge.parseVar=function(i,e,t,n){for(i.declarations=[],i.kind=t;;){var s=this.startNode();if(this.parseVarId(s,t),this.eat(P.eq)?s.init=this.parseMaybeAssign(e):n||t!=="const"||this.type===P._in||this.options.ecmaVersion>=6&&this.isContextual("of")?n||s.id.type==="Identifier"||e&&(this.type===P._in||this.isContextual("of"))?s.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),i.declarations.push(this.finishNode(s,"VariableDeclarator")),!this.eat(P.comma))break}return i},ge.parseVarId=function(i,e){i.id=this.parseBindingAtom(),this.checkLValPattern(i.id,e==="var"?1:2,!1)};var Do=1,kd=2;function vR(i,e){var t=e.key.name,n=i[t],s="true";return e.type!=="MethodDefinition"||e.kind!=="get"&&e.kind!=="set"||(s=(e.static?"s":"i")+e.kind),n==="iget"&&s==="iset"||n==="iset"&&s==="iget"||n==="sget"&&s==="sset"||n==="sset"&&s==="sget"?(i[t]="true",!1):!!n||(i[t]=s,!1)}function _l(i,e){var t=i.computed,n=i.key;return!t&&(n.type==="Identifier"&&n.name===e||n.type==="Literal"&&n.value===e)}ge.parseFunction=function(i,e,t,n,s){this.initFunction(i),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===P.star&&e&kd&&this.unexpected(),i.generator=this.eat(P.star)),this.options.ecmaVersion>=8&&(i.async=!!n),e&Do&&(i.id=4&e&&this.type!==P.name?null:this.parseIdent(),!i.id||e&kd||this.checkLValSimple(i.id,this.strict||i.generator||i.async?this.treatFunctionsAsVar?1:2:3));var r=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(bd(i.async,i.generator)),e&Do||(i.id=this.type===P.name?this.parseIdent():null),this.parseFunctionParams(i),this.parseFunctionBody(i,t,!1,s),this.yieldPos=r,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(i,e&Do?"FunctionDeclaration":"FunctionExpression")},ge.parseFunctionParams=function(i){this.expect(P.parenL),i.params=this.parseBindingList(P.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},ge.parseClass=function(i,e){this.next();var t=this.strict;this.strict=!0,this.parseClassId(i,e),this.parseClassSuper(i);var n=this.enterClassBody(),s=this.startNode(),r=!1;for(s.body=[],this.expect(P.braceL);this.type!==P.braceR;){var o=this.parseClassElement(i.superClass!==null);o&&(s.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(r&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),r=!0):o.key&&o.key.type==="PrivateIdentifier"&&vR(n,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=t,this.next(),i.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(i,e?"ClassDeclaration":"ClassExpression")},ge.parseClassElement=function(i){if(this.eat(P.semi))return null;var e=this.options.ecmaVersion,t=this.startNode(),n="",s=!1,r=!1,o="method",a=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(P.braceL))return this.parseClassStaticBlock(t),t;this.isClassElementNameStart()||this.type===P.star?a=!0:n="static"}if(t.static=a,!n&&e>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==P.star||this.canInsertSemicolon()?n="async":r=!0),!n&&(e>=9||!r)&&this.eat(P.star)&&(s=!0),!n&&!r&&!s){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=l:n=l)}if(n?(t.computed=!1,t.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),t.key.name=n,this.finishNode(t.key,"Identifier")):this.parseClassElementName(t),e<13||this.type===P.parenL||o!=="method"||s||r){var h=!t.static&&_l(t,"constructor"),c=h&&i;h&&o!=="method"&&this.raise(t.key.start,"Constructor can't have get/set modifier"),t.kind=h?"constructor":o,this.parseClassMethod(t,s,r,c)}else this.parseClassField(t);return t},ge.isClassElementNameStart=function(){return this.type===P.name||this.type===P.privateId||this.type===P.num||this.type===P.string||this.type===P.bracketL||this.type.keyword},ge.parseClassElementName=function(i){this.type===P.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),i.computed=!1,i.key=this.parsePrivateIdent()):this.parsePropertyName(i)},ge.parseClassMethod=function(i,e,t,n){var s=i.key;i.kind==="constructor"?(e&&this.raise(s.start,"Constructor can't be a generator"),t&&this.raise(s.start,"Constructor can't be an async method")):i.static&&_l(i,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var r=i.value=this.parseMethod(e,t,n);return i.kind==="get"&&r.params.length!==0&&this.raiseRecoverable(r.start,"getter should have no params"),i.kind==="set"&&r.params.length!==1&&this.raiseRecoverable(r.start,"setter should have exactly one param"),i.kind==="set"&&r.params[0].type==="RestElement"&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(i,"MethodDefinition")},ge.parseClassField=function(i){if(_l(i,"constructor")?this.raise(i.key.start,"Classes can't have a field named 'constructor'"):i.static&&_l(i,"prototype")&&this.raise(i.key.start,"Classes can't have a static field named 'prototype'"),this.eat(P.eq)){var e=this.currentThisScope(),t=e.inClassFieldInit;e.inClassFieldInit=!0,i.value=this.parseMaybeAssign(),e.inClassFieldInit=t}else i.value=null;return this.semicolon(),this.finishNode(i,"PropertyDefinition")},ge.parseClassStaticBlock=function(i){i.body=[];var e=this.labels;for(this.labels=[],this.enterScope(320);this.type!==P.braceR;){var t=this.parseStatement(null);i.body.push(t)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(i,"StaticBlock")},ge.parseClassId=function(i,e){this.type===P.name?(i.id=this.parseIdent(),e&&this.checkLValSimple(i.id,2,!1)):(e===!0&&this.unexpected(),i.id=null)},ge.parseClassSuper=function(i){i.superClass=this.eat(P._extends)?this.parseExprSubscripts(null,!1):null},ge.enterClassBody=function(){var i={declared:Object.create(null),used:[]};return this.privateNameStack.push(i),i.declared},ge.exitClassBody=function(){var i=this.privateNameStack.pop(),e=i.declared,t=i.used;if(this.options.checkPrivateFields)for(var n=this.privateNameStack.length,s=n===0?null:this.privateNameStack[n-1],r=0;r<t.length;++r){var o=t[r];Sa(e,o.name)||(s?s.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}},ge.parseExportAllDeclaration=function(i,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(i.exported=this.parseModuleExportName(),this.checkExport(e,i.exported,this.lastTokStart)):i.exported=null),this.expectContextual("from"),this.type!==P.string&&this.unexpected(),i.source=this.parseExprAtom(),this.semicolon(),this.finishNode(i,"ExportAllDeclaration")},ge.parseExport=function(i,e){if(this.next(),this.eat(P.star))return this.parseExportAllDeclaration(i,e);if(this.eat(P._default))return this.checkExport(e,"default",this.lastTokStart),i.declaration=this.parseExportDefaultDeclaration(),this.finishNode(i,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())i.declaration=this.parseExportDeclaration(i),i.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,i.declaration.declarations):this.checkExport(e,i.declaration.id,i.declaration.id.start),i.specifiers=[],i.source=null;else{if(i.declaration=null,i.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==P.string&&this.unexpected(),i.source=this.parseExprAtom();else{for(var t=0,n=i.specifiers;t<n.length;t+=1){var s=n[t];this.checkUnreserved(s.local),this.checkLocalExport(s.local),s.local.type==="Literal"&&this.raise(s.local.start,"A string literal cannot be used as an exported binding without `from`.")}i.source=null}this.semicolon()}return this.finishNode(i,"ExportNamedDeclaration")},ge.parseExportDeclaration=function(i){return this.parseStatement(null)},ge.parseExportDefaultDeclaration=function(){var i;if(this.type===P._function||(i=this.isAsyncFunction())){var e=this.startNode();return this.next(),i&&this.next(),this.parseFunction(e,4|Do,!1,i)}if(this.type===P._class){var t=this.startNode();return this.parseClass(t,"nullableID")}var n=this.parseMaybeAssign();return this.semicolon(),n},ge.checkExport=function(i,e,t){i&&(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Sa(i,e)&&this.raiseRecoverable(t,"Duplicate export '"+e+"'"),i[e]=!0)},ge.checkPatternExport=function(i,e){var t=e.type;if(t==="Identifier")this.checkExport(i,e,e.start);else if(t==="ObjectPattern")for(var n=0,s=e.properties;n<s.length;n+=1){var r=s[n];this.checkPatternExport(i,r)}else if(t==="ArrayPattern")for(var o=0,a=e.elements;o<a.length;o+=1){var l=a[o];l&&this.checkPatternExport(i,l)}else t==="Property"?this.checkPatternExport(i,e.value):t==="AssignmentPattern"?this.checkPatternExport(i,e.left):t==="RestElement"?this.checkPatternExport(i,e.argument):t==="ParenthesizedExpression"&&this.checkPatternExport(i,e.expression)},ge.checkVariableExport=function(i,e){if(i)for(var t=0,n=e;t<n.length;t+=1){var s=n[t];this.checkPatternExport(i,s.id)}},ge.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},ge.parseExportSpecifier=function(i){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(i,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")},ge.parseExportSpecifiers=function(i){var e=[],t=!0;for(this.expect(P.braceL);!this.eat(P.braceR);){if(t)t=!1;else if(this.expect(P.comma),this.afterTrailingComma(P.braceR))break;e.push(this.parseExportSpecifier(i))}return e},ge.parseImport=function(i){return this.next(),this.type===P.string?(i.specifiers=yR,i.source=this.parseExprAtom()):(i.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),i.source=this.type===P.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(i,"ImportDeclaration")},ge.parseImportSpecifier=function(){var i=this.startNode();return i.imported=this.parseModuleExportName(),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLValSimple(i.local,2),this.finishNode(i,"ImportSpecifier")},ge.parseImportDefaultSpecifier=function(){var i=this.startNode();return i.local=this.parseIdent(),this.checkLValSimple(i.local,2),this.finishNode(i,"ImportDefaultSpecifier")},ge.parseImportNamespaceSpecifier=function(){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLValSimple(i.local,2),this.finishNode(i,"ImportNamespaceSpecifier")},ge.parseImportSpecifiers=function(){var i=[],e=!0;if(this.type===P.name&&(i.push(this.parseImportDefaultSpecifier()),!this.eat(P.comma)))return i;if(this.type===P.star)return i.push(this.parseImportNamespaceSpecifier()),i;for(this.expect(P.braceL);!this.eat(P.braceR);){if(e)e=!1;else if(this.expect(P.comma),this.afterTrailingComma(P.braceR))break;i.push(this.parseImportSpecifier())}return i},ge.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===P.string){var i=this.parseLiteral(this.value);return pR.test(i.value)&&this.raise(i.start,"An export name cannot include a lone surrogate."),i}return this.parseIdent(!0)},ge.adaptDirectivePrologue=function(i){for(var e=0;e<i.length&&this.isDirectiveCandidate(i[e]);++e)i[e].directive=i[e].expression.raw.slice(1,-1)},ge.isDirectiveCandidate=function(i){return this.options.ecmaVersion>=5&&i.type==="ExpressionStatement"&&i.expression.type==="Literal"&&typeof i.expression.value=="string"&&(this.input[i.start]==='"'||this.input[i.start]==="'")};var Ti=ut.prototype;Ti.toAssignable=function(i,e,t){if(this.options.ecmaVersion>=6&&i)switch(i.type){case"Identifier":this.inAsync&&i.name==="await"&&this.raise(i.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":i.type="ObjectPattern",t&&this.checkPatternErrors(t,!0);for(var n=0,s=i.properties;n<s.length;n+=1){var r=s[n];this.toAssignable(r,e),r.type!=="RestElement"||r.argument.type!=="ArrayPattern"&&r.argument.type!=="ObjectPattern"||this.raise(r.argument.start,"Unexpected token")}break;case"Property":i.kind!=="init"&&this.raise(i.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(i.value,e);break;case"ArrayExpression":i.type="ArrayPattern",t&&this.checkPatternErrors(t,!0),this.toAssignableList(i.elements,e);break;case"SpreadElement":i.type="RestElement",this.toAssignable(i.argument,e),i.argument.type==="AssignmentPattern"&&this.raise(i.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":i.operator!=="="&&this.raise(i.left.end,"Only '=' operator can be used for specifying default value."),i.type="AssignmentPattern",delete i.operator,this.toAssignable(i.left,e);break;case"ParenthesizedExpression":this.toAssignable(i.expression,e,t);break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(i.start,"Assigning to rvalue")}else t&&this.checkPatternErrors(t,!0);return i},Ti.toAssignableList=function(i,e){for(var t=i.length,n=0;n<t;n++){var s=i[n];s&&this.toAssignable(s,e)}if(t){var r=i[t-1];this.options.ecmaVersion===6&&e&&r&&r.type==="RestElement"&&r.argument.type!=="Identifier"&&this.unexpected(r.argument.start)}return i},Ti.parseSpread=function(i){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,i),this.finishNode(e,"SpreadElement")},Ti.parseRestBinding=function(){var i=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==P.name&&this.unexpected(),i.argument=this.parseBindingAtom(),this.finishNode(i,"RestElement")},Ti.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case P.bracketL:var i=this.startNode();return this.next(),i.elements=this.parseBindingList(P.bracketR,!0,!0),this.finishNode(i,"ArrayPattern");case P.braceL:return this.parseObj(!0)}return this.parseIdent()},Ti.parseBindingList=function(i,e,t,n){for(var s=[],r=!0;!this.eat(i);)if(r?r=!1:this.expect(P.comma),e&&this.type===P.comma)s.push(null);else{if(t&&this.afterTrailingComma(i))break;if(this.type===P.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),s.push(o),this.type===P.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(i);break}s.push(this.parseAssignableListItem(n))}return s},Ti.parseAssignableListItem=function(i){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e},Ti.parseBindingListItem=function(i){return i},Ti.parseMaybeDefault=function(i,e,t){if(t=t||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(P.eq))return t;var n=this.startNodeAt(i,e);return n.left=t,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")},Ti.checkLValSimple=function(i,e,t){e===void 0&&(e=0);var n=e!==0;switch(i.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(i.name)&&this.raiseRecoverable(i.start,(n?"Binding ":"Assigning to ")+i.name+" in strict mode"),n&&(e===2&&i.name==="let"&&this.raiseRecoverable(i.start,"let is disallowed as a lexically bound name"),t&&(Sa(t,i.name)&&this.raiseRecoverable(i.start,"Argument name clash"),t[i.name]=!0),e!==5&&this.declareName(i.name,e,i.start));break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(i.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(i.start,"Binding parenthesized expression"),this.checkLValSimple(i.expression,e,t);default:this.raise(i.start,(n?"Binding":"Assigning to")+" rvalue")}},Ti.checkLValPattern=function(i,e,t){switch(e===void 0&&(e=0),i.type){case"ObjectPattern":for(var n=0,s=i.properties;n<s.length;n+=1){var r=s[n];this.checkLValInnerPattern(r,e,t)}break;case"ArrayPattern":for(var o=0,a=i.elements;o<a.length;o+=1){var l=a[o];l&&this.checkLValInnerPattern(l,e,t)}break;default:this.checkLValSimple(i,e,t)}},Ti.checkLValInnerPattern=function(i,e,t){switch(e===void 0&&(e=0),i.type){case"Property":this.checkLValInnerPattern(i.value,e,t);break;case"AssignmentPattern":this.checkLValPattern(i.left,e,t);break;case"RestElement":this.checkLValPattern(i.argument,e,t);break;default:this.checkLValPattern(i,e,t)}};var Qi=function(i,e,t,n,s){this.token=i,this.isExpr=!!e,this.preserveSpace=!!t,this.override=n,this.generator=!!s},tt={b_stat:new Qi("{",!1),b_expr:new Qi("{",!0),b_tmpl:new Qi("${",!1),p_stat:new Qi("(",!1),p_expr:new Qi("(",!0),q_tmpl:new Qi("`",!0,!0,function(i){return i.tryReadTemplateToken()}),f_stat:new Qi("function",!1),f_expr:new Qi("function",!0),f_expr_gen:new Qi("function",!0,!1,null,!0),f_gen:new Qi("function",!1,!1,null,!0)},Or=ut.prototype;Or.initialContext=function(){return[tt.b_stat]},Or.curContext=function(){return this.context[this.context.length-1]},Or.braceIsBlock=function(i){var e=this.curContext();return e===tt.f_expr||e===tt.f_stat||(i!==P.colon||e!==tt.b_stat&&e!==tt.b_expr?i===P._return||i===P.name&&this.exprAllowed?Pi.test(this.input.slice(this.lastTokEnd,this.start)):i===P._else||i===P.semi||i===P.eof||i===P.parenR||i===P.arrow||(i===P.braceL?e===tt.b_stat:i!==P._var&&i!==P._const&&i!==P.name&&!this.exprAllowed):!e.isExpr)},Or.inGeneratorContext=function(){for(var i=this.context.length-1;i>=1;i--){var e=this.context[i];if(e.token==="function")return e.generator}return!1},Or.updateContext=function(i){var e,t=this.type;t.keyword&&i===P.dot?this.exprAllowed=!1:(e=t.updateContext)?e.call(this,i):this.exprAllowed=t.beforeExpr},Or.overrideContext=function(i){this.curContext()!==i&&(this.context[this.context.length-1]=i)},P.parenR.updateContext=P.braceR.updateContext=function(){if(this.context.length!==1){var i=this.context.pop();i===tt.b_stat&&this.curContext().token==="function"&&(i=this.context.pop()),this.exprAllowed=!i.isExpr}else this.exprAllowed=!0},P.braceL.updateContext=function(i){this.context.push(this.braceIsBlock(i)?tt.b_stat:tt.b_expr),this.exprAllowed=!0},P.dollarBraceL.updateContext=function(){this.context.push(tt.b_tmpl),this.exprAllowed=!0},P.parenL.updateContext=function(i){var e=i===P._if||i===P._for||i===P._with||i===P._while;this.context.push(e?tt.p_stat:tt.p_expr),this.exprAllowed=!0},P.incDec.updateContext=function(){},P._function.updateContext=P._class.updateContext=function(i){!i.beforeExpr||i===P._else||i===P.semi&&this.curContext()!==tt.p_stat||i===P._return&&Pi.test(this.input.slice(this.lastTokEnd,this.start))||(i===P.colon||i===P.braceL)&&this.curContext()===tt.b_stat?this.context.push(tt.f_stat):this.context.push(tt.f_expr),this.exprAllowed=!1},P.backQuote.updateContext=function(){this.curContext()===tt.q_tmpl?this.context.pop():this.context.push(tt.q_tmpl),this.exprAllowed=!1},P.star.updateContext=function(i){if(i===P._function){var e=this.context.length-1;this.context[e]===tt.f_expr?this.context[e]=tt.f_expr_gen:this.context[e]=tt.f_gen}this.exprAllowed=!0},P.name.updateContext=function(i){var e=!1;this.options.ecmaVersion>=6&&i!==P.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var we=ut.prototype;function Lb(i){return i.type==="MemberExpression"&&i.property.type==="PrivateIdentifier"||i.type==="ChainExpression"&&Lb(i.expression)}we.checkPropClash=function(i,e,t){if(!(this.options.ecmaVersion>=9&&i.type==="SpreadElement"||this.options.ecmaVersion>=6&&(i.computed||i.method||i.shorthand))){var n,s=i.key;switch(s.type){case"Identifier":n=s.name;break;case"Literal":n=String(s.value);break;default:return}var r=i.kind;if(this.options.ecmaVersion>=6)n==="__proto__"&&r==="init"&&(e.proto&&(t?t.doubleProto<0&&(t.doubleProto=s.start):this.raiseRecoverable(s.start,"Redefinition of __proto__ property")),e.proto=!0);else{var o=e[n="$"+n];o?(r==="init"?this.strict&&o.init||o.get||o.set:o.init||o[r])&&this.raiseRecoverable(s.start,"Redefinition of property"):o=e[n]={init:!1,get:!1,set:!1},o[r]=!0}}},we.parseExpression=function(i,e){var t=this.start,n=this.startLoc,s=this.parseMaybeAssign(i,e);if(this.type===P.comma){var r=this.startNodeAt(t,n);for(r.expressions=[s];this.eat(P.comma);)r.expressions.push(this.parseMaybeAssign(i,e));return this.finishNode(r,"SequenceExpression")}return s},we.parseMaybeAssign=function(i,e,t){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(i);this.exprAllowed=!1}var n=!1,s=-1,r=-1,o=-1;e?(s=e.parenthesizedAssign,r=e.trailingComma,o=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new rh,n=!0);var a=this.start,l=this.startLoc;this.type!==P.parenL&&this.type!==P.name||(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=i==="await");var h=this.parseMaybeConditional(i,e);if(t&&(h=t.call(this,h,a,l)),this.type.isAssign){var c=this.startNodeAt(a,l);return c.operator=this.value,this.type===P.eq&&(h=this.toAssignable(h,!1,e)),n||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=h.start&&(e.shorthandAssign=-1),this.type===P.eq?this.checkLValPattern(h):this.checkLValSimple(h),c.left=h,this.next(),c.right=this.parseMaybeAssign(i),o>-1&&(e.doubleProto=o),this.finishNode(c,"AssignmentExpression")}return n&&this.checkExpressionErrors(e,!0),s>-1&&(e.parenthesizedAssign=s),r>-1&&(e.trailingComma=r),h},we.parseMaybeConditional=function(i,e){var t=this.start,n=this.startLoc,s=this.parseExprOps(i,e);if(this.checkExpressionErrors(e))return s;if(this.eat(P.question)){var r=this.startNodeAt(t,n);return r.test=s,r.consequent=this.parseMaybeAssign(),this.expect(P.colon),r.alternate=this.parseMaybeAssign(i),this.finishNode(r,"ConditionalExpression")}return s},we.parseExprOps=function(i,e){var t=this.start,n=this.startLoc,s=this.parseMaybeUnary(e,!1,!1,i);return this.checkExpressionErrors(e)||s.start===t&&s.type==="ArrowFunctionExpression"?s:this.parseExprOp(s,t,n,-1,i)},we.parseExprOp=function(i,e,t,n,s){var r=this.type.binop;if(r!=null&&(!s||this.type!==P._in)&&r>n){var o=this.type===P.logicalOR||this.type===P.logicalAND,a=this.type===P.coalesce;a&&(r=P.logicalAND.binop);var l=this.value;this.next();var h=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),h,c,r,s),p=this.buildBinary(e,t,i,f,l,o||a);return(o&&this.type===P.coalesce||a&&(this.type===P.logicalOR||this.type===P.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(p,e,t,n,s)}return i},we.buildBinary=function(i,e,t,n,s,r){n.type==="PrivateIdentifier"&&this.raise(n.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(i,e);return o.left=t,o.operator=s,o.right=n,this.finishNode(o,r?"LogicalExpression":"BinaryExpression")},we.parseMaybeUnary=function(i,e,t,n){var s,r=this.start,o=this.startLoc;if(this.isContextual("await")&&this.canAwait)s=this.parseAwait(n),e=!0;else if(this.type.prefix){var a=this.startNode(),l=this.type===P.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,l,n),this.checkExpressionErrors(i,!0),l?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&Lb(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):e=!0,s=this.finishNode(a,l?"UpdateExpression":"UnaryExpression")}else if(e||this.type!==P.privateId){if(s=this.parseExprSubscripts(i,n),this.checkExpressionErrors(i))return s;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(r,o);h.operator=this.value,h.prefix=!1,h.argument=s,this.checkLValSimple(s),this.next(),s=this.finishNode(h,"UpdateExpression")}}else(n||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),s=this.parsePrivateIdent(),this.type!==P._in&&this.unexpected();return t||!this.eat(P.starstar)?s:e?void this.unexpected(this.lastTokStart):this.buildBinary(r,o,s,this.parseMaybeUnary(null,!1,!1,n),"**",!1)},we.parseExprSubscripts=function(i,e){var t=this.start,n=this.startLoc,s=this.parseExprAtom(i,e);if(s.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return s;var r=this.parseSubscripts(s,t,n,!1,e);return i&&r.type==="MemberExpression"&&(i.parenthesizedAssign>=r.start&&(i.parenthesizedAssign=-1),i.parenthesizedBind>=r.start&&(i.parenthesizedBind=-1),i.trailingComma>=r.start&&(i.trailingComma=-1)),r},we.parseSubscripts=function(i,e,t,n,s){for(var r=this.options.ecmaVersion>=8&&i.type==="Identifier"&&i.name==="async"&&this.lastTokEnd===i.end&&!this.canInsertSemicolon()&&i.end-i.start==5&&this.potentialArrowAt===i.start,o=!1;;){var a=this.parseSubscript(i,e,t,n,r,o,s);if(a.optional&&(o=!0),a===i||a.type==="ArrowFunctionExpression"){if(o){var l=this.startNodeAt(e,t);l.expression=a,a=this.finishNode(l,"ChainExpression")}return a}i=a}},we.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(P.arrow)},we.parseSubscriptAsyncArrow=function(i,e,t,n){return this.parseArrowExpression(this.startNodeAt(i,e),t,!0,n)},we.parseSubscript=function(i,e,t,n,s,r,o){var a=this.options.ecmaVersion>=11,l=a&&this.eat(P.questionDot);n&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(P.bracketL);if(h||l&&this.type!==P.parenL&&this.type!==P.backQuote||this.eat(P.dot)){var c=this.startNodeAt(e,t);c.object=i,h?(c.property=this.parseExpression(),this.expect(P.bracketR)):this.type===P.privateId&&i.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!h,a&&(c.optional=l),i=this.finishNode(c,"MemberExpression")}else if(!n&&this.eat(P.parenL)){var f=new rh,p=this.yieldPos,g=this.awaitPos,y=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var v=this.parseExprList(P.parenR,this.options.ecmaVersion>=8,!1,f);if(s&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=p,this.awaitPos=g,this.awaitIdentPos=y,this.parseSubscriptAsyncArrow(e,t,v,o);this.checkExpressionErrors(f,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=g||this.awaitPos,this.awaitIdentPos=y||this.awaitIdentPos;var w=this.startNodeAt(e,t);w.callee=i,w.arguments=v,a&&(w.optional=l),i=this.finishNode(w,"CallExpression")}else if(this.type===P.backQuote){(l||r)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var k=this.startNodeAt(e,t);k.tag=i,k.quasi=this.parseTemplate({isTagged:!0}),i=this.finishNode(k,"TaggedTemplateExpression")}return i},we.parseExprAtom=function(i,e,t){this.type===P.slash&&this.readRegexp();var n,s=this.potentialArrowAt===this.start;switch(this.type){case P._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),n=this.startNode(),this.next(),this.type!==P.parenL||this.allowDirectSuper||this.raise(n.start,"super() call outside constructor of a subclass"),this.type!==P.dot&&this.type!==P.bracketL&&this.type!==P.parenL&&this.unexpected(),this.finishNode(n,"Super");case P._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case P.name:var r=this.start,o=this.startLoc,a=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&l.name==="async"&&!this.canInsertSemicolon()&&this.eat(P._function))return this.overrideContext(tt.f_expr),this.parseFunction(this.startNodeAt(r,o),0,!1,!0,e);if(s&&!this.canInsertSemicolon()){if(this.eat(P.arrow))return this.parseArrowExpression(this.startNodeAt(r,o),[l],!1,e);if(this.options.ecmaVersion>=8&&l.name==="async"&&this.type===P.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return l=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(P.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,o),[l],!0,e)}return l;case P.regexp:var h=this.value;return(n=this.parseLiteral(h.value)).regex={pattern:h.pattern,flags:h.flags},n;case P.num:case P.string:return this.parseLiteral(this.value);case P._null:case P._true:case P._false:return(n=this.startNode()).value=this.type===P._null?null:this.type===P._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,"Literal");case P.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(s,e);return i&&(i.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(i.parenthesizedAssign=c),i.parenthesizedBind<0&&(i.parenthesizedBind=c)),f;case P.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(P.bracketR,!0,!0,i),this.finishNode(n,"ArrayExpression");case P.braceL:return this.overrideContext(tt.b_expr),this.parseObj(!1,i);case P._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case P._class:return this.parseClass(this.startNode(),!1);case P._new:return this.parseNew();case P.backQuote:return this.parseTemplate();case P._import:return this.options.ecmaVersion>=11?this.parseExprImport(t):this.unexpected();default:return this.parseExprAtomDefault()}},we.parseExprAtomDefault=function(){this.unexpected()},we.parseExprImport=function(i){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var t=this.parseIdent(!0);return this.type!==P.parenL||i?this.type===P.dot?(e.meta=t,this.parseImportMeta(e)):void this.unexpected():this.parseDynamicImport(e)},we.parseDynamicImport=function(i){if(this.next(),i.source=this.parseMaybeAssign(),!this.eat(P.parenR)){var e=this.start;this.eat(P.comma)&&this.eat(P.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(i,"ImportExpression")},we.parseImportMeta=function(i){this.next();var e=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="meta"&&this.raiseRecoverable(i.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(i.start,"'import.meta' must not contain escaped characters"),this.options.sourceType==="module"||this.options.allowImportExportEverywhere||this.raiseRecoverable(i.start,"Cannot use 'import.meta' outside a module"),this.finishNode(i,"MetaProperty")},we.parseLiteral=function(i){var e=this.startNode();return e.value=i,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")},we.parseParenExpression=function(){this.expect(P.parenL);var i=this.parseExpression();return this.expect(P.parenR),i},we.shouldParseArrow=function(i){return!this.canInsertSemicolon()},we.parseParenAndDistinguishExpression=function(i,e){var t,n=this.start,s=this.startLoc,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o,a=this.start,l=this.startLoc,h=[],c=!0,f=!1,p=new rh,g=this.yieldPos,y=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==P.parenR;){if(c?c=!1:this.expect(P.comma),r&&this.afterTrailingComma(P.parenR,!0)){f=!0;break}if(this.type===P.ellipsis){o=this.start,h.push(this.parseParenItem(this.parseRestBinding())),this.type===P.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}h.push(this.parseMaybeAssign(!1,p,this.parseParenItem))}var v=this.lastTokEnd,w=this.lastTokEndLoc;if(this.expect(P.parenR),i&&this.shouldParseArrow(h)&&this.eat(P.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=g,this.awaitPos=y,this.parseParenArrowList(n,s,h,e);h.length&&!f||this.unexpected(this.lastTokStart),o&&this.unexpected(o),this.checkExpressionErrors(p,!0),this.yieldPos=g||this.yieldPos,this.awaitPos=y||this.awaitPos,h.length>1?((t=this.startNodeAt(a,l)).expressions=h,this.finishNodeAt(t,"SequenceExpression",v,w)):t=h[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var k=this.startNodeAt(n,s);return k.expression=t,this.finishNode(k,"ParenthesizedExpression")}return t},we.parseParenItem=function(i){return i},we.parseParenArrowList=function(i,e,t,n){return this.parseArrowExpression(this.startNodeAt(i,e),t,!1,n)};var xR=[];we.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var i=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(P.dot)){i.meta=e;var t=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="target"&&this.raiseRecoverable(i.property.start,"The only valid meta property for new is 'new.target'"),t&&this.raiseRecoverable(i.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(i.start,"'new.target' can only be used in functions and class static block"),this.finishNode(i,"MetaProperty")}var n=this.start,s=this.startLoc;return i.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),n,s,!0,!1),this.eat(P.parenL)?i.arguments=this.parseExprList(P.parenR,this.options.ecmaVersion>=8,!1):i.arguments=xR,this.finishNode(i,"NewExpression")},we.parseTemplateElement=function(i){var e=i.isTagged,t=this.startNode();return this.type===P.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),t.value={raw:this.value,cooked:null}):t.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),t.tail=this.type===P.backQuote,this.finishNode(t,"TemplateElement")},we.parseTemplate=function(i){i===void 0&&(i={});var e=i.isTagged;e===void 0&&(e=!1);var t=this.startNode();this.next(),t.expressions=[];var n=this.parseTemplateElement({isTagged:e});for(t.quasis=[n];!n.tail;)this.type===P.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(P.dollarBraceL),t.expressions.push(this.parseExpression()),this.expect(P.braceR),t.quasis.push(n=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(t,"TemplateLiteral")},we.isAsyncProp=function(i){return!i.computed&&i.key.type==="Identifier"&&i.key.name==="async"&&(this.type===P.name||this.type===P.num||this.type===P.string||this.type===P.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===P.star)&&!Pi.test(this.input.slice(this.lastTokEnd,this.start))},we.parseObj=function(i,e){var t=this.startNode(),n=!0,s={};for(t.properties=[],this.next();!this.eat(P.braceR);){if(n)n=!1;else if(this.expect(P.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(P.braceR))break;var r=this.parseProperty(i,e);i||this.checkPropClash(r,s,e),t.properties.push(r)}return this.finishNode(t,i?"ObjectPattern":"ObjectExpression")},we.parseProperty=function(i,e){var t,n,s,r,o=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(P.ellipsis))return i?(o.argument=this.parseIdent(!1),this.type===P.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(o,"RestElement")):(o.argument=this.parseMaybeAssign(!1,e),this.type===P.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(o,"SpreadElement"));this.options.ecmaVersion>=6&&(o.method=!1,o.shorthand=!1,(i||e)&&(s=this.start,r=this.startLoc),i||(t=this.eat(P.star)));var a=this.containsEsc;return this.parsePropertyName(o),!i&&!a&&this.options.ecmaVersion>=8&&!t&&this.isAsyncProp(o)?(n=!0,t=this.options.ecmaVersion>=9&&this.eat(P.star),this.parsePropertyName(o)):n=!1,this.parsePropertyValue(o,i,t,n,s,r,e,a),this.finishNode(o,"Property")},we.parseGetterSetter=function(i){i.kind=i.key.name,this.parsePropertyName(i),i.value=this.parseMethod(!1);var e=i.kind==="get"?0:1;if(i.value.params.length!==e){var t=i.value.start;i.kind==="get"?this.raiseRecoverable(t,"getter should have no params"):this.raiseRecoverable(t,"setter should have exactly one param")}else i.kind==="set"&&i.value.params[0].type==="RestElement"&&this.raiseRecoverable(i.value.params[0].start,"Setter cannot use rest params")},we.parsePropertyValue=function(i,e,t,n,s,r,o,a){(t||n)&&this.type===P.colon&&this.unexpected(),this.eat(P.colon)?(i.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),i.kind="init"):this.options.ecmaVersion>=6&&this.type===P.parenL?(e&&this.unexpected(),i.kind="init",i.method=!0,i.value=this.parseMethod(t,n)):e||a||!(this.options.ecmaVersion>=5)||i.computed||i.key.type!=="Identifier"||i.key.name!=="get"&&i.key.name!=="set"||this.type===P.comma||this.type===P.braceR||this.type===P.eq?this.options.ecmaVersion>=6&&!i.computed&&i.key.type==="Identifier"?((t||n)&&this.unexpected(),this.checkUnreserved(i.key),i.key.name!=="await"||this.awaitIdentPos||(this.awaitIdentPos=s),i.kind="init",e?i.value=this.parseMaybeDefault(s,r,this.copyNode(i.key)):this.type===P.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),i.value=this.parseMaybeDefault(s,r,this.copyNode(i.key))):i.value=this.copyNode(i.key),i.shorthand=!0):this.unexpected():((t||n)&&this.unexpected(),this.parseGetterSetter(i))},we.parsePropertyName=function(i){if(this.options.ecmaVersion>=6){if(this.eat(P.bracketL))return i.computed=!0,i.key=this.parseMaybeAssign(),this.expect(P.bracketR),i.key;i.computed=!1}return i.key=this.type===P.num||this.type===P.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},we.initFunction=function(i){i.id=null,this.options.ecmaVersion>=6&&(i.generator=i.expression=!1),this.options.ecmaVersion>=8&&(i.async=!1)},we.parseMethod=function(i,e,t){var n=this.startNode(),s=this.yieldPos,r=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=i),this.options.ecmaVersion>=8&&(n.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|bd(e,n.generator)|(t?128:0)),this.expect(P.parenL),n.params=this.parseBindingList(P.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=o,this.finishNode(n,"FunctionExpression")},we.parseArrowExpression=function(i,e,t,n){var s=this.yieldPos,r=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(16|bd(t,!1)),this.initFunction(i),this.options.ecmaVersion>=8&&(i.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,i.params=this.toAssignableList(e,!0),this.parseFunctionBody(i,!0,!1,n),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=o,this.finishNode(i,"ArrowFunctionExpression")},we.parseFunctionBody=function(i,e,t,n){var s=e&&this.type!==P.braceL,r=this.strict,o=!1;if(s)i.body=this.parseMaybeAssign(n),i.expression=!0,this.checkParams(i,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(i.params);r&&!a||(o=this.strictDirective(this.end))&&a&&this.raiseRecoverable(i.start,"Illegal 'use strict' directive in function with non-simple parameter list");var l=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(i,!r&&!o&&!e&&!t&&this.isSimpleParamList(i.params)),this.strict&&i.id&&this.checkLValSimple(i.id,5),i.body=this.parseBlock(!1,void 0,o&&!r),i.expression=!1,this.adaptDirectivePrologue(i.body.body),this.labels=l}this.exitScope()},we.isSimpleParamList=function(i){for(var e=0,t=i;e<t.length;e+=1)if(t[e].type!=="Identifier")return!1;return!0},we.checkParams=function(i,e){for(var t=Object.create(null),n=0,s=i.params;n<s.length;n+=1){var r=s[n];this.checkLValInnerPattern(r,1,e?null:t)}},we.parseExprList=function(i,e,t,n){for(var s=[],r=!0;!this.eat(i);){if(r)r=!1;else if(this.expect(P.comma),e&&this.afterTrailingComma(i))break;var o=void 0;t&&this.type===P.comma?o=null:this.type===P.ellipsis?(o=this.parseSpread(n),n&&this.type===P.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):o=this.parseMaybeAssign(!1,n),s.push(o)}return s},we.checkUnreserved=function(i){var e=i.start,t=i.end,n=i.name;this.inGenerator&&n==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&n==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),!this.inClassStaticBlock||n!=="arguments"&&n!=="await"||this.raise(e,"Cannot use "+n+" in class static initialization block"),this.keywords.test(n)&&this.raise(e,"Unexpected keyword '"+n+"'"),this.options.ecmaVersion<6&&this.input.slice(e,t).indexOf("\\")!==-1||(this.strict?this.reservedWordsStrict:this.reservedWords).test(n)&&(this.inAsync||n!=="await"||this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+n+"' is reserved"))},we.parseIdent=function(i){var e=this.parseIdentNode();return this.next(!!i),this.finishNode(e,"Identifier"),i||(this.checkUnreserved(e),e.name!=="await"||this.awaitIdentPos||(this.awaitIdentPos=e.start)),e},we.parseIdentNode=function(){var i=this.startNode();return this.type===P.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,i.name!=="class"&&i.name!=="function"||this.lastTokEnd===this.lastTokStart+1&&this.input.charCodeAt(this.lastTokStart)===46||this.context.pop()):this.unexpected(),i},we.parsePrivateIdent=function(){var i=this.startNode();return this.type===P.privateId?i.name=this.value:this.unexpected(),this.next(),this.finishNode(i,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(i.start,"Private field '#"+i.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(i)),i},we.parseYield=function(i){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===P.semi||this.canInsertSemicolon()||this.type!==P.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(P.star),e.argument=this.parseMaybeAssign(i)),this.finishNode(e,"YieldExpression")},we.parseAwait=function(i){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,i),this.finishNode(e,"AwaitExpression")};var Tl=ut.prototype;Tl.raise=function(i,e){var t=Zp(this.input,i);e+=" ("+t.line+":"+t.column+")";var n=new SyntaxError(e);throw n.pos=i,n.loc=t,n.raisedAt=this.pos,n},Tl.raiseRecoverable=Tl.raise,Tl.curPosition=function(){if(this.options.locations)return new Hr(this.curLine,this.pos-this.lineStart)};var is=ut.prototype,SR=function(i){this.flags=i,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};is.enterScope=function(i){this.scopeStack.push(new SR(i))},is.exitScope=function(){this.scopeStack.pop()},is.treatFunctionsAsVarInScope=function(i){return 2&i.flags||!this.inModule&&1&i.flags},is.declareName=function(i,e,t){var n=!1;if(e===2){var s=this.currentScope();n=s.lexical.indexOf(i)>-1||s.functions.indexOf(i)>-1||s.var.indexOf(i)>-1,s.lexical.push(i),this.inModule&&1&s.flags&&delete this.undefinedExports[i]}else if(e===4)this.currentScope().lexical.push(i);else if(e===3){var r=this.currentScope();n=this.treatFunctionsAsVar?r.lexical.indexOf(i)>-1:r.lexical.indexOf(i)>-1||r.var.indexOf(i)>-1,r.functions.push(i)}else for(var o=this.scopeStack.length-1;o>=0;--o){var a=this.scopeStack[o];if(a.lexical.indexOf(i)>-1&&!(32&a.flags&&a.lexical[0]===i)||!this.treatFunctionsAsVarInScope(a)&&a.functions.indexOf(i)>-1){n=!0;break}if(a.var.push(i),this.inModule&&1&a.flags&&delete this.undefinedExports[i],259&a.flags)break}n&&this.raiseRecoverable(t,"Identifier '"+i+"' has already been declared")},is.checkLocalExport=function(i){this.scopeStack[0].lexical.indexOf(i.name)===-1&&this.scopeStack[0].var.indexOf(i.name)===-1&&(this.undefinedExports[i.name]=i)},is.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},is.currentVarScope=function(){for(var i=this.scopeStack.length-1;;i--){var e=this.scopeStack[i];if(259&e.flags)return e}},is.currentThisScope=function(){for(var i=this.scopeStack.length-1;;i--){var e=this.scopeStack[i];if(259&e.flags&&!(16&e.flags))return e}};var Yo=function(i,e,t){this.type="",this.start=e,this.end=0,i.options.locations&&(this.loc=new Za(i,t)),i.options.directSourceFile&&(this.sourceFile=i.options.directSourceFile),i.options.ranges&&(this.range=[e,0])},bo=ut.prototype;function e0(i,e,t,n){return i.type=e,i.end=t,this.options.locations&&(i.loc.end=n),this.options.ranges&&(i.range[1]=t),i}bo.startNode=function(){return new Yo(this,this.start,this.startLoc)},bo.startNodeAt=function(i,e){return new Yo(this,i,e)},bo.finishNode=function(i,e){return e0.call(this,i,e,this.lastTokEnd,this.lastTokEndLoc)},bo.finishNodeAt=function(i,e,t,n){return e0.call(this,i,e,t,n)},bo.copyNode=function(i){var e=new Yo(this,i.start,this.startLoc);for(var t in i)e[t]=i[t];return e};var Nb="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Cd=Nb+" Extended_Pictographic",zu=Cd+" EBase EComp EMod EPres ExtPict",bR={9:Nb,10:Cd,11:Cd,12:zu,13:zu,14:zu},wR={9:"",10:"",11:"",12:"",13:"",14:"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji"},t0="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Db="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Vb=Db+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Bb=Vb+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Xb=Bb+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",i0=Xb+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",kR={9:Db,10:Vb,11:Bb,12:Xb,13:i0,14:i0+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz"},zb={};function CR(i){var e=zb[i]={binary:cs(bR[i]+" "+t0),binaryOfStrings:cs(wR[i]),nonBinary:{General_Category:cs(t0),Script:cs(kR[i])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(var Zu=0,n0=[9,10,11,12,13,14];Zu<n0.length;Zu+=1)CR(n0[Zu]);var ue=ut.prototype,mn=function(i){this.parser=i,this.validFlags="gim"+(i.options.ecmaVersion>=6?"uy":"")+(i.options.ecmaVersion>=9?"s":"")+(i.options.ecmaVersion>=13?"d":"")+(i.options.ecmaVersion>=15?"v":""),this.unicodeProperties=zb[i.options.ecmaVersion>=14?14:i.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function s0(i){return i===36||i>=40&&i<=43||i===46||i===63||i>=91&&i<=94||i>=123&&i<=125}function Zb(i){return i>=65&&i<=90||i>=97&&i<=122}mn.prototype.reset=function(i,e,t){var n=t.indexOf("v")!==-1,s=t.indexOf("u")!==-1;this.start=0|i,this.source=e+"",this.flags=t,n&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)},mn.prototype.raise=function(i){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+i)},mn.prototype.at=function(i,e){e===void 0&&(e=!1);var t=this.source,n=t.length;if(i>=n)return-1;var s=t.charCodeAt(i);if(!e&&!this.switchU||s<=55295||s>=57344||i+1>=n)return s;var r=t.charCodeAt(i+1);return r>=56320&&r<=57343?(s<<10)+r-56613888:s},mn.prototype.nextIndex=function(i,e){e===void 0&&(e=!1);var t=this.source,n=t.length;if(i>=n)return n;var s,r=t.charCodeAt(i);return!e&&!this.switchU||r<=55295||r>=57344||i+1>=n||(s=t.charCodeAt(i+1))<56320||s>57343?i+1:i+2},mn.prototype.current=function(i){return i===void 0&&(i=!1),this.at(this.pos,i)},mn.prototype.lookahead=function(i){return i===void 0&&(i=!1),this.at(this.nextIndex(this.pos,i),i)},mn.prototype.advance=function(i){i===void 0&&(i=!1),this.pos=this.nextIndex(this.pos,i)},mn.prototype.eat=function(i,e){return e===void 0&&(e=!1),this.current(e)===i&&(this.advance(e),!0)},mn.prototype.eatChars=function(i,e){e===void 0&&(e=!1);for(var t=this.pos,n=0,s=i;n<s.length;n+=1){var r=s[n],o=this.at(t,e);if(o===-1||o!==r)return!1;t=this.nextIndex(t,e)}return this.pos=t,!0},ue.validateRegExpFlags=function(i){for(var e=i.validFlags,t=i.flags,n=!1,s=!1,r=0;r<t.length;r++){var o=t.charAt(r);e.indexOf(o)===-1&&this.raise(i.start,"Invalid regular expression flag"),t.indexOf(o,r+1)>-1&&this.raise(i.start,"Duplicate regular expression flag"),o==="u"&&(n=!0),o==="v"&&(s=!0)}this.options.ecmaVersion>=15&&n&&s&&this.raise(i.start,"Invalid regular expression flag")},ue.validateRegExpPattern=function(i){this.regexp_pattern(i),!i.switchN&&this.options.ecmaVersion>=9&&i.groupNames.length>0&&(i.switchN=!0,this.regexp_pattern(i))},ue.regexp_pattern=function(i){i.pos=0,i.lastIntValue=0,i.lastStringValue="",i.lastAssertionIsQuantifiable=!1,i.numCapturingParens=0,i.maxBackReference=0,i.groupNames.length=0,i.backReferenceNames.length=0,this.regexp_disjunction(i),i.pos!==i.source.length&&(i.eat(41)&&i.raise("Unmatched ')'"),(i.eat(93)||i.eat(125))&&i.raise("Lone quantifier brackets")),i.maxBackReference>i.numCapturingParens&&i.raise("Invalid escape");for(var e=0,t=i.backReferenceNames;e<t.length;e+=1){var n=t[e];i.groupNames.indexOf(n)===-1&&i.raise("Invalid named capture referenced")}},ue.regexp_disjunction=function(i){for(this.regexp_alternative(i);i.eat(124);)this.regexp_alternative(i);this.regexp_eatQuantifier(i,!0)&&i.raise("Nothing to repeat"),i.eat(123)&&i.raise("Lone quantifier brackets")},ue.regexp_alternative=function(i){for(;i.pos<i.source.length&&this.regexp_eatTerm(i););},ue.regexp_eatTerm=function(i){return this.regexp_eatAssertion(i)?(i.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(i)&&i.switchU&&i.raise("Invalid quantifier"),!0):!!(i.switchU?this.regexp_eatAtom(i):this.regexp_eatExtendedAtom(i))&&(this.regexp_eatQuantifier(i),!0)},ue.regexp_eatAssertion=function(i){var e=i.pos;if(i.lastAssertionIsQuantifiable=!1,i.eat(94)||i.eat(36))return!0;if(i.eat(92)){if(i.eat(66)||i.eat(98))return!0;i.pos=e}if(i.eat(40)&&i.eat(63)){var t=!1;if(this.options.ecmaVersion>=9&&(t=i.eat(60)),i.eat(61)||i.eat(33))return this.regexp_disjunction(i),i.eat(41)||i.raise("Unterminated group"),i.lastAssertionIsQuantifiable=!t,!0}return i.pos=e,!1},ue.regexp_eatQuantifier=function(i,e){return e===void 0&&(e=!1),!!this.regexp_eatQuantifierPrefix(i,e)&&(i.eat(63),!0)},ue.regexp_eatQuantifierPrefix=function(i,e){return i.eat(42)||i.eat(43)||i.eat(63)||this.regexp_eatBracedQuantifier(i,e)},ue.regexp_eatBracedQuantifier=function(i,e){var t=i.pos;if(i.eat(123)){var n=0,s=-1;if(this.regexp_eatDecimalDigits(i)&&(n=i.lastIntValue,i.eat(44)&&this.regexp_eatDecimalDigits(i)&&(s=i.lastIntValue),i.eat(125)))return s!==-1&&s<n&&!e&&i.raise("numbers out of order in {} quantifier"),!0;i.switchU&&!e&&i.raise("Incomplete quantifier"),i.pos=t}return!1},ue.regexp_eatAtom=function(i){return this.regexp_eatPatternCharacters(i)||i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)},ue.regexp_eatReverseSolidusAtomEscape=function(i){var e=i.pos;if(i.eat(92)){if(this.regexp_eatAtomEscape(i))return!0;i.pos=e}return!1},ue.regexp_eatUncapturingGroup=function(i){var e=i.pos;if(i.eat(40)){if(i.eat(63)&&i.eat(58)){if(this.regexp_disjunction(i),i.eat(41))return!0;i.raise("Unterminated group")}i.pos=e}return!1},ue.regexp_eatCapturingGroup=function(i){if(i.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(i):i.current()===63&&i.raise("Invalid group"),this.regexp_disjunction(i),i.eat(41))return i.numCapturingParens+=1,!0;i.raise("Unterminated group")}return!1},ue.regexp_eatExtendedAtom=function(i){return i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)||this.regexp_eatInvalidBracedQuantifier(i)||this.regexp_eatExtendedPatternCharacter(i)},ue.regexp_eatInvalidBracedQuantifier=function(i){return this.regexp_eatBracedQuantifier(i,!0)&&i.raise("Nothing to repeat"),!1},ue.regexp_eatSyntaxCharacter=function(i){var e=i.current();return!!s0(e)&&(i.lastIntValue=e,i.advance(),!0)},ue.regexp_eatPatternCharacters=function(i){for(var e=i.pos,t=0;(t=i.current())!==-1&&!s0(t);)i.advance();return i.pos!==e},ue.regexp_eatExtendedPatternCharacter=function(i){var e=i.current();return!(e===-1||e===36||e>=40&&e<=43||e===46||e===63||e===91||e===94||e===124)&&(i.advance(),!0)},ue.regexp_groupSpecifier=function(i){if(i.eat(63)){if(this.regexp_eatGroupName(i))return i.groupNames.indexOf(i.lastStringValue)!==-1&&i.raise("Duplicate capture group name"),void i.groupNames.push(i.lastStringValue);i.raise("Invalid group")}},ue.regexp_eatGroupName=function(i){if(i.lastStringValue="",i.eat(60)){if(this.regexp_eatRegExpIdentifierName(i)&&i.eat(62))return!0;i.raise("Invalid capture group name")}return!1},ue.regexp_eatRegExpIdentifierName=function(i){if(i.lastStringValue="",this.regexp_eatRegExpIdentifierStart(i)){for(i.lastStringValue+=Cs(i.lastIntValue);this.regexp_eatRegExpIdentifierPart(i);)i.lastStringValue+=Cs(i.lastIntValue);return!0}return!1},ue.regexp_eatRegExpIdentifierStart=function(i){var e=i.pos,t=this.options.ecmaVersion>=11,n=i.current(t);return i.advance(t),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,t)&&(n=i.lastIntValue),function(s){return bn(s,!0)||s===36||s===95}(n)?(i.lastIntValue=n,!0):(i.pos=e,!1)},ue.regexp_eatRegExpIdentifierPart=function(i){var e=i.pos,t=this.options.ecmaVersion>=11,n=i.current(t);return i.advance(t),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,t)&&(n=i.lastIntValue),function(s){return rr(s,!0)||s===36||s===95||s===8204||s===8205}(n)?(i.lastIntValue=n,!0):(i.pos=e,!1)},ue.regexp_eatAtomEscape=function(i){return!!(this.regexp_eatBackReference(i)||this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)||i.switchN&&this.regexp_eatKGroupName(i))||(i.switchU&&(i.current()===99&&i.raise("Invalid unicode escape"),i.raise("Invalid escape")),!1)},ue.regexp_eatBackReference=function(i){var e=i.pos;if(this.regexp_eatDecimalEscape(i)){var t=i.lastIntValue;if(i.switchU)return t>i.maxBackReference&&(i.maxBackReference=t),!0;if(t<=i.numCapturingParens)return!0;i.pos=e}return!1},ue.regexp_eatKGroupName=function(i){if(i.eat(107)){if(this.regexp_eatGroupName(i))return i.backReferenceNames.push(i.lastStringValue),!0;i.raise("Invalid named reference")}return!1},ue.regexp_eatCharacterEscape=function(i){return this.regexp_eatControlEscape(i)||this.regexp_eatCControlLetter(i)||this.regexp_eatZero(i)||this.regexp_eatHexEscapeSequence(i)||this.regexp_eatRegExpUnicodeEscapeSequence(i,!1)||!i.switchU&&this.regexp_eatLegacyOctalEscapeSequence(i)||this.regexp_eatIdentityEscape(i)},ue.regexp_eatCControlLetter=function(i){var e=i.pos;if(i.eat(99)){if(this.regexp_eatControlLetter(i))return!0;i.pos=e}return!1},ue.regexp_eatZero=function(i){return i.current()===48&&!ec(i.lookahead())&&(i.lastIntValue=0,i.advance(),!0)},ue.regexp_eatControlEscape=function(i){var e=i.current();return e===116?(i.lastIntValue=9,i.advance(),!0):e===110?(i.lastIntValue=10,i.advance(),!0):e===118?(i.lastIntValue=11,i.advance(),!0):e===102?(i.lastIntValue=12,i.advance(),!0):e===114&&(i.lastIntValue=13,i.advance(),!0)},ue.regexp_eatControlLetter=function(i){var e=i.current();return!!Zb(e)&&(i.lastIntValue=e%32,i.advance(),!0)},ue.regexp_eatRegExpUnicodeEscapeSequence=function(i,e){e===void 0&&(e=!1);var t,n=i.pos,s=e||i.switchU;if(i.eat(117)){if(this.regexp_eatFixedHexDigits(i,4)){var r=i.lastIntValue;if(s&&r>=55296&&r<=56319){var o=i.pos;if(i.eat(92)&&i.eat(117)&&this.regexp_eatFixedHexDigits(i,4)){var a=i.lastIntValue;if(a>=56320&&a<=57343)return i.lastIntValue=1024*(r-55296)+(a-56320)+65536,!0}i.pos=o,i.lastIntValue=r}return!0}if(s&&i.eat(123)&&this.regexp_eatHexDigits(i)&&i.eat(125)&&(t=i.lastIntValue)>=0&&t<=1114111)return!0;s&&i.raise("Invalid unicode escape"),i.pos=n}return!1},ue.regexp_eatIdentityEscape=function(i){if(i.switchU)return!!this.regexp_eatSyntaxCharacter(i)||!!i.eat(47)&&(i.lastIntValue=47,!0);var e=i.current();return!(e===99||i.switchN&&e===107)&&(i.lastIntValue=e,i.advance(),!0)},ue.regexp_eatDecimalEscape=function(i){i.lastIntValue=0;var e=i.current();if(e>=49&&e<=57){do i.lastIntValue=10*i.lastIntValue+(e-48),i.advance();while((e=i.current())>=48&&e<=57);return!0}return!1};function Ub(i){return Zb(i)||i===95}function $R(i){return Ub(i)||ec(i)}function ec(i){return i>=48&&i<=57}function r0(i){return i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102}function o0(i){return i>=65&&i<=70?i-65+10:i>=97&&i<=102?i-97+10:i-48}function a0(i){return i>=48&&i<=55}ue.regexp_eatCharacterClassEscape=function(i){var e=i.current();if(function(s){return s===100||s===68||s===115||s===83||s===119||s===87}(e))return i.lastIntValue=-1,i.advance(),1;var t=!1;if(i.switchU&&this.options.ecmaVersion>=9&&((t=e===80)||e===112)){var n;if(i.lastIntValue=-1,i.advance(),i.eat(123)&&(n=this.regexp_eatUnicodePropertyValueExpression(i))&&i.eat(125))return t&&n===2&&i.raise("Invalid property name"),n;i.raise("Invalid property name")}return 0},ue.regexp_eatUnicodePropertyValueExpression=function(i){var e=i.pos;if(this.regexp_eatUnicodePropertyName(i)&&i.eat(61)){var t=i.lastStringValue;if(this.regexp_eatUnicodePropertyValue(i)){var n=i.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(i,t,n),1}}if(i.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(i)){var s=i.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(i,s)}return 0},ue.regexp_validateUnicodePropertyNameAndValue=function(i,e,t){Sa(i.unicodeProperties.nonBinary,e)||i.raise("Invalid property name"),i.unicodeProperties.nonBinary[e].test(t)||i.raise("Invalid property value")},ue.regexp_validateUnicodePropertyNameOrValue=function(i,e){return i.unicodeProperties.binary.test(e)?1:i.switchV&&i.unicodeProperties.binaryOfStrings.test(e)?2:void i.raise("Invalid property name")},ue.regexp_eatUnicodePropertyName=function(i){var e=0;for(i.lastStringValue="";Ub(e=i.current());)i.lastStringValue+=Cs(e),i.advance();return i.lastStringValue!==""},ue.regexp_eatUnicodePropertyValue=function(i){var e=0;for(i.lastStringValue="";$R(e=i.current());)i.lastStringValue+=Cs(e),i.advance();return i.lastStringValue!==""},ue.regexp_eatLoneUnicodePropertyNameOrValue=function(i){return this.regexp_eatUnicodePropertyValue(i)},ue.regexp_eatCharacterClass=function(i){if(i.eat(91)){var e=i.eat(94),t=this.regexp_classContents(i);return i.eat(93)||i.raise("Unterminated character class"),e&&t===2&&i.raise("Negated character class may contain strings"),!0}return!1},ue.regexp_classContents=function(i){return i.current()===93?1:i.switchV?this.regexp_classSetExpression(i):(this.regexp_nonEmptyClassRanges(i),1)},ue.regexp_nonEmptyClassRanges=function(i){for(;this.regexp_eatClassAtom(i);){var e=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassAtom(i)){var t=i.lastIntValue;!i.switchU||e!==-1&&t!==-1||i.raise("Invalid character class"),e!==-1&&t!==-1&&e>t&&i.raise("Range out of order in character class")}}},ue.regexp_eatClassAtom=function(i){var e=i.pos;if(i.eat(92)){if(this.regexp_eatClassEscape(i))return!0;if(i.switchU){var t=i.current();(t===99||a0(t))&&i.raise("Invalid class escape"),i.raise("Invalid escape")}i.pos=e}var n=i.current();return n!==93&&(i.lastIntValue=n,i.advance(),!0)},ue.regexp_eatClassEscape=function(i){var e=i.pos;if(i.eat(98))return i.lastIntValue=8,!0;if(i.switchU&&i.eat(45))return i.lastIntValue=45,!0;if(!i.switchU&&i.eat(99)){if(this.regexp_eatClassControlLetter(i))return!0;i.pos=e}return this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)},ue.regexp_classSetExpression=function(i){var e,t=1;if(!this.regexp_eatClassSetRange(i))if(e=this.regexp_eatClassSetOperand(i)){e===2&&(t=2);for(var n=i.pos;i.eatChars([38,38]);)i.current()!==38&&(e=this.regexp_eatClassSetOperand(i))?e!==2&&(t=1):i.raise("Invalid character in character class");if(n!==i.pos)return t;for(;i.eatChars([45,45]);)this.regexp_eatClassSetOperand(i)||i.raise("Invalid character in character class");if(n!==i.pos)return t}else i.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(i)){if(!(e=this.regexp_eatClassSetOperand(i)))return t;e===2&&(t=2)}},ue.regexp_eatClassSetRange=function(i){var e=i.pos;if(this.regexp_eatClassSetCharacter(i)){var t=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassSetCharacter(i)){var n=i.lastIntValue;return t!==-1&&n!==-1&&t>n&&i.raise("Range out of order in character class"),!0}i.pos=e}return!1},ue.regexp_eatClassSetOperand=function(i){return this.regexp_eatClassSetCharacter(i)?1:this.regexp_eatClassStringDisjunction(i)||this.regexp_eatNestedClass(i)},ue.regexp_eatNestedClass=function(i){var e=i.pos;if(i.eat(91)){var t=i.eat(94),n=this.regexp_classContents(i);if(i.eat(93))return t&&n===2&&i.raise("Negated character class may contain strings"),n;i.pos=e}if(i.eat(92)){var s=this.regexp_eatCharacterClassEscape(i);if(s)return s;i.pos=e}return null},ue.regexp_eatClassStringDisjunction=function(i){var e=i.pos;if(i.eatChars([92,113])){if(i.eat(123)){var t=this.regexp_classStringDisjunctionContents(i);if(i.eat(125))return t}else i.raise("Invalid escape");i.pos=e}return null},ue.regexp_classStringDisjunctionContents=function(i){for(var e=this.regexp_classString(i);i.eat(124);)this.regexp_classString(i)===2&&(e=2);return e},ue.regexp_classString=function(i){for(var e=0;this.regexp_eatClassSetCharacter(i);)e++;return e===1?1:2},ue.regexp_eatClassSetCharacter=function(i){var e=i.pos;if(i.eat(92))return!(!this.regexp_eatCharacterEscape(i)&&!this.regexp_eatClassSetReservedPunctuator(i))||(i.eat(98)?(i.lastIntValue=8,!0):(i.pos=e,!1));var t=i.current();return!(t<0||t===i.lookahead()&&function(n){return n===33||n>=35&&n<=38||n>=42&&n<=44||n===46||n>=58&&n<=64||n===94||n===96||n===126}(t))&&!function(n){return n===40||n===41||n===45||n===47||n>=91&&n<=93||n>=123&&n<=125}(t)&&(i.advance(),i.lastIntValue=t,!0)},ue.regexp_eatClassSetReservedPunctuator=function(i){var e=i.current();return!!function(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}(e)&&(i.lastIntValue=e,i.advance(),!0)},ue.regexp_eatClassControlLetter=function(i){var e=i.current();return!(!ec(e)&&e!==95)&&(i.lastIntValue=e%32,i.advance(),!0)},ue.regexp_eatHexEscapeSequence=function(i){var e=i.pos;if(i.eat(120)){if(this.regexp_eatFixedHexDigits(i,2))return!0;i.switchU&&i.raise("Invalid escape"),i.pos=e}return!1},ue.regexp_eatDecimalDigits=function(i){var e=i.pos,t=0;for(i.lastIntValue=0;ec(t=i.current());)i.lastIntValue=10*i.lastIntValue+(t-48),i.advance();return i.pos!==e},ue.regexp_eatHexDigits=function(i){var e=i.pos,t=0;for(i.lastIntValue=0;r0(t=i.current());)i.lastIntValue=16*i.lastIntValue+o0(t),i.advance();return i.pos!==e},ue.regexp_eatLegacyOctalEscapeSequence=function(i){if(this.regexp_eatOctalDigit(i)){var e=i.lastIntValue;if(this.regexp_eatOctalDigit(i)){var t=i.lastIntValue;e<=3&&this.regexp_eatOctalDigit(i)?i.lastIntValue=64*e+8*t+i.lastIntValue:i.lastIntValue=8*e+t}else i.lastIntValue=e;return!0}return!1},ue.regexp_eatOctalDigit=function(i){var e=i.current();return a0(e)?(i.lastIntValue=e-48,i.advance(),!0):(i.lastIntValue=0,!1)},ue.regexp_eatFixedHexDigits=function(i,e){var t=i.pos;i.lastIntValue=0;for(var n=0;n<e;++n){var s=i.current();if(!r0(s))return i.pos=t,!1;i.lastIntValue=16*i.lastIntValue+o0(s),i.advance()}return!0};var tc=function(i){this.type=i.type,this.value=i.value,this.start=i.start,this.end=i.end,i.options.locations&&(this.loc=new Za(i,i.startLoc,i.endLoc)),i.options.ranges&&(this.range=[i.start,i.end])},Re=ut.prototype;function l0(i){return typeof BigInt!="function"?null:BigInt(i.replace(/_/g,""))}Re.next=function(i){!i&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new tc(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Re.getToken=function(){return this.next(),new tc(this)},typeof Symbol<"u"&&(Re[Symbol.iterator]=function(){var i=this;return{next:function(){var e=i.getToken();return{done:e.type===P.eof,value:e}}}}),Re.nextToken=function(){var i=this.curContext();return i&&i.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(P.eof):i.override?i.override(this):void this.readToken(this.fullCharCodeAtPos())},Re.readToken=function(i){return bn(i,this.options.ecmaVersion>=6)||i===92?this.readWord():this.getTokenFromCode(i)},Re.fullCharCodeAtPos=function(){var i=this.input.charCodeAt(this.pos);if(i<=55295||i>=56320)return i;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?i:(i<<10)+e-56613888},Re.skipBlockComment=function(){var i=this.options.onComment&&this.curPosition(),e=this.pos,t=this.input.indexOf("*/",this.pos+=2);if(t===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=t+2,this.options.locations)for(var n=void 0,s=e;(n=Qb(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=n;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,t),e,this.pos,i,this.curPosition())},Re.skipLineComment=function(i){for(var e=this.pos,t=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=i);this.pos<this.input.length&&!or(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+i,this.pos),e,this.pos,t,this.curPosition())},Re.skipSpace=function(){e:for(;this.pos<this.input.length;){var i=this.input.charCodeAt(this.pos);switch(i){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(i>8&&i<14||i>=5760&&zp.test(String.fromCharCode(i))))break e;++this.pos}}},Re.finishToken=function(i,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var t=this.type;this.type=i,this.value=e,this.updateContext(t)},Re.readToken_dot=function(){var i=this.input.charCodeAt(this.pos+1);if(i>=48&&i<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&i===46&&e===46?(this.pos+=3,this.finishToken(P.ellipsis)):(++this.pos,this.finishToken(P.dot))},Re.readToken_slash=function(){var i=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):i===61?this.finishOp(P.assign,2):this.finishOp(P.slash,1)},Re.readToken_mult_modulo_exp=function(i){var e=this.input.charCodeAt(this.pos+1),t=1,n=i===42?P.star:P.modulo;return this.options.ecmaVersion>=7&&i===42&&e===42&&(++t,n=P.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(P.assign,t+1):this.finishOp(n,t)},Re.readToken_pipe_amp=function(i){var e=this.input.charCodeAt(this.pos+1);return e===i?this.options.ecmaVersion>=12&&this.input.charCodeAt(this.pos+2)===61?this.finishOp(P.assign,3):this.finishOp(i===124?P.logicalOR:P.logicalAND,2):e===61?this.finishOp(P.assign,2):this.finishOp(i===124?P.bitwiseOR:P.bitwiseAND,1)},Re.readToken_caret=function(){return this.input.charCodeAt(this.pos+1)===61?this.finishOp(P.assign,2):this.finishOp(P.bitwiseXOR,1)},Re.readToken_plus_min=function(i){var e=this.input.charCodeAt(this.pos+1);return e===i?e!==45||this.inModule||this.input.charCodeAt(this.pos+2)!==62||this.lastTokEnd!==0&&!Pi.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(P.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):e===61?this.finishOp(P.assign,2):this.finishOp(P.plusMin,1)},Re.readToken_lt_gt=function(i){var e=this.input.charCodeAt(this.pos+1),t=1;return e===i?(t=i===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+t)===61?this.finishOp(P.assign,t+1):this.finishOp(P.bitShift,t)):e!==33||i!==60||this.inModule||this.input.charCodeAt(this.pos+2)!==45||this.input.charCodeAt(this.pos+3)!==45?(e===61&&(t=2),this.finishOp(P.relational,t)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Re.readToken_eq_excl=function(i){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(P.equality,this.input.charCodeAt(this.pos+2)===61?3:2):i===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(P.arrow)):this.finishOp(i===61?P.eq:P.prefix,1)},Re.readToken_question=function(){var i=this.options.ecmaVersion;if(i>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var t=this.input.charCodeAt(this.pos+2);if(t<48||t>57)return this.finishOp(P.questionDot,2)}if(e===63)return i>=12&&this.input.charCodeAt(this.pos+2)===61?this.finishOp(P.assign,3):this.finishOp(P.coalesce,2)}return this.finishOp(P.question,1)},Re.readToken_numberSign=function(){var i=35;if(this.options.ecmaVersion>=13&&(++this.pos,bn(i=this.fullCharCodeAtPos(),!0)||i===92))return this.finishToken(P.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Cs(i)+"'")},Re.getTokenFromCode=function(i){switch(i){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(P.parenL);case 41:return++this.pos,this.finishToken(P.parenR);case 59:return++this.pos,this.finishToken(P.semi);case 44:return++this.pos,this.finishToken(P.comma);case 91:return++this.pos,this.finishToken(P.bracketL);case 93:return++this.pos,this.finishToken(P.bracketR);case 123:return++this.pos,this.finishToken(P.braceL);case 125:return++this.pos,this.finishToken(P.braceR);case 58:return++this.pos,this.finishToken(P.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(P.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(i);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(i);case 124:case 38:return this.readToken_pipe_amp(i);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(i);case 60:case 62:return this.readToken_lt_gt(i);case 61:case 33:return this.readToken_eq_excl(i);case 63:return this.readToken_question();case 126:return this.finishOp(P.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Cs(i)+"'")},Re.finishOp=function(i,e){var t=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(i,t)},Re.readRegexp=function(){for(var i,e,t=this.pos;;){this.pos>=this.input.length&&this.raise(t,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(Pi.test(n)&&this.raise(t,"Unterminated regular expression"),i)i=!1;else{if(n==="[")e=!0;else if(n==="]"&&e)e=!1;else if(n==="/"&&!e)break;i=n==="\\"}++this.pos}var s=this.input.slice(t,this.pos);++this.pos;var r=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(r);var a=this.regexpState||(this.regexpState=new mn(this));a.reset(t,s,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var l=null;try{l=new RegExp(s,o)}catch{}return this.finishToken(P.regexp,{pattern:s,flags:o,value:l})},Re.readInt=function(i,e,t){for(var n=this.options.ecmaVersion>=12&&e===void 0,s=t&&this.input.charCodeAt(this.pos)===48,r=this.pos,o=0,a=0,l=0,h=e??1/0;l<h;++l,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(n&&c===95)s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),l===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;else{if((f=c>=97?c-97+10:c>=65?c-65+10:c>=48&&c<=57?c-48:1/0)>=i)break;a=c,o=o*i+f}}return n&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===r||e!=null&&this.pos-r!==e?null:o},Re.readRadixNumber=function(i){var e=this.pos;this.pos+=2;var t=this.readInt(i);return t==null&&this.raise(this.start+2,"Expected number in radix "+i),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(t=l0(this.input.slice(e,this.pos)),++this.pos):bn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(P.num,t)},Re.readNumber=function(i){var e=this.pos;i||this.readInt(10,void 0,!0)!==null||this.raise(e,"Invalid number");var t=this.pos-e>=2&&this.input.charCodeAt(e)===48;t&&this.strict&&this.raise(e,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!t&&!i&&this.options.ecmaVersion>=11&&n===110){var s=l0(this.input.slice(e,this.pos));return++this.pos,bn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(P.num,s)}t&&/[89]/.test(this.input.slice(e,this.pos))&&(t=!1),n!==46||t||(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),n!==69&&n!==101||t||((n=this.input.charCodeAt(++this.pos))!==43&&n!==45||++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),bn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var r,o=(r=this.input.slice(e,this.pos),t?parseInt(r,8):parseFloat(r.replace(/_/g,"")));return this.finishToken(P.num,o)},Re.readCodePoint=function(){var i;if(this.input.charCodeAt(this.pos)===123){this.options.ecmaVersion<6&&this.unexpected();var e=++this.pos;i=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,i>1114111&&this.invalidStringToken(e,"Code point out of bounds")}else i=this.readHexChar(4);return i},Re.readString=function(i){for(var e="",t=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===i)break;n===92?(e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!1),t=this.pos):n===8232||n===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(or(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(t,this.pos++),this.finishToken(P.string,e)};var h0={};Re.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(i){if(i!==h0)throw i;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Re.invalidStringToken=function(i,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw h0;this.raise(i,e)},Re.readTmplToken=function(){for(var i="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var t=this.input.charCodeAt(this.pos);if(t===96||t===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos!==this.start||this.type!==P.template&&this.type!==P.invalidTemplate?(i+=this.input.slice(e,this.pos),this.finishToken(P.template,i)):t===36?(this.pos+=2,this.finishToken(P.dollarBraceL)):(++this.pos,this.finishToken(P.backQuote));if(t===92)i+=this.input.slice(e,this.pos),i+=this.readEscapedChar(!0),e=this.pos;else if(or(t)){switch(i+=this.input.slice(e,this.pos),++this.pos,t){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:i+=`
`;break;default:i+=String.fromCharCode(t)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}},Re.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(P.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Re.readEscapedChar=function(i){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Cs(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),i){var t=this.pos-1;this.invalidStringToken(t,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(n,8);return s>255&&(n=n.slice(0,-1),s=parseInt(n,8)),this.pos+=n.length-1,e=this.input.charCodeAt(this.pos),n==="0"&&e!==56&&e!==57||!this.strict&&!i||this.invalidStringToken(this.pos-1-n.length,i?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return or(e)?"":String.fromCharCode(e)}},Re.readHexChar=function(i){var e=this.pos,t=this.readInt(16,i);return t===null&&this.invalidStringToken(e,"Bad character escape sequence"),t},Re.readWord1=function(){this.containsEsc=!1;for(var i="",e=!0,t=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(rr(s,n))this.pos+=s<=65535?1:2;else{if(s!==92)break;this.containsEsc=!0,i+=this.input.slice(t,this.pos);var r=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(e?bn:rr)(o,n)||this.invalidStringToken(r,"Invalid Unicode escape"),i+=Cs(o),t=this.pos}e=!1}return i+this.input.slice(t,this.pos)},Re.readWord=function(){var i=this.readWord1(),e=P.name;return this.keywords.test(i)&&(e=Ic[i]),this.finishToken(e,i)};var jb="8.10.0";ut.acorn={Parser:ut,version:jb,defaultOptions:Jh,Position:Hr,SourceLocation:Za,getLineInfo:Zp,Node:Yo,TokenType:De,tokTypes:P,keywordTypes:Ic,TokContext:Qi,tokContexts:tt,isIdentifierChar:rr,isIdentifierStart:bn,Token:tc,isNewLine:or,lineBreak:Pi,lineBreakG:Tb,nonASCIIwhitespace:zp};var PR=Object.freeze({__proto__:null,Node:Yo,Parser:ut,Position:Hr,SourceLocation:Za,TokContext:Qi,Token:tc,TokenType:De,defaultOptions:Jh,getLineInfo:Zp,isIdentifierChar:rr,isIdentifierStart:bn,isNewLine:or,keywordTypes:Ic,lineBreak:Pi,lineBreakG:Tb,nonASCIIwhitespace:zp,parse:function(i,e){return ut.parse(i,e)},parseExpressionAt:function(i,e,t){return ut.parseExpressionAt(i,e,t)},tokContexts:tt,tokTypes:P,tokenizer:function(i,e){return ut.tokenizer(i,e)},version:jb});const Mc=i=>()=>oe(function(e){return{code:"NO_FS_IN_BROWSER",message:`Cannot access the file system (via "${e}") when using the browser build of Rollup. Make sure you supply a plugin with custom resolveId and load hooks to Rollup.`,url:Bt("plugin-development/#a-simple-example")}}(i)),ER=Mc("fs.mkdir"),AR=Mc("fs.readFile"),IR=Mc("fs.writeFile");async function c0(i,e,t,n,s,r,o,a,l){const h=await function(c,f,p,g,y,v,w,k){let T=null,$=null;if(y){T=new Set;for(const E of y)c===E.source&&f===E.importer&&T.add(E.plugin);$=(E,_)=>({...E,resolve:(N,z,{assertions:Q,custom:M,isEntry:V,skipSelf:B}=jt)=>g(N,z,M,V,Q||Si,B?[...y,{importer:z,plugin:_,source:N}]:y)})}return p.hookFirstAndGetPlugin("resolveId",[c,f,{assertions:k,custom:v,isEntry:w}],$,T)}(i,e,n,s,r,o,a,l);return h==null?Mc("path.resolve")():h[0]}const Up="at position ",jp="at output position ",MR={delete:()=>!1,get(){},has:()=>!1,set(){}};function Ql(i){return i.startsWith(Up)||i.startsWith(jp)?oe({code:B_,message:"A plugin is trying to use the Rollup cache but is not declaring a plugin name or cacheKey."}):oe({code:F_,message:`The plugin name ${i} is being used twice in the same build. Plugin names must be distinct or provide a cacheKey (please post an issue to the plugin if you are a plugin user).`})}const u0=(i,e,t=TR)=>{const{onwarn:n,onLog:s}=i,r=_R(t,n);if(s){const o=Gs[e];return(a,l)=>s(a,Fb(l),(h,c)=>{if(h==="error")return oe(In(c));Gs[h]>=o&&r(h,In(c))})}return r},_R=(i,e)=>e?(t,n)=>{t===ke?e(Fb(n),s=>i(ke,In(s))):i(t,n)}:i,Fb=i=>(Object.defineProperty(i,"toString",{value:()=>Wb(i),writable:!0}),i),In=i=>typeof i=="string"?{message:i}:typeof i=="function"?In(i()):i,Wb=i=>{let e="";return i.plugin&&(e+=`(${i.plugin} plugin) `),i.loc&&(e+=`${Ae(i.loc.file)} (${i.loc.line}:${i.loc.column}) `),e+i.message},TR=(i,e)=>{const t=Wb(e);switch(i){case ke:return console.warn(t);case La:return console.debug(t);default:return console.info(t)}};function Yb(i,e,t,n,s=/$./){const r=new Set(e),o=Object.keys(i).filter(a=>!(r.has(a)||s.test(a)));o.length>0&&n(ke,function(a,l,h){return{code:aT,message:`Unknown ${a}: ${l.join(", ")}. Allowed options: ${h.join(", ")}`}}(t,o,[...r].sort()))}const QR={recommended:{annotations:!0,correctVarValueBeforeDeclaration:!1,manualPureFunctions:yt,moduleSideEffects:()=>!0,propertyReadSideEffects:!0,tryCatchDeoptimization:!0,unknownGlobalSideEffects:!1},safest:{annotations:!0,correctVarValueBeforeDeclaration:!0,manualPureFunctions:yt,moduleSideEffects:()=>!0,propertyReadSideEffects:!0,tryCatchDeoptimization:!0,unknownGlobalSideEffects:!0},smallest:{annotations:!0,correctVarValueBeforeDeclaration:!1,manualPureFunctions:yt,moduleSideEffects:()=>!1,propertyReadSideEffects:!1,tryCatchDeoptimization:!1,unknownGlobalSideEffects:!1}},RR={es2015:{arrowFunctions:!0,constBindings:!0,objectShorthand:!0,reservedNamesAsProps:!0,symbols:!0},es5:{arrowFunctions:!1,constBindings:!1,objectShorthand:!1,reservedNamesAsProps:!0,symbols:!1}},Gb=(i,e,t,n,s)=>{const r=i?.preset;if(r){const o=e[r];if(o)return{...o,...i};oe(vt(`${t}.preset`,n,`valid values are ${Wn(Object.keys(e))}`,r))}return((o,a,l,h)=>c=>{if(typeof c=="string"){const f=o[c];if(f)return f;oe(vt(a,l,`valid values are ${h}${Wn(Object.keys(o))}. You can also supply an object for more fine-grained control`,c))}return(f=>f&&typeof f=="object"?f:{})(c)})(e,t,n,s)(i)},ic=async i=>(await async function(e){do e=(await Promise.all(e)).flat(1/0);while(e.some(t=>t?.then));return e}([i])).filter(Boolean);async function LR(i,e,t,n){const s=e.id,r=[];let o=i.map===null?null:Br(i.map);const a=i.code;let l=i.ast;const h=[],c=[];let f=!1;const p=()=>f=!0;let g="",y=i.code;const v=k=>(T,$)=>{T=In(T),$&&zh(T,$,y,s),T.id=s,T.hook="transform",k(T)};let w;try{w=await t.hookReduceArg0("transform",[y,s],function(k,T,$){let E,_;if(typeof T=="string")E=T;else{if(!T||typeof T!="object")return k;if(e.updateOptions(T),T.code==null)return(T.map||T.ast)&&n(ke,function(N){return{code:sT,message:`The plugin "${N}" returned a "map" or "ast" without returning a "code". This will be ignored.`}}($.name)),k;({code:E,map:_,ast:l}=T)}return _!==null&&r.push(Br(typeof _=="string"?JSON.parse(_):_)||{missing:!0,plugin:$.name}),y=E,E},(k,T)=>{return g=T.name,{...k,addWatchFile(_){h.push(_),k.addWatchFile(_)},cache:f?k.cache:($=k.cache,E=p,{delete:_=>(E(),$.delete(_)),get:_=>(E(),$.get(_)),has:_=>(E(),$.has(_)),set:(_,N)=>(E(),$.set(_,N))}),debug:v(k.debug),emitFile:_=>(c.push(_),t.emitFile(_)),error:(_,N)=>(typeof _=="string"&&(_={message:_}),N&&zh(_,N,y,s),_.id=s,_.hook="transform",k.error(_)),getCombinedSourcemap(){const _=function(N,z,Q,M,V){return M.length===0?Q:Br({version:3,...Pb(N,z,Q,M,$b(V)).traceMappings()})}(s,a,o,r,n);return _?(o!==_&&(o=_,r.length=0),new vc({..._,file:null,sourcesContent:_.sourcesContent})):new Ws(a).generateMap({hires:!0,includeContent:!0,source:s})},info:v(k.info),setAssetSource(){return this.error({code:K_,message:"setAssetSource cannot be called in transform for caching reasons. Use emitFile with a source, or call setAssetSource in another hook."})},warn:v(k.warn)};var $,E})}catch(k){return oe(fa(k,g,{hook:"transform",id:s}))}return!f&&c.length>0&&(e.transformFiles=c),{ast:l,code:w,customTransformCache:f,originalCode:a,originalSourcemap:o,sourcemapChain:r,transformDependencies:h}}const Uu="resolveDependencies";class NR{constructor(e,t,n,s){this.graph=e,this.modulesById=t,this.options=n,this.pluginDriver=s,this.implicitEntryModules=new Set,this.indexedEntryModules=[],this.latestLoadModulesPromise=Promise.resolve(),this.moduleLoadPromises=new Map,this.modulesWithLoadedDependencies=new Set,this.nextChunkNamePriority=0,this.nextEntryModuleIndex=0,this.resolveId=async(r,o,a,l,h,c=null)=>this.getResolvedIdWithDefaults(this.getNormalizedResolvedIdWithoutDefaults(!this.options.external(r,o,!1)&&await c0(r,o,this.options.preserveSymlinks,this.pluginDriver,this.resolveId,c,a,typeof l=="boolean"?l:!o,h),o,r),h),this.hasModuleSideEffects=n.treeshake?n.treeshake.moduleSideEffects:()=>!0}async addAdditionalModules(e,t){const n=this.extendLoadModulesPromise(Promise.all(e.map(s=>this.loadEntryModule(s,!1,void 0,null,t))));return await this.awaitLoadModulesPromise(),n}async addEntryModules(e,t){const n=this.nextEntryModuleIndex;this.nextEntryModuleIndex+=e.length;const s=this.nextChunkNamePriority;this.nextChunkNamePriority+=e.length;const r=await this.extendLoadModulesPromise(Promise.all(e.map(({id:o,importer:a})=>this.loadEntryModule(o,!0,a,null))).then(o=>{for(const[a,l]of o.entries()){l.isUserDefinedEntryPoint=l.isUserDefinedEntryPoint||t,d0(l,e[a],t,s+a);const h=this.indexedEntryModules.find(c=>c.module===l);h?h.index=Math.min(h.index,n+a):this.indexedEntryModules.push({index:n+a,module:l})}return this.indexedEntryModules.sort(({index:a},{index:l})=>a>l?1:-1),o}));return await this.awaitLoadModulesPromise(),{entryModules:this.indexedEntryModules.map(({module:o})=>o),implicitEntryModules:[...this.implicitEntryModules],newEntryModules:r}}async emitChunk({fileName:e,id:t,importer:n,name:s,implicitlyLoadedAfterOneOf:r,preserveSignature:o}){const a={fileName:e||null,id:t,importer:n,name:s||null},l=r?await this.addEntryWithImplicitDependants(a,r):(await this.addEntryModules([a],!1)).newEntryModules[0];return o!=null&&(l.preserveSignature=o),l}async preloadModule(e){return(await this.fetchModule(this.getResolvedIdWithDefaults(e,Si),void 0,!1,!e.resolveDependencies||Uu)).info}addEntryWithImplicitDependants(e,t){const n=this.nextChunkNamePriority++;return this.extendLoadModulesPromise(this.loadEntryModule(e.id,!1,e.importer,null).then(async s=>{if(d0(s,e,!1,n),!s.info.isEntry){this.implicitEntryModules.add(s);const r=await Promise.all(t.map(o=>this.loadEntryModule(o,!1,e.importer,s.id)));for(const o of r)s.implicitlyLoadedAfter.add(o);for(const o of s.implicitlyLoadedAfter)o.implicitlyLoadedBefore.add(s)}return s}))}async addModuleSource(e,t,n){let s;try{s=await this.graph.fileOperationQueue.run(async()=>await this.pluginDriver.hookFirst("load",[e])??await AR(e,"utf8"))}catch(a){let l=`Could not load ${e}`;throw t&&(l+=` (imported by ${Ae(t)})`),l+=`: ${a.message}`,a.message=l,a}const r=typeof s=="string"?{code:s}:s!=null&&typeof s=="object"&&typeof s.code=="string"?s:oe(function(a){return{code:"BAD_LOADER",message:`Error loading "${Ae(a)}": plugin load hook should return a string, a { code, map } object, or nothing/null.`}}(e)),o=this.graph.cachedModules.get(e);if(!o||o.customTransformCache||o.originalCode!==r.code||await this.pluginDriver.hookFirst("shouldTransformCachedModule",[{ast:o.ast,code:o.code,id:o.id,meta:o.meta,moduleSideEffects:o.moduleSideEffects,resolvedSources:o.resolvedIds,syntheticNamedExports:o.syntheticNamedExports}]))n.updateOptions(r),n.setSource(await LR(r,n,this.pluginDriver,this.options.onLog));else{if(o.transformFiles)for(const a of o.transformFiles)this.pluginDriver.emitFile(a);n.setSource(o)}}async awaitLoadModulesPromise(){let e;do e=this.latestLoadModulesPromise,await e;while(e!==this.latestLoadModulesPromise)}extendLoadModulesPromise(e){return this.latestLoadModulesPromise=Promise.all([e,this.latestLoadModulesPromise]),this.latestLoadModulesPromise.catch(()=>{}),e}async fetchDynamicDependencies(e,t){const n=await Promise.all(t.map(s=>s.then(async([r,o])=>o===null?null:typeof o=="string"?(r.resolution=o,null):r.resolution=await this.fetchResolvedDependency(Ae(o.id),e.id,o))));for(const s of n)s&&(e.dynamicDependencies.add(s),s.dynamicImporters.push(e.id))}async fetchModule({assertions:e,id:t,meta:n,moduleSideEffects:s,syntheticNamedExports:r},o,a,l){const h=this.modulesById.get(t);if(h instanceof mt)return o&&nh(e,h.info.assertions)&&this.options.onLog(ke,Jl(h.info.assertions,e,t,o)),await this.handleExistingModule(h,a,l),h;if(h instanceof st)return oe({code:"EXTERNAL_MODULES_CANNOT_BE_TRANSFORMED_TO_MODULES",message:`${h.id} is resolved as a module now, but it was an external module before. Please check whether there are conflicts in your Rollup options "external" and "manualChunks", manualChunks cannot include external modules.`});const c=new mt(this.graph,t,this.options,a,s,r,n,e);this.modulesById.set(t,c),this.graph.watchFiles[t]=!0;const f=this.addModuleSource(t,o,c).then(()=>[this.getResolveStaticDependencyPromises(c),this.getResolveDynamicImportPromises(c),p]),p=p0(f).then(()=>this.pluginDriver.hookParallel("moduleParsed",[c.info]));p.catch(()=>{}),this.moduleLoadPromises.set(c,f);const g=await f;return l?l===Uu&&await p:await this.fetchModuleDependencies(c,...g),c}async fetchModuleDependencies(e,t,n,s){this.modulesWithLoadedDependencies.has(e)||(this.modulesWithLoadedDependencies.add(e),await Promise.all([this.fetchStaticDependencies(e,t),this.fetchDynamicDependencies(e,n)]),e.linkImports(),await s)}fetchResolvedDependency(e,t,n){if(n.external){const{assertions:s,external:r,id:o,moduleSideEffects:a,meta:l}=n;let h=this.modulesById.get(o);if(h){if(!(h instanceof st))return oe(function(c,f){return{code:"INVALID_EXTERNAL_ID",message:`"${c}" is imported as an external by "${Ae(f)}", but is already an existing non-external module id.`}}(e,t));nh(h.info.assertions,s)&&this.options.onLog(ke,Jl(h.info.assertions,s,e,t))}else h=new st(this.options,o,a,l,r!=="absolute"&&ws(o),s),this.modulesById.set(o,h);return Promise.resolve(h)}return this.fetchModule(n,t,!1,!1)}async fetchStaticDependencies(e,t){for(const n of await Promise.all(t.map(s=>s.then(([r,o])=>this.fetchResolvedDependency(r,e.id,o)))))e.dependencies.add(n),n.importers.push(e.id);if(!this.options.treeshake||e.info.moduleSideEffects==="no-treeshake")for(const n of e.dependencies)n instanceof mt&&(n.importedFromNotTreeshaken=!0)}getNormalizedResolvedIdWithoutDefaults(e,t,n){const{makeAbsoluteExternalsRelative:s}=this.options;if(e){if(typeof e=="object"){const a=e.external||this.options.external(e.id,t,!0);return{...e,external:a&&(a==="relative"||!ws(e.id)||a===!0&&ju(e.id,n,s)||"absolute")}}const o=this.options.external(e,t,!0);return{external:o&&(ju(e,n,s)||"absolute"),id:o&&s?f0(e,t):e}}const r=s?f0(n,t):n;return e===!1||this.options.external(r,t,!0)?{external:ju(r,n,s)||"absolute",id:r}:null}getResolveDynamicImportPromises(e){return e.dynamicImports.map(async t=>{const n=await this.resolveDynamicImport(e,typeof t.argument=="string"?t.argument:t.argument.esTreeNode,e.id,function(s){const r=s.arguments?.[0]?.properties.find(a=>vd(a)==="assert")?.value;if(!r)return Si;const o=r.properties.map(a=>{const l=vd(a);return typeof l=="string"&&typeof a.value.value=="string"?[l,a.value.value]:null}).filter(a=>!!a);return o.length>0?Object.fromEntries(o):Si}(t.node));return n&&typeof n=="object"&&(t.id=n.id),[t,n]})}getResolveStaticDependencyPromises(e){return Array.from(e.sourcesWithAssertions,async([t,n])=>[t,e.resolvedIds[t]=e.resolvedIds[t]||this.handleInvalidResolvedId(await this.resolveId(t,e.id,Si,!1,n),t,e.id,n)])}getResolvedIdWithDefaults(e,t){if(!e)return null;const n=e.external||!1;return{assertions:e.assertions||t,external:n,id:e.id,meta:e.meta||{},moduleSideEffects:e.moduleSideEffects??this.hasModuleSideEffects(e.id,!!n),resolvedBy:e.resolvedBy??"rollup",syntheticNamedExports:e.syntheticNamedExports??!1}}async handleExistingModule(e,t,n){const s=this.moduleLoadPromises.get(e);if(n)return n===Uu?p0(s):s;if(t){e.info.isEntry=!0,this.implicitEntryModules.delete(e);for(const r of e.implicitlyLoadedAfter)r.implicitlyLoadedBefore.delete(e);e.implicitlyLoadedAfter.clear()}return this.fetchModuleDependencies(e,...await s)}handleInvalidResolvedId(e,t,n,s){return e===null?Op(t)?oe(function(r,o){return{code:jO,exporter:r,id:o,message:`Could not resolve "${r}" from "${Ae(o)}"`}}(t,n)):(this.options.onLog(ke,function(r,o){return{code:jO,exporter:r,id:o,message:`"${r}" is imported by "${Ae(o)}", but could not be resolved – treating it as an external dependency.`,url:Bt("troubleshooting/#warning-treating-module-as-external-dependency")}}(t,n)),{assertions:s,external:!0,id:t,meta:{},moduleSideEffects:this.hasModuleSideEffects(t,!0),resolvedBy:"rollup",syntheticNamedExports:!1}):(e.external&&e.syntheticNamedExports&&this.options.onLog(ke,function(r,o){return{code:"EXTERNAL_SYNTHETIC_EXPORTS",exporter:r,message:`External "${r}" cannot have "syntheticNamedExports" enabled (imported by "${Ae(o)}").`}}(t,n)),e)}async loadEntryModule(e,t,n,s,r=!1){const o=await c0(e,n,this.options.preserveSymlinks,this.pluginDriver,this.resolveId,null,Si,!0,Si);if(o==null)return oe(s===null?function(l){return{code:UO,message:`Could not resolve entry module "${Ae(l)}".`}}(e):function(l,h){return{code:td,message:`Module "${Ae(l)}" that should be implicitly loaded before "${Ae(h)}" could not be resolved.`}}(e,s));const a=typeof o=="object"&&o.external;return o===!1||a?oe(s===null?a&&r?{code:"EXTERNAL_MODULES_CANNOT_BE_INCLUDED_IN_MANUAL_CHUNKS",message:`"${e}" cannot be included in manualChunks because it is resolved as an external module by the "external" option or plugins.`}:function(l){return{code:UO,message:`Entry module "${Ae(l)}" cannot be external.`}}(e):function(l,h){return{code:td,message:`Module "${Ae(l)}" that should be implicitly loaded before "${Ae(h)}" cannot be external.`}}(e,s)):this.fetchModule(this.getResolvedIdWithDefaults(typeof o=="object"?o:{id:o},Si),void 0,t,!1)}async resolveDynamicImport(e,t,n,s){const r=await this.pluginDriver.hookFirst("resolveDynamicImport",[t,n,{assertions:s}]);if(typeof t!="string")return typeof r=="string"?r:r?this.getResolvedIdWithDefaults(r,s):null;if(r==null){const o=e.resolvedIds[t];return o?(nh(o.assertions,s)&&this.options.onLog(ke,Jl(o.assertions,s,t,n)),o):e.resolvedIds[t]=this.handleInvalidResolvedId(await this.resolveId(t,e.id,Si,!1,s),t,e.id,s)}return this.handleInvalidResolvedId(this.getResolvedIdWithDefaults(this.getNormalizedResolvedIdWithoutDefaults(r,n,t),s),t,n,s)}}function f0(i,e){return Op(i)?e?Ji(e,"..",i):Ji(i):i}function d0(i,{fileName:e,name:t},n,s){if(e!==null)i.chunkFileNames.add(e);else if(t!==null){let r=0;for(;i.chunkNames[r]?.priority<s;)r++;i.chunkNames.splice(r,0,{isUserDefined:n,name:t,priority:s})}}function ju(i,e,t){return t===!0||t==="ifRelativeSource"&&Op(e)||!ws(i)}async function p0(i){const[e,t]=await i;return Promise.all([...e,...t])}class DR extends zS{constructor(){super(),this.parent=null,this.variables.set("undefined",new fb)}findVariable(e){let t=this.variables.get(e);return t||(t=new Ap(e),this.variables.set(e,t)),t}}function m0(i){return Wo().update(i).digest("hex")}function g0(i,e,t,n,s){const r=n.sanitizeFileName(i||"asset");return bb(Sb(typeof n.assetFileNames=="function"?n.assetFileNames({name:i,source:e,type:"asset"}):n.assetFileNames,"output.assetFileNames",{ext:()=>ds(r).slice(1),extname:()=>ds(r),hash:o=>t.slice(0,Math.max(0,o||8)),name:()=>r.slice(0,Math.max(0,r.length-ds(r).length))}),s)}function O0(i,{bundle:e},t){e[Ac].has(i.toLowerCase())?t(ke,function(n){return{code:W_,message:`The emitted file "${n}" overwrites a previously emitted file of the same name.`}}(i)):e[i]=Bp}const VR=new Set(["chunk","asset","prebuilt-chunk"]);function y0(i,e,t){if(!(typeof i=="string"||i instanceof Uint8Array)){const n=e.fileName||e.name||t;return oe(fi(`Could not set source for ${typeof n=="string"?`asset "${n}"`:"unnamed asset"}, asset source needs to be a string, Uint8Array or Buffer.`))}return i}function BR(i,e){return typeof i.fileName!="string"?oe((t=i.name||e,{code:X_,message:`Plugin error - Unable to get file name for asset "${t}". Ensure that the source is set and that generate is called first. If you reference assets via import.meta.ROLLUP_FILE_URL_<referenceId>, you need to either have set their source after "renderStart" or need to provide an explicit "fileName" when emitting them.`})):i.fileName;var t}function XR(i,e){return i.fileName?i.fileName:e?e.get(i.module).getFileName():oe((t=i.fileName||i.name,{code:Z_,message:`Plugin error - Unable to get file name for emitted chunk "${t}". You can only get file names once chunks have been generated after the "renderStart" hook.`}));var t}class zR{constructor(e,t,n){this.graph=e,this.options=t,this.facadeChunkByModule=null,this.nextIdBase=1,this.output=null,this.outputFileEmitters=[],this.emitFile=s=>function(r){return!!(r&&VR.has(r.type))}(s)?s.type==="prebuilt-chunk"?this.emitPrebuiltChunk(s):function(r){const o=r.fileName||r.name;return!o||typeof o=="string"&&!Vh(o)}(s)?s.type==="chunk"?this.emitChunk(s):this.emitAsset(s):oe(fi(`The "fileName" or "name" properties of emitted chunks and assets must be strings that are neither absolute nor relative paths, received "${s.fileName||s.name}".`)):oe(fi(`Emitted files must be of type "asset", "chunk" or "prebuilt-chunk", received "${s&&s.type}".`)),this.finaliseAssets=()=>{for(const[s,r]of this.filesByReferenceId)if(r.type==="asset"&&typeof r.fileName!="string")return oe({code:"ASSET_SOURCE_MISSING",message:`Plugin error creating asset "${r.name||s}" - no asset source set.`})},this.getFileName=s=>{const r=this.filesByReferenceId.get(s);return r?r.type==="chunk"?XR(r,this.facadeChunkByModule):r.type==="prebuilt-chunk"?r.fileName:BR(r,s):oe({code:"FILE_NOT_FOUND",message:`Plugin error - Unable to get file name for unknown file "${s}".`})},this.setAssetSource=(s,r)=>{const o=this.filesByReferenceId.get(s);if(!o)return oe({code:"ASSET_NOT_FOUND",message:`Plugin error - Unable to set the source for unknown asset "${s}".`});if(o.type!=="asset")return oe(fi(`Asset sources can only be set for emitted assets but "${s}" is an emitted chunk.`));if(o.source!==void 0)return oe({code:"ASSET_SOURCE_ALREADY_SET",message:`Unable to set the source for asset "${o.name||s}", source already set.`});const a=y0(r,o,s);if(this.output)this.finalizeAdditionalAsset(o,a,this.output);else{o.source=a;for(const l of this.outputFileEmitters)l.finalizeAdditionalAsset(o,a,l.output)}},this.setChunkInformation=s=>{this.facadeChunkByModule=s},this.setOutputBundle=(s,r)=>{const o=this.output={bundle:s,fileNamesBySource:new Map,outputOptions:r};for(const l of this.filesByReferenceId.values())l.fileName&&O0(l.fileName,o,this.options.onLog);const a=new Map;for(const l of this.filesByReferenceId.values())l.type==="asset"&&l.source!==void 0?l.fileName?this.finalizeAdditionalAsset(l,l.source,o):Ci(a,m0(l.source),()=>[]).push(l):l.type==="prebuilt-chunk"&&(this.output.bundle[l.fileName]=this.createPrebuiltChunk(l));for(const[l,h]of a)this.finalizeAssetsWithSameSource(h,l,o)},this.filesByReferenceId=n?new Map(n.filesByReferenceId):new Map,n?.addOutputFileEmitter(this)}addOutputFileEmitter(e){this.outputFileEmitters.push(e)}assignReferenceId(e,t){let n=t;do n=Wo().update(n).digest("hex").slice(0,8);while(this.filesByReferenceId.has(n)||this.outputFileEmitters.some(({filesByReferenceId:s})=>s.has(n)));e.referenceId=n,this.filesByReferenceId.set(n,e);for(const{filesByReferenceId:s}of this.outputFileEmitters)s.set(n,e);return n}createPrebuiltChunk(e){return{code:e.code,dynamicImports:[],exports:e.exports||[],facadeModuleId:null,fileName:e.fileName,implicitlyLoadedBefore:[],importedBindings:{},imports:[],isDynamicEntry:!1,isEntry:!1,isImplicitEntry:!1,map:e.map||null,moduleIds:[],modules:{},name:e.fileName,preliminaryFileName:e.fileName,referencedFiles:[],type:"chunk"}}emitAsset(e){const t=e.source===void 0?void 0:y0(e.source,e,null),n={fileName:e.fileName,name:e.name,needsCodeReference:!!e.needsCodeReference,referenceId:"",source:t,type:"asset"},s=this.assignReferenceId(n,e.fileName||e.name||String(this.nextIdBase++));if(this.output)this.emitAssetWithReferenceId(n,this.output);else for(const r of this.outputFileEmitters)r.emitAssetWithReferenceId(n,r.output);return s}emitAssetWithReferenceId(e,t){const{fileName:n,source:s}=e;n&&O0(n,t,this.options.onLog),s!==void 0&&this.finalizeAdditionalAsset(e,s,t)}emitChunk(e){if(this.graph.phase>gs.LOAD_AND_PARSE)return oe({code:$S,message:"Cannot emit chunks after module loading has finished."});if(typeof e.id!="string")return oe(fi(`Emitted chunks need to have a valid string id, received "${e.id}"`));const t={fileName:e.fileName,module:null,name:e.name||e.id,referenceId:"",type:"chunk"};return this.graph.moduleLoader.emitChunk(e).then(n=>t.module=n).catch(()=>{}),this.assignReferenceId(t,e.id)}emitPrebuiltChunk(e){if(typeof e.code!="string")return oe(fi(`Emitted prebuilt chunks need to have a valid string code, received "${e.code}".`));if(typeof e.fileName!="string"||Vh(e.fileName))return oe(fi(`The "fileName" property of emitted prebuilt chunks must be strings that are neither absolute nor relative paths, received "${e.fileName}".`));const t={code:e.code,exports:e.exports,fileName:e.fileName,map:e.map,referenceId:"",type:"prebuilt-chunk"},n=this.assignReferenceId(t,t.fileName);return this.output&&(this.output.bundle[t.fileName]=this.createPrebuiltChunk(t)),n}finalizeAdditionalAsset(e,t,{bundle:n,fileNamesBySource:s,outputOptions:r}){let{fileName:o,needsCodeReference:a,referenceId:l}=e;if(!o){const f=m0(t);o=s.get(f),o||(o=g0(e.name,t,f,r,n),s.set(f,o))}const h={...e,fileName:o,source:t};this.filesByReferenceId.set(l,h);const c=n[o];c?.type==="asset"?c.needsCodeReference&&(c.needsCodeReference=a):n[o]={fileName:o,name:e.name,needsCodeReference:a,source:t,type:"asset"}}finalizeAssetsWithSameSource(e,t,{bundle:n,fileNamesBySource:s,outputOptions:r}){let o,a="",l=!0;for(const h of e){l&&(l=h.needsCodeReference);const c=g0(h.name,h.source,t,r,n);(!a||c.length<a.length||c.length===a.length&&c<a)&&(a=c,o=h)}s.set(t,a);for(const h of e){const c={...h,fileName:a};this.filesByReferenceId.set(h.referenceId,c)}n[a]={fileName:a,name:o.name,needsCodeReference:l,source:o.source,type:"asset"}}}function Xr(i,e,t,n,s){return Gs[i]<Gs[s]?tn:(r,o)=>{o!=null&&t(ke,{code:q_,message:`Plugin "${n}" tried to add a file position to a log or warning. This is only supported in the "transform" hook at the moment and will be ignored.`}),(r=In(r)).code&&!r.pluginCode&&(r.pluginCode=r.code),r.code=e,r.plugin=n,t(i,r)}}function ZR(i,e,t,n,s,r){const{logLevel:o,onLog:a}=n;let l,h=!0;if(typeof i.cacheKey!="string"&&(i.name.startsWith(Up)||i.name.startsWith(jp)||r.has(i.name)?h=!1:r.add(i.name)),e)if(h){const p=i.cacheKey||i.name;f=e[p]||(e[p]=Object.create(null)),l={delete:g=>delete f[g],get(g){const y=f[g];if(y)return y[0]=0,y[1]},has(g){const y=f[g];return!!y&&(y[0]=0,!0)},set(g,y){f[g]=[0,y]}}}else c=i.name,l={delete:()=>Ql(c),get:()=>Ql(c),has:()=>Ql(c),set:()=>Ql(c)};else l=MR;var c,f;return{addWatchFile(p){if(t.phase>=gs.GENERATE)return this.error({code:$S,message:'Cannot call "addWatchFile" after the build has finished.'});t.watchFiles[p]=!0},cache:l,debug:Xr(La,"PLUGIN_LOG",a,i.name,o),emitFile:s.emitFile.bind(s),error:p=>oe(fa(In(p),i.name)),getFileName:s.getFileName,getModuleIds:()=>t.modulesById.keys(),getModuleInfo:t.getModuleInfo,getWatchFiles:()=>Object.keys(t.watchFiles),info:Xr(Ys,"PLUGIN_LOG",a,i.name,o),load:p=>t.moduleLoader.preloadModule(p),meta:{rollupVersion:mp,watchMode:t.watchMode},get moduleIds(){const p=t.modulesById.keys();return function*(){hr(`Accessing "this.moduleIds" on the plugin context by plugin ${i.name} is deprecated. The "this.getModuleIds" plugin context function should be used instead.`,"plugin-development/#this-getmoduleids",!0,n,i.name),yield*p}()},parse:t.contextParse.bind(t),resolve:(p,g,{assertions:y,custom:v,isEntry:w,skipSelf:k}=jt)=>t.moduleLoader.resolveId(p,g,v,w,y||Si,k?[{importer:g,plugin:i,source:p}]:null),setAssetSource:s.setAssetSource,warn:Xr(ke,"PLUGIN_WARNING",a,i.name,o)}}const UR=Object.keys({buildEnd:1,buildStart:1,closeBundle:1,closeWatcher:1,load:1,moduleParsed:1,onLog:1,options:1,resolveDynamicImport:1,resolveId:1,shouldTransformCachedModule:1,transform:1,watchChange:1});class Fp{constructor(e,t,n,s,r){this.graph=e,this.options=t,this.pluginCache=s,this.sortedPlugins=new Map,this.unfulfilledActions=new Set,this.fileEmitter=new zR(e,t,r&&r.fileEmitter),this.emitFile=this.fileEmitter.emitFile.bind(this.fileEmitter),this.getFileName=this.fileEmitter.getFileName.bind(this.fileEmitter),this.finaliseAssets=this.fileEmitter.finaliseAssets.bind(this.fileEmitter),this.setChunkInformation=this.fileEmitter.setChunkInformation.bind(this.fileEmitter),this.setOutputBundle=this.fileEmitter.setOutputBundle.bind(this.fileEmitter),this.plugins=[...r?r.plugins:[],...n];const o=new Set;if(this.pluginContexts=new Map(this.plugins.map(l=>[l,ZR(l,s,e,t,this.fileEmitter,o)])),r)for(const l of n)for(const h of UR)h in l&&t.onLog(ke,(a=l.name,{code:"INPUT_HOOK_IN_OUTPUT_PLUGIN",message:`The "${h}" hook used by the output plugin ${a} is a build time hook and will not be run for that plugin. Either this plugin cannot be used as an output plugin, or it should have an option to configure it as an output plugin.`}));var a}createOutputPluginDriver(e){return new Fp(this.graph,this.options,e,this.pluginCache,this)}getUnfulfilledHookActions(){return this.unfulfilledActions}hookFirst(e,t,n,s){return this.hookFirstAndGetPlugin(e,t,n,s).then(r=>r&&r[0])}async hookFirstAndGetPlugin(e,t,n,s){for(const r of this.getSortedPlugins(e)){if(s?.has(r))continue;const o=await this.runHook(e,t,r,n);if(o!=null)return[o,r]}return null}hookFirstSync(e,t,n){for(const s of this.getSortedPlugins(e)){const r=this.runHookSync(e,t,s,n);if(r!=null)return r}return null}async hookParallel(e,t,n){const s=[];for(const r of this.getSortedPlugins(e))r[e].sequential?(await Promise.all(s),s.length=0,await this.runHook(e,t,r,n)):s.push(this.runHook(e,t,r,n));await Promise.all(s)}hookReduceArg0(e,[t,...n],s,r){let o=Promise.resolve(t);for(const a of this.getSortedPlugins(e))o=o.then(l=>this.runHook(e,[l,...n],a,r).then(h=>s.call(this.pluginContexts.get(a),l,h,a)));return o}hookReduceArg0Sync(e,[t,...n],s,r){for(const o of this.getSortedPlugins(e)){const a=[t,...n],l=this.runHookSync(e,a,o,r);t=s.call(this.pluginContexts.get(o),t,l,o)}return t}async hookReduceValue(e,t,n,s){const r=[],o=[];for(const a of this.getSortedPlugins(e,FR))a[e].sequential?(r.push(...await Promise.all(o)),o.length=0,r.push(await this.runHook(e,n,a))):o.push(this.runHook(e,n,a));return r.push(...await Promise.all(o)),r.reduce(s,await t)}hookReduceValueSync(e,t,n,s,r){let o=t;for(const a of this.getSortedPlugins(e)){const l=this.runHookSync(e,n,a,r);o=s.call(this.pluginContexts.get(a),o,l,a)}return o}hookSeq(e,t,n){let s=Promise.resolve();for(const r of this.getSortedPlugins(e))s=s.then(()=>this.runHook(e,t,r,n));return s.then(WR)}getSortedPlugins(e,t){return Ci(this.sortedPlugins,e,()=>Wp(e,this.plugins,t))}runHook(e,t,n,s){const r=n[e],o=typeof r=="object"?r.handler:r;let a=this.pluginContexts.get(n);s&&(a=s(a,n));let l=null;return Promise.resolve().then(()=>{if(typeof o!="function")return o;const h=o.apply(a,t);return h?.then?(l=[n.name,e,t],this.unfulfilledActions.add(l),Promise.resolve(h).then(c=>(this.unfulfilledActions.delete(l),c))):h}).catch(h=>(l!==null&&this.unfulfilledActions.delete(l),oe(fa(h,n.name,{hook:e}))))}runHookSync(e,t,n,s){const r=n[e],o=typeof r=="object"?r.handler:r;let a=this.pluginContexts.get(n);s&&(a=s(a,n));try{return o.apply(a,t)}catch(l){return oe(fa(l,n.name,{hook:e}))}}}function Wp(i,e,t=jR){const n=[],s=[],r=[];for(const o of e){const a=o[i];if(a){if(typeof a=="object"){if(t(a.handler,i,o),a.order==="pre"){n.push(o);continue}if(a.order==="post"){r.push(o);continue}}else t(a,i,o);s.push(o)}}return[...n,...s,...r]}function jR(i,e,t){typeof i!="function"&&oe(function(n,s){return{code:CS,hook:n,message:`Error running plugin hook "${n}" for plugin "${s}", expected a function hook or an object with a "handler" function.`,plugin:s}}(e,t.name))}function FR(i,e,t){if(typeof i!="string"&&typeof i!="function")return oe(function(n,s){return{code:CS,hook:n,message:`Error running plugin hook "${n}" for plugin "${s}", expected a string, a function hook or an object with a "handler" string or function.`,plugin:s}}(e,t.name))}function WR(){}class YR{constructor(e){this.maxParallel=e,this.queue=[],this.workerCount=0}run(e){return new Promise((t,n)=>{this.queue.push({reject:n,resolve:t,task:e}),this.work()})}async work(){if(this.workerCount>=this.maxParallel)return;let e;for(this.workerCount++;e=this.queue.shift();){const{reject:t,resolve:n,task:s}=e;try{n(await s())}catch(r){t(r)}}this.workerCount--}}class GR{constructor(e,t){if(this.options=e,this.astLru=function(n){var s,r,o,a=n||1;function l(c,f){++s>a&&(o=r,h(1),++s),r[c]=f}function h(c){s=0,r=Object.create(null),c||(o=Object.create(null))}return h(),{clear:h,has:function(c){return r[c]!==void 0||o[c]!==void 0},get:function(c){var f=r[c];return f!==void 0?f:(f=o[c])!==void 0?(l(c,f),f):void 0},set:function(c,f){r[c]!==void 0?r[c]=f:l(c,f)}}}(5),this.cachedModules=new Map,this.deoptimizationTracker=new Yr,this.entryModules=[],this.modulesById=new Map,this.needsTreeshakingPass=!1,this.phase=gs.LOAD_AND_PARSE,this.scope=new DR,this.watchFiles=Object.create(null),this.watchMode=!1,this.externalModules=[],this.implicitEntryModules=[],this.modules=[],this.getModuleInfo=n=>{const s=this.modulesById.get(n);return s?s.info:null},e.cache!==!1){if(e.cache?.modules)for(const n of e.cache.modules)this.cachedModules.set(n.id,n);this.pluginCache=e.cache?.plugins||Object.create(null);for(const n in this.pluginCache){const s=this.pluginCache[n];for(const r of Object.values(s))r[0]++}}if(t){this.watchMode=!0;const n=(...r)=>this.pluginDriver.hookParallel("watchChange",r),s=()=>this.pluginDriver.hookParallel("closeWatcher",[]);t.onCurrentRun("change",n),t.onCurrentRun("close",s)}this.pluginDriver=new Fp(this,e,e.plugins,this.pluginCache),this.acornParser=ut.extend(...e.acornInjectPlugins),this.moduleLoader=new NR(this,this.modulesById,this.options,this.pluginDriver),this.fileOperationQueue=new YR(e.maxParallelFileOps),this.pureFunctions=(({treeshake:n})=>{const s=Object.create(null);for(const r of n?n.manualPureFunctions:[]){let o=s;for(const a of r.split("."))o=o[a]||(o[a]=Object.create(null));o[od]=!0}return s})(e)}async build(){At("generate module graph",2),await this.generateModuleGraph(),xt("generate module graph",2),At("sort and bind modules",2),this.phase=gs.ANALYSE,this.sortModules(),xt("sort and bind modules",2),At("mark included statements",2),this.includeStatements(),xt("mark included statements",2),this.phase=gs.GENERATE}contextParse(e,t={}){const n=t.onComment,s=[];t.onComment=n&&typeof n=="function"?(o,a,l,h,...c)=>(s.push({end:h,start:l,type:o?"Block":"Line",value:a}),n.call(t,o,a,l,h,...c)):s;const r=this.acornParser.parse(e,{...this.options.acorn,...t});return typeof n=="object"&&n.push(...s),t.onComment=n,function(o,a,l){const h=[],c=[];for(const f of o){for(const[p,g]of MT)g.test(f.value)&&h.push({...f,annotationType:p});ET.test(f.value)&&c.push(f)}for(const f of c)Fh(a,f,!1);LS(a,{annotationIndex:0,annotations:h,code:l})}(s,r,e),r}getCache(){for(const e in this.pluginCache){const t=this.pluginCache[e];let n=!0;for(const[s,r]of Object.entries(t))r[0]>=this.options.experimentalCacheExpiry?delete t[s]:n=!1;n&&delete this.pluginCache[e]}return{modules:this.modules.map(e=>e.toJSON()),plugins:this.pluginCache}}async generateModuleGraph(){var e;if({entryModules:this.entryModules,implicitEntryModules:this.implicitEntryModules}=await this.moduleLoader.addEntryModules((e=this.options.input,Array.isArray(e)?e.map(t=>({fileName:null,id:t,implicitlyLoadedAfter:[],importer:void 0,name:null})):Object.entries(e).map(([t,n])=>({fileName:null,id:n,implicitlyLoadedAfter:[],importer:void 0,name:t}))),!0),this.entryModules.length===0)throw new Error("You must supply options.input to rollup");for(const t of this.modulesById.values())t instanceof mt?this.modules.push(t):this.externalModules.push(t)}includeStatements(){const e=[...this.entryModules,...this.implicitEntryModules];for(const t of e)Lo(t);if(this.options.treeshake){let t=1;do{At(`treeshaking pass ${t}`,3),this.needsTreeshakingPass=!1;for(const n of this.modules)n.isExecuted&&(n.info.moduleSideEffects==="no-treeshake"?n.includeAllInBundle():n.include());if(t===1)for(const n of e)n.preserveSignature!==!1&&(n.includeAllExports(!1),this.needsTreeshakingPass=!0);xt("treeshaking pass "+t++,3)}while(this.needsTreeshakingPass)}else for(const t of this.modules)t.includeAllInBundle();for(const t of this.externalModules)t.warnUnusedImports();for(const t of this.implicitEntryModules)for(const n of t.implicitlyLoadedAfter)n.info.isEntry||n.isIncluded()||oe(fT(n))}sortModules(){const{orderedModules:e,cyclePaths:t}=function(n){let s=0;const r=[],o=new Set,a=new Set,l=new Map,h=[],c=f=>{if(f instanceof mt){for(const p of f.dependencies)l.has(p)?o.has(p)||r.push(VQ(p,f,l)):(l.set(p,f),c(p));for(const p of f.implicitlyLoadedBefore)a.add(p);for(const{resolution:p}of f.dynamicImports)p instanceof mt&&a.add(p);h.push(f)}f.execIndex=s++,o.add(f)};for(const f of n)l.has(f)||(l.set(f,null),c(f));for(const f of a)l.has(f)||(l.set(f,null),c(f));return{cyclePaths:r,orderedModules:h}}(this.entryModules);for(const n of t)this.options.onLog(ke,cT(n));this.modules=e;for(const n of this.modules)n.bindReferences();this.warnForMissingExports()}warnForMissingExports(){for(const e of this.modules)for(const t of e.importDescriptions.values())t.name==="*"||t.module.getVariableForExportName(t.name)[0]||e.log(ke,Zh(t.name,e.id,t.module.id),t.start)}}function qb(i,e){return e()}function v0(i,e,t,n){i=Wp("onLog",i);const s=Gs[n],r=(o,a,l=OS)=>{if(!(Gs[o]<s)){for(const h of i){if(l.has(h))continue;const{onLog:c}=h,f=p=>Gs[p]<s?tn:g=>r(p,In(g),new Set(l).add(h));if(("handler"in c?c.handler:c).call({debug:f(La),error:p=>oe(In(p)),info:f(Ys),meta:{rollupVersion:mp,watchMode:t},warn:f(ke)},o,a)===!1)return}e(o,a)}};return r}const qR="{".charCodeAt(0),HR=" ".charCodeAt(0),x0="assert";function KR(i){const e=i.acorn||PR,{tokTypes:t,TokenType:n}=e;return class extends i{constructor(...s){super(...s),this.assertToken=new n(x0)}_codeAt(s){return this.input.charCodeAt(s)}_eat(s){this.type!==s&&this.unexpected(),this.next()}readToken(s){let r=0;for(;r<6;r++)if(this._codeAt(this.pos+r)!==x0.charCodeAt(r))return super.readToken(s);for(;this._codeAt(this.pos+r)!==qR;r++)if(this._codeAt(this.pos+r)!==HR)return super.readToken(s);return this.type.label==="{"?super.readToken(s):(this.pos+=6,this.finishToken(this.assertToken))}parseDynamicImport(s){if(this.next(),s.source=this.parseMaybeAssign(),this.eat(t.comma)){const r=this.parseObj(!1);s.arguments=[r]}return this._eat(t.parenR),this.finishNode(s,"ImportExpression")}parseExport(s,r){if(this.next(),this.eat(t.star)){if(this.options.ecmaVersion>=11&&(this.eatContextual("as")?(s.exported=this.parseIdent(!0),this.checkExport(r,s.exported.name,this.lastTokStart)):s.exported=null),this.expectContextual("from"),this.type!==t.string&&this.unexpected(),s.source=this.parseExprAtom(),this.type===this.assertToken||this.type===t._with){this.next();const p=this.parseImportAssertions();p&&(s.assertions=p)}return this.semicolon(),this.finishNode(s,"ExportAllDeclaration")}if(this.eat(t._default)){var o;if(this.checkExport(r,"default",this.lastTokStart),this.type===t._function||(o=this.isAsyncFunction())){var a=this.startNode();this.next(),o&&this.next(),s.declaration=this.parseFunction(a,5,!1,o)}else if(this.type===t._class){var l=this.startNode();s.declaration=this.parseClass(l,"nullableID")}else s.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(s,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())s.declaration=this.parseStatement(null),s.declaration.type==="VariableDeclaration"?this.checkVariableExport(r,s.declaration.declarations):this.checkExport(r,s.declaration.id.name,s.declaration.id.start),s.specifiers=[],s.source=null;else{if(s.declaration=null,s.specifiers=this.parseExportSpecifiers(r),this.eatContextual("from")){if(this.type!==t.string&&this.unexpected(),s.source=this.parseExprAtom(),this.type===this.assertToken||this.type===t._with){this.next();const p=this.parseImportAssertions();p&&(s.assertions=p)}}else{for(var h=0,c=s.specifiers;h<c.length;h+=1){var f=c[h];this.checkUnreserved(f.local),this.checkLocalExport(f.local)}s.source=null}this.semicolon()}return this.finishNode(s,"ExportNamedDeclaration")}parseImport(s){if(this.next(),this.type===t.string?(s.specifiers=[],s.source=this.parseExprAtom()):(s.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),s.source=this.type===t.string?this.parseExprAtom():this.unexpected()),this.type===this.assertToken||this.type==t._with){this.next();const r=this.parseImportAssertions();r&&(s.assertions=r)}return this.semicolon(),this.finishNode(s,"ImportDeclaration")}parseImportAssertions(){this._eat(t.braceL);const s=this.parseAssertEntries();return this._eat(t.braceR),s}parseAssertEntries(){const s=[],r=new Set;do{if(this.type===t.braceR)break;const o=this.startNode();let a;a=this.type===t.string?this.parseLiteral(this.value):this.parseIdent(!0),this.next(),o.key=a,r.has(o.key.name)&&this.raise(this.pos,"Duplicated key in assertions"),r.add(o.key.name),this.type!==t.string&&this.raise(this.pos,"Only string is supported as an assertion value"),o.value=this.parseLiteral(this.value),s.push(this.finishNode(o,"ImportAttribute"))}while(this.eat(t.comma));return s}}}function Hb(i){return Array.isArray(i)?i.filter(Boolean):i?[i]:[]}const JR=i=>({ecmaVersion:"latest",sourceType:"module",...i.acorn}),e2=i=>[KR,...Hb(i.acornInjectPlugins)],t2=i=>i.cache===!0?void 0:i.cache?.cache||i.cache,i2=i=>{if(i===!0)return()=>!0;if(typeof i=="function")return(e,...t)=>!e.startsWith("\0")&&i(e,...t)||!1;if(i){const e=new Set,t=[];for(const n of Hb(i))n instanceof RegExp?t.push(n):e.add(n);return(n,...s)=>e.has(n)||t.some(r=>r.test(n))}return()=>!1},n2=(i,e,t)=>{const n=i.inlineDynamicImports;return n&&Na('The "inlineDynamicImports" option is deprecated. Use the "output.inlineDynamicImports" option instead.',wp,!0,e,t),n},s2=i=>{const e=i.input;return e==null?[]:typeof e=="string"?[e]:e},r2=(i,e,t)=>{const n=i.manualChunks;return n&&Na('The "manualChunks" option is deprecated. Use the "output.manualChunks" option instead.',ed,!0,e,t),n},o2=(i,e,t)=>{const n=i.maxParallelFileReads;typeof n=="number"&&Na('The "maxParallelFileReads" option is deprecated. Use the "maxParallelFileOps" option instead.',"configuration-options/#maxparallelfileops",!0,e,t);const s=i.maxParallelFileOps??n;return typeof s=="number"?s<=0?1/0:s:20},a2=(i,e)=>{const t=i.moduleContext;if(typeof t=="function")return n=>t(n)??e;if(t){const n=Object.create(null);for(const[s,r]of Object.entries(t))n[Ji(s)]=r;return s=>n[s]??e}return()=>e},l2=(i,e,t)=>{const n=i.preserveModules;return n&&Na('The "preserveModules" option is deprecated. Use the "output.preserveModules" option instead.',"configuration-options/#output-preservemodules",!0,e,t),n},h2=i=>{if(i.treeshake===!1)return!1;const e=Gb(i.treeshake,QR,"treeshake","configuration-options/#treeshake","false, true, ");return{annotations:e.annotations!==!1,correctVarValueBeforeDeclaration:e.correctVarValueBeforeDeclaration===!0,manualPureFunctions:e.manualPureFunctions??yt,moduleSideEffects:c2(e.moduleSideEffects),propertyReadSideEffects:e.propertyReadSideEffects==="always"?"always":e.propertyReadSideEffects!==!1,tryCatchDeoptimization:e.tryCatchDeoptimization!==!1,unknownGlobalSideEffects:e.unknownGlobalSideEffects!==!1}},c2=i=>{if(typeof i=="boolean")return()=>i;if(i==="no-external")return(e,t)=>!t;if(typeof i=="function")return(e,t)=>!!e.startsWith("\0")||i(e,t)!==!1;if(Array.isArray(i)){const e=new Set(i);return t=>e.has(t)}return i&&oe(vt("treeshake.moduleSideEffects","configuration-options/#treeshake-modulesideeffects",'please use one of false, "no-external", a function or an array')),()=>!0},u2=/[\u0000-\u001F"#$&*+,:;<=>?[\]^`{|}\u007F]/g,f2=/^[a-z]:/i;function d2(i){const e=f2.exec(i),t=e?e[0]:"";return t+i.slice(t.length).replace(u2,"_")}const p2=(i,e,t)=>{const{file:n}=i;if(typeof n=="string"){if(e)return oe(vt("output.file",ua,'you must set "output.dir" instead of "output.file" when using the "output.preserveModules" option'));if(!Array.isArray(t.input))return oe(vt("output.file",ua,'you must set "output.dir" instead of "output.file" when providing named inputs'))}return n},m2=i=>{const e=i.format;switch(e){case void 0:case"es":case"esm":case"module":return"es";case"cjs":case"commonjs":return"cjs";case"system":case"systemjs":return"system";case"amd":case"iife":case"umd":return e;default:return oe(vt("output.format",bS,'Valid values are "amd", "cjs", "system", "es", "iife" or "umd"',e))}},g2=(i,e)=>{const t=(i.inlineDynamicImports??e.inlineDynamicImports)||!1,{input:n}=e;return t&&(Array.isArray(n)?n:Object.keys(n)).length>1?oe(vt("output.inlineDynamicImports",wp,'multiple inputs are not supported when "output.inlineDynamicImports" is true')):t},O2=(i,e,t)=>{const n=(i.preserveModules??t.preserveModules)||!1;if(n){if(e)return oe(vt("output.inlineDynamicImports",wp,'this option is not supported for "output.preserveModules"'));if(t.preserveEntrySignatures===!1)return oe(vt("preserveEntrySignatures","configuration-options/#preserveentrysignatures",'setting this option to false is not supported for "output.preserveModules"'))}return n},y2=(i,e)=>{const t=i.preferConst;return t!=null&&hr('The "output.preferConst" option is deprecated. Use the "output.generatedCode.constBindings" option instead.',"configuration-options/#output-generatedcode-constbindings",!0,e),!!t},v2=i=>{const{preserveModulesRoot:e}=i;if(e!=null)return Ji(e)},x2=i=>{const e={autoId:!1,basePath:"",define:"define",forceJsExtensionForImports:!1,...i.amd};return(e.autoId||e.basePath)&&e.id?oe(vt("output.amd.id",SS,'this option cannot be used together with "output.amd.autoId"/"output.amd.basePath"')):e.basePath&&!e.autoId?oe(vt("output.amd.basePath","configuration-options/#output-amd-basepath",'this option only works with "output.amd.autoId"')):e.autoId?{autoId:!0,basePath:e.basePath,define:e.define,forceJsExtensionForImports:e.forceJsExtensionForImports}:{autoId:!1,define:e.define,forceJsExtensionForImports:e.forceJsExtensionForImports,id:e.id}},Rl=(i,e)=>{const t=i[e];return typeof t=="function"?t:()=>t||""},S2=(i,e)=>{const{dir:t}=i;return typeof t=="string"&&typeof e=="string"?oe(vt("output.dir",ua,'you must set either "output.file" for a single-file build or "output.dir" when generating multiple chunks')):t},b2=(i,e,t)=>{const n=i.dynamicImportFunction;return n&&(hr('The "output.dynamicImportFunction" option is deprecated. Use the "renderDynamicImport" plugin hook instead.',"plugin-development/#renderdynamicimport",!0,e),t!=="es"&&e.onLog(ke,vt("output.dynamicImportFunction","configuration-options/#output-dynamicimportfunction",'this option is ignored for formats other than "es"'))),n},w2=(i,e)=>{const t=i.entryFileNames;return t==null&&e.add("entryFileNames"),t??"[name].js"};function k2(i,e){const t=i.experimentalDeepDynamicChunkOptimization;return t!=null&&hr('The "output.experimentalDeepDynamicChunkOptimization" option is deprecated as Rollup always runs the full chunking algorithm now. The option should be removed.',R_,!0,e),t||!1}function C2(i,e){const t=i.exports;if(t==null)e.add("exports");else if(!["default","named","none","auto"].includes(t))return oe({code:kS,message:`"output.exports" must be "default", "named", "none", "auto", or left unspecified (defaults to "auto"), received "${t}".`,url:Bt(bp)});return t||"auto"}const $2=(i,e)=>{const t=Gb(i.generatedCode,RR,"output.generatedCode","configuration-options/#output-generatedcode","");return{arrowFunctions:t.arrowFunctions===!0,constBindings:t.constBindings===!0||e,objectShorthand:t.objectShorthand===!0,reservedNamesAsProps:t.reservedNamesAsProps!==!1,symbols:t.symbols===!0}},P2=(i,e)=>{if(e)return"";const t=i.indent;return t===!1?"":t??!0},S0=new Set(["compat","auto","esModule","default","defaultOnly"]),E2=i=>{const e=i.interop;if(typeof e=="function"){const t=Object.create(null);let n=null;return s=>s===null?n||Fu(n=e(s)):s in t?t[s]:Fu(t[s]=e(s))}return e===void 0?()=>"default":()=>Fu(e)},Fu=i=>S0.has(i)?i:oe(vt("output.interop",kp,`use one of ${Array.from(S0,e=>JSON.stringify(e)).join(", ")}`,i)),A2=(i,e,t,n)=>{const s=i.manualChunks||n.manualChunks;if(s){if(e)return oe(vt("output.manualChunks",ed,'this option is not supported for "output.inlineDynamicImports"'));if(t)return oe(vt("output.manualChunks",ed,'this option is not supported for "output.preserveModules"'))}return s||{}},I2=(i,e,t)=>i.minifyInternalExports??(t||e==="es"||e==="system"),M2=(i,e,t)=>{const n=i.namespaceToStringTag;return n!=null?(hr('The "output.namespaceToStringTag" option is deprecated. Use the "output.generatedCode.symbols" option instead.',"configuration-options/#output-generatedcode-symbols",!0,t),n):e.symbols||!1},_2=i=>{const{sourcemapBaseUrl:e}=i;if(e)return function(n){try{new URL(n)}catch{return!1}return!0}(e)?(t=e).endsWith("/")?t:t+"/":oe(vt("output.sourcemapBaseUrl","configuration-options/#output-sourcemapbaseurl",`must be a valid URL, received ${JSON.stringify(e)}`));var t};function T2(i){return async function(e,t){const{options:n,unsetOptions:s}=await async function(l,h){if(!l)throw new Error("You must supply an options object to rollup");const c=await async function(g,y){const v=Wp("options",await ic(g.plugins)),w=g.logLevel||Ys,k=v0(v,u0(g,w),y,w);for(const T of v){const{name:$,options:E}=T,_="handler"in E?E.handler:E,N=await _.call({debug:Xr(La,"PLUGIN_LOG",k,$,w),error:z=>oe(fa(In(z),$,{hook:"onLog"})),info:Xr(Ys,"PLUGIN_LOG",k,$,w),meta:{rollupVersion:mp,watchMode:y},warn:Xr(ke,"PLUGIN_WARNING",k,$,w)},g);N&&(g=N)}return g}(l,h),{options:f,unsetOptions:p}=await async function(g,y){const v=new Set,w=g.context??"undefined",k=await ic(g.plugins),T=g.logLevel||Ys,$=v0(k,u0(g,T),y,T),E=g.strictDeprecations||!1,_=o2(g,$,E),N={acorn:JR(g),acornInjectPlugins:e2(g),cache:t2(g),context:w,experimentalCacheExpiry:g.experimentalCacheExpiry??10,experimentalLogSideEffects:g.experimentalLogSideEffects||!1,external:i2(g.external),inlineDynamicImports:n2(g,$,E),input:s2(g),logLevel:T,makeAbsoluteExternalsRelative:g.makeAbsoluteExternalsRelative??"ifRelativeSource",manualChunks:r2(g,$,E),maxParallelFileOps:_,maxParallelFileReads:_,moduleContext:a2(g,w),onLog:$,onwarn:z=>$(ke,z),perf:g.perf||!1,plugins:k,preserveEntrySignatures:g.preserveEntrySignatures??"exports-only",preserveModules:l2(g,$,E),preserveSymlinks:g.preserveSymlinks||!1,shimMissingExports:g.shimMissingExports||!1,strictDeprecations:E,treeshake:h2(g)};return Yb(g,[...Object.keys(N),"watch"],"input options",$,/^(output)$/),{options:N,unsetOptions:v}}(c,h);return Kb(f.plugins,Up),{options:f,unsetOptions:p}}(e,t!==null);(function(l){l.perf?(xa=new Map,At=rQ,xt=oQ,l.plugins=l.plugins.map(hQ)):(At=tn,xt=tn)})(n);const r=new GR(n,t),o=e.cache!==!1;e.cache&&(n.cache=void 0,e.cache=void 0),At("BUILD",1),await qb(r.pluginDriver,async()=>{try{At("initialize",2),await r.pluginDriver.hookParallel("buildStart",[n]),xt("initialize",2),await r.build()}catch(l){const h=Object.keys(r.watchFiles);throw h.length>0&&(l.watchFiles=h),await r.pluginDriver.hookParallel("buildEnd",[l]),await r.pluginDriver.hookParallel("closeBundle",[]),l}await r.pluginDriver.hookParallel("buildEnd",[])}),xt("BUILD",1);const a={cache:o?r.getCache():void 0,async close(){a.closed||(a.closed=!0,await r.pluginDriver.hookParallel("closeBundle",[]))},closed:!1,generate:async l=>a.closed?oe(FO()):b0(!1,n,s,l,r),watchFiles:Object.keys(r.watchFiles),write:async l=>a.closed?oe(FO()):b0(!0,n,s,l,r)};return n.perf&&(a.getTimings=aQ),a}(i,null)}function Kb(i,e){for(const[t,n]of i.entries())n.name||(n.name=`${e}${t+1}`)}async function b0(i,e,t,n,s){const{options:r,outputPluginDriver:o,unsetOptions:a}=await async function(l,h,c,f){if(!l)throw new Error("You must supply an options object");const p=await ic(l.plugins);Kb(p,jp);const g=h.createOutputPluginDriver(p);return{...await Q2(c,f,l,g),outputPluginDriver:g}}(n,s.pluginDriver,e,t);return qb(0,async()=>{const l=new oR(r,a,e,o,s),h=await l.generate(i);if(i){if(At("WRITE",1),!r.dir&&!r.file)return oe({code:iT,message:'You must specify "output.file" or "output.dir" for the build.',url:Bt(ua)});await Promise.all(Object.values(h).map(f=>s.fileOperationQueue.run(()=>async function(p,g){const y=Ji(g.dir||ir(g.file),p.fileName);return await ER(ir(y),{recursive:!0}),IR(y,p.type==="asset"?p.source:p.code)}(f,r)))),await o.hookParallel("writeBundle",[r,h]),xt("WRITE",1)}return c=h,{output:Object.values(c).filter(f=>Object.keys(f).length>0).sort((f,p)=>w0(f)-w0(p))};var c})}function Q2(i,e,t,n){return async function(s,r,o){const a=new Set(o),l=s.compact||!1,h=m2(s),c=g2(s,r),f=O2(s,c,r),p=p2(s,f,r),g=y2(s,r),y=$2(s,g),v={amd:x2(s),assetFileNames:s.assetFileNames??"assets/[name]-[hash][extname]",banner:Rl(s,"banner"),chunkFileNames:s.chunkFileNames??"[name]-[hash].js",compact:l,dir:S2(s,p),dynamicImportFunction:b2(s,r,h),dynamicImportInCjs:s.dynamicImportInCjs??!0,entryFileNames:w2(s,a),esModule:s.esModule??"if-default-prop",experimentalDeepDynamicChunkOptimization:k2(s,r),experimentalMinChunkSize:s.experimentalMinChunkSize??1,exports:C2(s,a),extend:s.extend||!1,externalImportAssertions:s.externalImportAssertions??!0,externalLiveBindings:s.externalLiveBindings??!0,file:p,footer:Rl(s,"footer"),format:h,freeze:s.freeze??!0,generatedCode:y,globals:s.globals||{},hoistTransitiveImports:s.hoistTransitiveImports??!0,indent:P2(s,l),inlineDynamicImports:c,interop:E2(s),intro:Rl(s,"intro"),manualChunks:A2(s,c,f,r),minifyInternalExports:I2(s,h,l),name:s.name,namespaceToStringTag:M2(s,y,r),noConflict:s.noConflict||!1,outro:Rl(s,"outro"),paths:s.paths||{},plugins:await ic(s.plugins),preferConst:g,preserveModules:f,preserveModulesRoot:v2(s),sanitizeFileName:typeof s.sanitizeFileName=="function"?s.sanitizeFileName:s.sanitizeFileName===!1?w=>w:d2,sourcemap:s.sourcemap||!1,sourcemapBaseUrl:_2(s),sourcemapExcludeSources:s.sourcemapExcludeSources||!1,sourcemapFile:s.sourcemapFile,sourcemapIgnoreList:typeof s.sourcemapIgnoreList=="function"?s.sourcemapIgnoreList:s.sourcemapIgnoreList===!1?()=>!1:w=>w.includes("node_modules"),sourcemapPathTransform:s.sourcemapPathTransform,strict:s.strict??!0,systemNullSetters:s.systemNullSetters??!0,validate:s.validate||!1};return Yb(s,Object.keys(v),"output options",r.onLog),{options:v,unsetOptions:a}}(n.hookReduceArg0Sync("outputOptions",[t],(s,r)=>r||s,s=>{const r=()=>s.error({code:z_,message:'Cannot emit files or set asset sources in the "outputOptions" hook, use the "renderStart" hook instead.'});return{...s,emitFile:r,setAssetSource:r}}),i,e)}var Go;function w0(i){return i.type==="asset"?Go.ASSET:i.isEntry?Go.ENTRY_CHUNK:Go.SECONDARY_CHUNK}(function(i){i[i.ENTRY_CHUNK=0]="ENTRY_CHUNK",i[i.SECONDARY_CHUNK=1]="SECONDARY_CHUNK",i[i.ASSET=2]="ASSET"})(Go||(Go={}));// @license
const Ll={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},Jb=function(i){this._string=i,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()};Jb.prototype={parseSegment:function(){var i=this._string[this._currentIndex],e=Ll[i]?Ll[i]:null;if(e===null){if(this._prevCommand===null||((i==="+"||i==="-"||i==="."||i>="0"&&i<="9")&&this._prevCommand!=="Z"?this._prevCommand==="M"?e="L":this._prevCommand==="m"?e="l":e=this._prevCommand:e=null,e===null))return null}else this._currentIndex+=1;this._prevCommand=e;var t=null,n=e.toUpperCase();return n==="H"||n==="V"?t=[this._parseNumber()]:n==="M"||n==="L"||n==="T"?t=[this._parseNumber(),this._parseNumber()]:n==="S"||n==="Q"?t=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:n==="C"?t=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:n==="A"?t=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:n==="Z"&&(this._skipOptionalSpaces(),t=[]),t===null||t.indexOf(null)>=0?null:{type:e,values:t}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var i=this._string[this._currentIndex];return Ll[i]?Ll[i]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var i=this.peekSegmentType();return i==="M"||i==="m"},_isCurrentSpace:function(){var i=this._string[this._currentIndex];return i<=" "&&(i===" "||i===`
`||i==="	"||i==="\r"||i==="\f")},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string[this._currentIndex]!==","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string[this._currentIndex]===","&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var i=0,e=0,t=1,n=0,s=1,r=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="+"?this._currentIndex+=1:this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="-"&&(this._currentIndex+=1,s=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")&&this._string[this._currentIndex]!==".")return null;for(var a=this._currentIndex;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==a)for(var l=this._currentIndex-1,h=1;l>=a;)e+=h*(this._string[l]-"0"),l-=1,h*=10;if(this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="."){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")return null;for(;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)t*=10,n+=(this._string.charAt(this._currentIndex)-"0")/t,this._currentIndex+=1}if(this._currentIndex!==o&&this._currentIndex+1<this._endIndex&&(this._string[this._currentIndex]==="e"||this._string[this._currentIndex]==="E")&&this._string[this._currentIndex+1]!=="x"&&this._string[this._currentIndex+1]!=="m"){if(this._currentIndex+=1,this._string[this._currentIndex]==="+"?this._currentIndex+=1:this._string[this._currentIndex]==="-"&&(this._currentIndex+=1,r=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")return null;for(;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)i*=10,i+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var c=e+n;return c*=s,i&&(c*=Math.pow(10,r*i)),o===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),c)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var i=null,e=this._string[this._currentIndex];if(this._currentIndex+=1,e==="0")i=0;else if(e==="1")i=1;else return null;return this._skipOptionalSpacesOrDelimiter(),i}};const k0=function(i){if(!i||i.length===0)return[];var e=new Jb(i),t=[];if(e.initialCommandIsMoveTo())for(;e.hasMoreData();){var n=e.parseSegment();if(n===null)break;t.push(n)}return t},yr=typeof Symbol<"u"?Symbol():"__cachedPathData",Wu=typeof Symbol<"u"?Symbol():"__cachedNormalizedPathData";var ew=function(i,e,t,n,s,r,o,a,l,h){var c=function(Xt){return Math.PI*Xt/180},f=function(Xt,rn,Ai){var Hn=Xt*Math.cos(Ai)-rn*Math.sin(Ai),wt=Xt*Math.sin(Ai)+rn*Math.cos(Ai);return{x:Hn,y:wt}},p=c(o),g=[],y,v,w,k;if(h)y=h[0],v=h[1],w=h[2],k=h[3];else{var T=f(i,e,-p);i=T.x,e=T.y;var $=f(t,n,-p);t=$.x,n=$.y;var E=(i-t)/2,_=(e-n)/2,N=E*E/(s*s)+_*_/(r*r);N>1&&(N=Math.sqrt(N),s=N*s,r=N*r);var z;a===l?z=-1:z=1;var Q=s*s,M=r*r,V=Q*M-Q*_*_-M*E*E,B=Q*_*_+M*E*E,q=z*Math.sqrt(Math.abs(V/B));w=q*s*_/r+(i+t)/2,k=q*-r*E/s+(e+n)/2,y=Math.asin(parseFloat(((e-k)/r).toFixed(9))),v=Math.asin(parseFloat(((n-k)/r).toFixed(9))),i<w&&(y=Math.PI-y),t<w&&(v=Math.PI-v),y<0&&(y=Math.PI*2+y),v<0&&(v=Math.PI*2+v),l&&y>v&&(y=y-Math.PI*2),!l&&v>y&&(v=v-Math.PI*2)}var ee=v-y;if(Math.abs(ee)>Math.PI*120/180){var K=v,H=t,X=n;l&&v>y?v=y+Math.PI*120/180*1:v=y+Math.PI*120/180*-1,t=w+s*Math.cos(v),n=k+r*Math.sin(v),g=ew(t,n,H,X,s,r,o,0,l,[v,K,w,k])}ee=v-y;var Y=Math.cos(y),te=Math.sin(y),le=Math.cos(v),de=Math.sin(v),Se=Math.tan(ee/4),xe=4/3*s*Se,Ee=4/3*r*Se,Ue=[i,e],Ie=[i+xe*te,e-Ee*Y],Fe=[t+xe*de,n-Ee*le],ie=[t,n];if(Ie[0]=2*Ue[0]-Ie[0],Ie[1]=2*Ue[1]-Ie[1],h)return[Ie,Fe,ie].concat(g);g=[Ie,Fe,ie].concat(g);for(var Je=[],Qe=0;Qe<g.length;Qe+=3){var s=f(g[Qe][0],g[Qe][1],p),r=f(g[Qe+1][0],g[Qe+1][1],p),We=f(g[Qe+2][0],g[Qe+2][1],p);Je.push([s.x,s.y,r.x,r.y,We.x,We.y])}return Je},vr=function(i){return i.map(function(e){return{type:e.type,values:Array.prototype.slice.call(e.values)}})},R2=function(i){var e=[],t=null,n=null,s=null,r=null;return i.forEach(function(o){var a=o.type;if(a==="M"){var l=o.values[0],h=o.values[1];e.push({type:"M",values:[l,h]}),s=l,r=h,t=l,n=h}else if(a==="m"){var l=t+o.values[0],h=n+o.values[1];e.push({type:"M",values:[l,h]}),s=l,r=h,t=l,n=h}else if(a==="L"){var l=o.values[0],h=o.values[1];e.push({type:"L",values:[l,h]}),t=l,n=h}else if(a==="l"){var l=t+o.values[0],h=n+o.values[1];e.push({type:"L",values:[l,h]}),t=l,n=h}else if(a==="C"){var c=o.values[0],f=o.values[1],p=o.values[2],g=o.values[3],l=o.values[4],h=o.values[5];e.push({type:"C",values:[c,f,p,g,l,h]}),t=l,n=h}else if(a==="c"){var c=t+o.values[0],f=n+o.values[1],p=t+o.values[2],g=n+o.values[3],l=t+o.values[4],h=n+o.values[5];e.push({type:"C",values:[c,f,p,g,l,h]}),t=l,n=h}else if(a==="Q"){var c=o.values[0],f=o.values[1],l=o.values[2],h=o.values[3];e.push({type:"Q",values:[c,f,l,h]}),t=l,n=h}else if(a==="q"){var c=t+o.values[0],f=n+o.values[1],l=t+o.values[2],h=n+o.values[3];e.push({type:"Q",values:[c,f,l,h]}),t=l,n=h}else if(a==="A"){var l=o.values[5],h=o.values[6];e.push({type:"A",values:[o.values[0],o.values[1],o.values[2],o.values[3],o.values[4],l,h]}),t=l,n=h}else if(a==="a"){var l=t+o.values[5],h=n+o.values[6];e.push({type:"A",values:[o.values[0],o.values[1],o.values[2],o.values[3],o.values[4],l,h]}),t=l,n=h}else if(a==="H"){var l=o.values[0];e.push({type:"H",values:[l]}),t=l}else if(a==="h"){var l=t+o.values[0];e.push({type:"H",values:[l]}),t=l}else if(a==="V"){var h=o.values[0];e.push({type:"V",values:[h]}),n=h}else if(a==="v"){var h=n+o.values[0];e.push({type:"V",values:[h]}),n=h}else if(a==="S"){var p=o.values[0],g=o.values[1],l=o.values[2],h=o.values[3];e.push({type:"S",values:[p,g,l,h]}),t=l,n=h}else if(a==="s"){var p=t+o.values[0],g=n+o.values[1],l=t+o.values[2],h=n+o.values[3];e.push({type:"S",values:[p,g,l,h]}),t=l,n=h}else if(a==="T"){var l=o.values[0],h=o.values[1];e.push({type:"T",values:[l,h]}),t=l,n=h}else if(a==="t"){var l=t+o.values[0],h=n+o.values[1];e.push({type:"T",values:[l,h]}),t=l,n=h}else(a==="Z"||a==="z")&&(e.push({type:"Z",values:[]}),t=s,n=r)}),e},_c=function(i){var e=[],t=null,n=null,s=null,r=null,o=null,a=null,l=null;return i.forEach(function(h){if(h.type==="M"){var c=h.values[0],f=h.values[1];e.push({type:"M",values:[c,f]}),a=c,l=f,r=c,o=f}else if(h.type==="C"){var p=h.values[0],g=h.values[1],y=h.values[2],v=h.values[3],c=h.values[4],f=h.values[5];e.push({type:"C",values:[p,g,y,v,c,f]}),n=y,s=v,r=c,o=f}else if(h.type==="L"){var c=h.values[0],f=h.values[1];e.push({type:"L",values:[c,f]}),r=c,o=f}else if(h.type==="H"){var c=h.values[0];e.push({type:"L",values:[c,o]}),r=c}else if(h.type==="V"){var f=h.values[0];e.push({type:"L",values:[r,f]}),o=f}else if(h.type==="S"){var y=h.values[0],v=h.values[1],c=h.values[2],f=h.values[3],w,k;t==="C"||t==="S"?(w=r+(r-n),k=o+(o-s)):(w=r,k=o),e.push({type:"C",values:[w,k,y,v,c,f]}),n=y,s=v,r=c,o=f}else if(h.type==="T"){var c=h.values[0],f=h.values[1],p,g;t==="Q"||t==="T"?(p=r+(r-n),g=o+(o-s)):(p=r,g=o);var w=r+2*(p-r)/3,k=o+2*(g-o)/3,T=c+2*(p-c)/3,$=f+2*(g-f)/3;e.push({type:"C",values:[w,k,T,$,c,f]}),n=p,s=g,r=c,o=f}else if(h.type==="Q"){var p=h.values[0],g=h.values[1],c=h.values[2],f=h.values[3],w=r+2*(p-r)/3,k=o+2*(g-o)/3,T=c+2*(p-c)/3,$=f+2*(g-f)/3;e.push({type:"C",values:[w,k,T,$,c,f]}),n=p,s=g,r=c,o=f}else if(h.type==="A"){var E=Math.abs(h.values[0]),_=Math.abs(h.values[1]),N=h.values[2],z=h.values[3],Q=h.values[4],c=h.values[5],f=h.values[6];if(E===0||_===0)e.push({type:"C",values:[r,o,c,f,c,f]}),r=c,o=f;else if(r!==c||o!==f){var M=ew(r,o,c,f,E,_,N,z,Q);M.forEach(function(q){e.push({type:"C",values:q})}),r=c,o=f}}else h.type==="Z"&&(e.push(h),r=a,o=l);t=h.type}),e};const Qt=(i,e)=>e in i&&"baseVal"in i[e]?i[e].baseVal.value:+i.getAttribute(e),L2=function(i){if(i&&i.normalize){if(this[Wu])return vr(this[Wu]);var e;this[yr]?e=vr(this[yr]):(e=k0(this.getAttribute("d")||""),this[yr]=vr(e));var t=_c(R2(e));return this[Wu]=vr(t),t}else{if(this[yr])return vr(this[yr]);var e=k0(this.getAttribute("d")||"");return this[yr]=vr(e),e}},N2=function(i){var e=Qt(this,"x"),t=Qt(this,"y"),n=Qt(this,"width"),s=Qt(this,"height"),r=this.hasAttribute("rx")?Qt(this,"rx"):Qt(this,"ry"),o=this.hasAttribute("ry")?Qt(this,"ry"):Qt(this,"rx");r>n/2&&(r=n/2),o>s/2&&(o=s/2);var a=[{type:"M",values:[e+r,t]},{type:"H",values:[e+n-r]},{type:"A",values:[r,o,0,0,1,e+n,t+o]},{type:"V",values:[t+s-o]},{type:"A",values:[r,o,0,0,1,e+n-r,t+s]},{type:"H",values:[e+r]},{type:"A",values:[r,o,0,0,1,e,t+s-o]},{type:"V",values:[t+o]},{type:"A",values:[r,o,0,0,1,e+r,t]},{type:"Z",values:[]}];return a=a.filter(function(l){return!(l.type==="A"&&(l.values[0]===0||l.values[1]===0))}),i&&i.normalize===!0&&(a=_c(a)),a},D2=function(i){var e=Qt(this,"cx"),t=Qt(this,"cy"),n=Qt(this,"r"),s=[{type:"M",values:[e+n,t]},{type:"A",values:[n,n,0,0,1,e,t+n]},{type:"A",values:[n,n,0,0,1,e-n,t]},{type:"A",values:[n,n,0,0,1,e,t-n]},{type:"A",values:[n,n,0,0,1,e+n,t]},{type:"Z",values:[]}];return i&&i.normalize===!0&&(s=_c(s)),s},V2=function(i){var e=Qt(this,"cx"),t=Qt(this,"cy"),n=Qt(this,"rx"),s=Qt(this,"ry"),r=[{type:"M",values:[e+n,t]},{type:"A",values:[n,s,0,0,1,e,t+s]},{type:"A",values:[n,s,0,0,1,e-n,t]},{type:"A",values:[n,s,0,0,1,e,t-s]},{type:"A",values:[n,s,0,0,1,e+n,t]},{type:"Z",values:[]}];return i&&i.normalize===!0&&(r=_c(r)),r},B2=function(){const i=Qt(this,"x1"),e=Qt(this,"x2"),t=Qt(this,"y1"),n=Qt(this,"y2");return[{type:"M",values:[i,t]},{type:"L",values:[e,n]}]},X2=function(){for(var i=[],e=0;e<this.points.numberOfItems;e+=1){var t=this.points.getItem(e);i.push({type:e===0?"M":"L",values:[t.x,t.y]})}return i},z2=function(){for(var i=[],e=0;e<this.points.numberOfItems;e+=1){var t=this.points.getItem(e);i.push({type:e===0?"M":"L",values:[t.x,t.y]})}return i.push({type:"Z",values:[]}),i},C0={circle:D2,ellipse:V2,path:L2,polygon:z2,polyline:X2,line:B2,rect:N2};function Z2(i,e){const t=i.nodeName.toLowerCase();if(t in C0)return C0[t].call(i,e);throw new Error(`Unsupported SVG element type: '${t}'`)}function U2([i,e,t,n,s,r,o,a],l){const h=3*t-2*i-o,c=3*n-2*e-a,f=3*s-2*o-i,p=3*r-2*a-e;return Math.max(h*h,f*f)+Math.max(c*c,p*p)<=16*l*l}function j2([i,e,t,n,s,r,o,a],l){l===void 0&&(l=.5);let h=1-l,c=h*i+l*t,f=h*e+l*n,p=h*t+l*s,g=h*n+l*r,y=h*s+l*o,v=h*r+l*a,w=h*c+l*p,k=h*f+l*g,T=h*p+l*y,$=h*g+l*v,E=h*w+l*T,_=h*k+l*$;return[[i,e,c,f,w,k,E,_],[E,_,T,$,y,v,o,a]]}function F2(i,e,t=32){const n=1/t,s=[];function r(o,a,l){if(l-a>n&&!U2(o,e)){const h=j2(o,.5),c=(a+l)/2;r(h[0],a,c),r(h[1],c,l)}else{const h=o[6]-o[0],c=o[7]-o[1];Math.sqrt(h*h+c*c)>0&&s.push(o)}}return r(i,0,1),s}function*tw(i){switch(i.nodeName.toLowerCase()){case"svg":case"g":case"a":for(const e of i.children)yield*tw(e);break;case"rect":case"circle":case"ellipse":case"path":case"line":case"polyline":case"polygon":yield i;break}}function iw(i){if(!i)return;const e=i.getAttribute("stroke")||i.style.stroke;if(e)return e;if(!(i===i.ownerSVGElement||!i.ownerSVGElement)&&i.parentNode)return iw(i.parentNode)}function nw(i){if(i){if(i.id&&i.nodeName.toLowerCase()==="g")return i.id;if(i.parentNode)return nw(i.parentNode)}}function xr(i,e){const t=[i,e];return t.x=i,t.y=e,t}function $0(i,e,t,n){return Math.atan2(i*n-e*t,i*t+e*n)}function W2(i,e={}){const{maxError:t=.1}=e,n=i.createSVGPoint(),s=[];for(const r of tw(i)){const o=r.getCTM(),a=o==null?([f,p])=>xr(f,p):([f,p])=>{n.x=f,n.y=p;const g=n.matrixTransform(o);return xr(g.x,g.y)},l=Z2(r,{normalize:!0});let h=null,c=null;for(const f of l)if(f.type==="M")h=a(f.values),c=h,s.push({points:[h],stroke:iw(r),groupId:nw(r)});else if(f.type==="L")h=a(f.values),s[s.length-1].points.push(h);else if(f.type==="C"){const[p,g,y,v,w,k]=f.values;if(h===null)throw new Error(`C ${f.values} encountered without current point`);const[T,$]=h,[E,_]=a([p,g]),[N,z]=a([y,v]),[Q,M]=a([w,k]),V=F2([T,$,E,_,N,z,Q,M],t);for(const B of V)s[s.length-1].points.push(xr(B[6],B[7]));h=xr(Q,M)}else if(f.type==="A"){const[p,g,y,v,w,k,T]=f.values,{cos:$,sin:E,sqrt:_,acos:N,abs:z,ceil:Q}=Math;if(h===null)throw new Error(`A ${f.values} encountered without current point`);const M=(h[0]-k)/2,V=(h[1]-T)/2,B=$(y)*M+E(y)*V,q=-E(y)*M+$(y)*V,ee=B*B,K=q*q,H=ee/(p*p)+K/(g*g),X=H<=1?_(H)*p:p,Y=H<=1?_(H)*g:g,te=X*X,le=Y*Y;let de=(te*le-te*K-le*ee)/(te*K+le*ee);if(z(de)<1e-4&&(de=0),de<0)throw new Error(`bad arc args ${de}`);const Se=(v===w?-1:1)*_(de),xe=Se*X*q/Y,Ee=Se*-Y*B/X,Ue=$(y)*xe-E(y)*Ee+(h[0]+k)/2,Ie=E(y)*xe+$(y)*Ee+(h[1]+T)/2,Fe=$0(1,0,(B-xe)/X,(q-Ee)/Y),ie=$0((B-xe)/X,(q-Ee)/Y,(-B-xe)/X,(-q-Ee)/Y)%(Math.PI*2),Je=w===0&&ie>0?ie-Math.PI*2:w===1&&ie<0?ie+Math.PI*2:ie,Qe=Q(z(Je)/N(1-t/X));for(let We=1;We<=Qe;We++){const Xt=Fe+Je*We/Qe,rn=$(y)*X*$(Xt)-E(y)*Y*E(Xt)+Ue,Ai=E(y)*X*$(Xt)+$(y)*Y*E(Xt)+Ie;s[s.length-1].points.push(xr(rn,Ai))}h=xr(k,T)}else if(f.type==="Z"){if(h===null)throw new Error("Z encountered without current point");c&&(h[0]!==c[0]||h[1]!==c[1])&&s[s.length-1].points.push(c)}else throw Error(`Unexpected path command: "${f.type}" ${f.values}`)}return s}function Y2(i,e){for(let t=0;t<i.length-1;t++){let[n,s]=i[t],[r,o]=i[t+1],a=r-n,l=o-s,h=-l,c=a,f=Math.sqrt(a*a+l*l);h/=f,c/=f;let g=e(t);i[t][0]+=h*g,i[t][1]+=c*g}}function G2(i,e,t,n,s,r,o){let a=r-n,l=o-s,h=n-i,c=s-e,f=a*a+l*l,p=2*(h*a+c*l),g=h*h+c*c-t*t,y=p*p-4*f*g;if(y<0)return null;y=Math.sqrt(y);let v=(-p-y)/(2*f);if(0<=v&&v<=1)return v;let w=(-p+y)/(2*f);return w>1||w<0?null:w}function q2(i,e){if(i.length<2)return i.slice();i=i.slice();let t=[i[0].slice()],n=null,s=0;for(;s<i.length-1;){let r=i[s],o=i[s+1],a=o[0]-r[0],l=o[1]-r[1],h=Math.sqrt(a*a+l*l);if(h==0){s++;continue}let c=~~(h/e),f=c*e/h,p=r[0]*(1-f)+o[0]*f,g=r[1]*(1-f)+o[1]*f;for(let y=1;y<=c;y++){let v=y/c,w=r[0]*(1-v)+p*v,k=r[1]*(1-v)+g*v,T=[w,k];for(let $=2;$<r.length;$++)T.push(r[$]*(1-v)+(r[$]*(1-f)+o[$]*f)*v);t.push(T)}n=null;for(let y=s+2;y<i.length;y++){let v=i[y-1],w=i[y];if(v[0]==w[0]&&v[1]==w[1])continue;let k=G2(p,g,e,v[0],v[1],w[0],w[1]);if(k==null)continue;let T=[v[0]*(1-k)+w[0]*k,v[1]*(1-k)+w[1]*k];for(let $=2;$<v.length;$++)T.push(v[$]*(1-k)+w[$]*k);t.push(T),i[y-1]=T,n=y-1;break}if(n==null)break;s=n}if(t.length>1){let r=t[t.length-1][0],o=t[t.length-1][1],a=i[i.length-1][0],l=i[i.length-1][1];Math.sqrt((a-r)**2+(l-o)**2)<e*.5&&t.pop()}return t.push(i[i.length-1].slice()),t}function H2(i,e){e=Math.max(e,0),e=Math.min(e,1);let t=0,n=i.map(a=>{let l=0;for(let h=1;h<a.length;h++){let c=a[h][0]-a[h-1][0],f=a[h][1]-a[h-1][1];l+=Math.sqrt(c*c+f*f)}return t+=l,l}),s=t*e,r=0;for(let a=0;a<i.length;a++){if(s<=r+n[a]){let l=i[a];for(let h=1;h<l.length;h++){let c=l[h][0]-l[h-1][0],f=l[h][1]-l[h-1][1],p=Math.sqrt(c*c+f*f);if(s<=r+p){let g=(s-r)/p,y=l[h-1][0]+c*g,v=l[h-1][1]+f*g;return[y,v]}r+=p}}r+=n[a]}let o=i[i.length-1];return o[o.length-1]}function K2(i,e){let t=0,n=i.map(c=>{let f=0;for(let p=1;p<c.length;p++){let g=c[p][0]-c[p-1][0],y=c[p][1]-c[p-1][1];f+=Math.sqrt(g*g+y*y)}return t+=f,f}),s=t*e,r=0;for(let c=0;c<i.length;c++){if(s<=r+n[c]){let f=i[c];for(let p=1;p<f.length;p++){let g=f[p][0]-f[p-1][0],y=f[p][1]-f[p-1][1],v=Math.sqrt(g*g+y*y);if(s<=r+v)return Math.atan2(y,g)*(180/Math.PI);r+=v}}r+=n[c]}let o=i[i.length-1],a=o[o.length-1][0]-o[o.length-2][0],l=o[o.length-1][1]-o[o.length-2][1];return Math.atan2(l,a)*(180/Math.PI)}function J2(i,e){let t=0,n=i.map(o=>{let a=0;for(let l=1;l<o.length;l++){let h=o[l][0]-o[l-1][0],c=o[l][1]-o[l-1][1];a+=Math.sqrt(h*h+c*c)}return t+=a,a}),s=t*e,r=0;for(let o=0;o<i.length;o++){if(s<=r+n[o]){let a=i[o];for(let l=1;l<a.length;l++){let h=a[l][0]-a[l-1][0],c=a[l][1]-a[l-1][1],f=Math.sqrt(h*h+c*c);if(s<=r+f){let p=Math.sqrt(h*h+c*c);return[c/p,-h/p]}r+=f}}r+=n[o]}}function eL(i,e,t){e=Math.min(1,e),e=Math.max(0,e),t=Math.min(1,t),t=Math.max(0,t);let n=tL(i),s=n*e,r=n*t,o=0,a,l,h,c;for(let f=0;f<i.length;f++){let p=i[f];for(let g=1;g<p.length;g++){let y=p[g][0]-p[g-1][0],v=p[g][1]-p[g-1][1],w=Math.sqrt(y*y+v*v);if(!a&&o+w>=s&&(a=g,h=f),!l&&o+w>=r){l=g,c=f;break}o+=w}}i.splice(c+1),i[c].splice(l+1),i.splice(0,h),i[0].splice(0,a-1)}function tL(i){let e=0;for(let t=0;t<i.length;t++){let n=i[t];for(let s=1;s<n.length;s++){let r=n[s][0]-n[s-1][0],o=n[s][1]-n[s-1][1];e+=Math.sqrt(r*r+o*o)}}return e}function iL(i,e,t){for(let n=i.length-1;n>=0;n--){for(let s=i[n].length-1;s>=0;s--)if(e(n,s,i))i[n].splice(s,1);else if(t(n,s,i))if(s===0||s===i[n].length-1)i[n].splice(s,1);else{let r=i[n].slice(0,s),o=i[n].slice(s+1);i[n]=r,i.splice(n+1,0,o)}i[n].length===1&&i.splice(n,1)}}function Nl(i,e){let t=e[0]-i[0],n=e[1]-i[1];return Math.sqrt(t*t+n*n)}function P0(i,e=.001){let t=i[0],n=i[i.length-1];return Math.abs(t[0]-n[0])<e&&Math.abs(t[1]-n[1])<e}function nL(i,e){let t=i.length;for(let n=0;n<t-1;n++)if(!P0(i[n]))for(let s=n+1;s<t;s++){if(P0(i[s]))continue;if(Nl(i[n][i[n].length-1],i[s][0])<=e){i[n]=i[n].concat(i[s]),i.splice(s,1),t--,s--;continue}if(Nl(i[n][i[n].length-1],i[s][i[s].length-1])<=e){i[n]=i[n].concat(i[s].reverse()),i.splice(s,1),t--,s--;continue}if(Nl(i[n][0],i[s][0])<=e){i[n]=i[s].concat(i[n]),i.splice(s,1),t--,s--;continue}Nl(i[n][0],i[s][i[s].length-1])<=e&&(i[n]=i[s].reverse().concat(i[n]),i.splice(s,1),t--,s--)}return i}class ba{constructor(e=[0,0]){this.drawing=!0,this.position=[...e],this.angle=0,this.path=[[[...e]]]}up(){return this.drawing?(this.drawing=!1,this.path.push([[...this.position]]),this):this}down(){return this.drawing=!0,this}goto([e,t]){const n=this.path.at(-1);if(this.drawing){const[s,r]=this.position;if(Math.sqrt((e-s)**2+(t-r)**2)<1e-4)return this;n.push([e,t])}else n.length===1&&(n[0]=[e,t]);return this.position=[e,t],this}forward(e){const t=this.position,n=this.angle/180*Math.PI,s=t[0]+e*Math.cos(n),r=t[1]+e*Math.sin(n);return this.goto([s,r]),this}arc(e,t){const n=Math.abs(e),s=t*n/180*Math.PI,r=this.angle,o=1,a=n/o,l=s/a;for(let h=0;h<a;h++)e>=0?this.right(o):this.left(o),this.forward(l);return this.setAngle(r-e),this}setAngle(e){return this.angle=e,this}right(e){return this.angle-=e,this}left(e){return this.angle+=e,this}translate(e,t){return this.position=E0(this.position,e,t),Dl(this,n=>E0(n,e,t)),this}rotate(e,t){return t||(t=this.cc),this.position=Yu(this.position,e,t),Dl(this,n=>Yu(n,e,t)),this}scale(e,t){return t||(t=this.cc),this.position=A0(this.position,e,t),Dl(this,n=>A0(n,e,t)),this}displace(e){return this.path.forEach(t=>Y2(t,e)),this}iteratePath(e){return Dl(this,e),this}originate(){return this.translate([0,0],this.cc),this}fromSVG(e){const s=new DOMParser().parseFromString(e,"image/svg+xml").querySelector("svg");return W2(s,{maxError:.001}).forEach(o=>{this.up(),o.points.forEach((a,l)=>{this.goto([a[0],a[1]]),l===0&&this.down()})}),this}join(...e){return e.forEach(t=>{this.path.push(...t.path)}),this}merge(e=.01){return this.path=nL(this.path,e),this}copy(){const e=JSON.parse(JSON.stringify(this.path)),t=new ba;return t.path=e,t}resample(e){return this.path.forEach(t=>{const n=q2(t,e);for(;t.length>0;)t.pop();for(;n.length>0;)t.push(n.shift())}),this}interpolate(e){return H2(this.path,e)}getAngle(e){return K2(this.path,e)}getNormal(e){return J2(this.path,e)}trim(e,t){return eL(this.path,e,t),this}warp(e,t=null){if(e instanceof ba){const r=e;e=o=>r.interpolate(o)[1]}const n=sw(this.path),s=[];return n.forEach((r,o)=>{const a=this.path.flat()[o];let l=t??this.getAngle(r);typeof l=="function"?l=l(this.getAngle(r)):typeof l=="number"&&(l=l);const h=e(r),c=Yu([0,h],l);s.push([a[0]+c[0],a[1]+c[1]])}),this.path.flat().forEach((r,o,a)=>{r[0]=s[o][0],r[1]=s[o][1]}),this}extrema(){return sL(this.path.flat())}get width(){const{xMin:e,xMax:t}=this.extrema();return t-e}get height(){const{yMin:e,yMax:t}=this.extrema();return t-e}get length(){return rL(this.path)}get start(){if(!this.path.at(0))throw new Error("Path is empty, so there is no start point");const e=this.path.at(0).at(0);return[e[0],e[1]]}get end(){if(!this.path.at(-1))throw new Error("Path is empty, so there is no end point");const e=this.path.at(-1).at(-1);return[e[0],e[1]]}get lt(){const{xMin:e,xMax:t,yMin:n,yMax:s}=this.extrema();return[e,s]}get lc(){const{xMin:e,xMax:t,yMin:n,yMax:s}=this.extrema();return[e,(s+n)/2]}get lb(){const{xMin:e,xMax:t,yMin:n,yMax:s}=this.extrema();return[e,n]}get ct(){const{xMin:e,xMax:t,yMin:n,yMax:s}=this.extrema();return[(t+e)/2,s]}get cc(){const{xMin:e,xMax:t,yMin:n,yMax:s}=this.extrema();return[(t+e)/2,(s+n)/2]}get cb(){const{xMin:e,xMax:t,yMin:n,yMax:s}=this.extrema();return[(t+e)/2,n]}get rt(){const{xMin:e,xMax:t,yMin:n,yMax:s}=this.extrema();return[t,s]}get rc(){const{xMin:e,xMax:t,yMin:n,yMax:s}=this.extrema();return[t,(s+n)/2]}get rb(){const{xMin:e,xMax:t,yMin:n,yMax:s}=this.extrema();return[t,n]}}function Dl(i,e){const t=i.path,n=new Set,s=new Set,r=sw(t);let o=0,a={};for(let l=0;l<t.length;l++)for(let h=0;h<t[l].length;h++){const c=t[l][h],f=e(c,r[o]);f==="BREAK"?s.add(`${l},${h}`):f==="REMOVE"?n.add(`${l},${h}`):Array.isArray(f)&&(a[o]=f),o++}return t.flat().forEach((l,h)=>{h in a&&(l[0]=a[h][0],l[1]=a[h][1])}),iL(t,(l,h,c)=>n.has(`${l},${h}`),(l,h,c)=>s.has(`${l},${h}`)),i.path=t.filter(l=>l.length>1),i}function E0(i,[e,t],n=[0,0]){return[i[0]+e-n[0],i[1]+t-n[1]]}function Yu(i,e,t=[0,0]){let n=e/180*Math.PI,s=i[0]-t[0],r=i[1]-t[1];return[s*Math.cos(n)-r*Math.sin(n)+t[0],r*Math.cos(n)+s*Math.sin(n)+t[1]]}function A0(i,e,t){typeof e=="number"&&(e=[e,e]);const[n,s]=e,[r,o]=t;return[(i[0]-r)*n+r,(i[1]-o)*s+o]}function sL(i){let e=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return i.forEach(r=>{const[o,a]=r;e>o&&(e=o),t<o&&(t=o),n>a&&(n=a),s<a&&(s=a)}),{xMin:e,xMax:t,yMin:n,yMax:s}}function sw(i){let e=0,t=[],n=[0];for(let r=0;r<i.length;r++){let o=i[r];for(let a=1;a<o.length;a++){let l=o[a][0]-o[a-1][0],h=o[a][1]-o[a-1][1],c=Math.sqrt(l*l+h*h);e+=c,t.push(c)}}let s=0;for(let r=0;r<t.length;r++)s+=t[r],n.push(s/e);return n}function rL(i){let e=0;for(let t=0;t<i.length;t++){let n=i[t];for(let s=1;s<n.length;s++){let r=n[s][0]-n[s-1][0],o=n[s][1]-n[s-1][1];e+=Math.sqrt(r*r+o*o)}}return e}let ns=69;function Tc(){return ns^=ns<<17,ns^=ns>>>13,ns^=ns<<5,(ns>>>0)/4294967295}function oL(i){ns=i}function aL(i,e){return Tc()*(e-i)+i}function lL(i,e){return i=Math.ceil(i),e=Math.floor(e),Math.floor(Tc()*(e-i+1)+i)}let rw=4,Vl=1<<rw,ow=8,hL=1<<ow,Vn=4095,Gu=function(i){return .5*(1-Math.cos(i*Math.PI))},dn;function cL(i,e={}){typeof i=="number"&&(i=[i,0,0]);let[t,n,s]=i;n=n||0,s=s||0;const r=e?.octaves||4,o=e?.falloff||.5;dn==null&&(dn=Float64Array.from({length:Vn+1},Tc)),t<0&&(t=-t),n<0&&(n=-n),s<0&&(s=-s);let a=Math.floor(t),l=Math.floor(n),h=Math.floor(s),c=t-a,f=n-l,p=s-h,g,y,v=0,w=.5,k,T,$;for(let E=0;E<r;E++){let _=a+(l<<rw)+(h<<ow);g=Gu(c),y=Gu(f),k=dn[_&Vn],k+=g*(dn[_+1&Vn]-k),T=dn[_+Vl&Vn],T+=g*(dn[_+Vl+1&Vn]-T),k+=y*(T-k),_+=hL,T=dn[_&Vn],T+=g*(dn[_+1&Vn]-T),$=dn[_+Vl&Vn],$+=g*(dn[_+Vl+1&Vn]-$),T+=y*($-T),k+=Gu(p)*(T-k),v+=k*w,w*=o,a<<=1,c*=2,l<<=1,f*=2,h<<=1,p*=2,c>=1&&(a++,c--),f>=1&&(l++,f--),p>=1&&(h++,p--)}return v}function aw(i,e,t,n,s){let r=1-i,o=i*i,a=r*r,l=a*r,h=o*i,c=[l*e[0],l*e[1]];return c[0]+=3*a*i*t[0],c[1]+=3*a*i*t[1],c[0]+=3*r*o*n[0],c[1]+=3*r*o*n[1],c[0]+=h*s[0],c[1]+=h*s[1],c}function uL(i,e,t,n,s){let r=1e-5,o=.5,a=0;for(;a<1e3;){let h=aw(o,e,t,n,s)[0]-i;if(Math.abs(h)<r)return o;o=o-h/2,a++}return o}function fL(i,e,t,n,s){let r=uL(i,e,t,n,s);return aw(r,e,t,n,s)[1]}function dL(i,e,t,n){return s=>fL(s,[0,i],[Math.min(Math.max(0,e[0]),1),e[1]],[Math.min(Math.max(0,t[0]),1),t[1]],[1,n])}function pL(i,e){if(!lw(e))return!1;let t=i[0],n=i[1],s=!1;for(let r=0,o=e.length-1;r<e.length;o=r++){let a=e[r][0],l=e[r][1],h=e[o][0],c=e[o][1];l>n!=c>n&&t<(h-a)*(n-l)/(c-l)+a&&(s=!s)}return s}function mL(i,e){if(!lw(e))return!1;const t=i[0],n=i[1];let s=!1;for(let r=0,o=e.length-1;r<e.length;o=r++){const a=e[r][0],l=e[r][1],h=e[o][0],c=e[o][1];l>n!=c>n&&t<(h-a)*(n-l)/(c-l)+a&&(s=!s)}return s}function lw(i,e=1e-4){const t=i[0],n=i[i.length-1];return Math.abs(t[0]-n[0])<e&&Math.abs(t[1]-n[1])<e}const gL=Object.freeze(Object.defineProperty({__proto__:null,bezierEasing:dL,inside:mL,isPointInPolyline:pL,noise:cL,rand:Tc,randInRange:aL,randIntInRange:lL,setRandSeed:oL},Symbol.toStringTag,{value:"Module"}));function OL(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var hw={},Qc={},Yp={},I0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Yp.encode=function(i){if(0<=i&&i<I0.length)return I0[i];throw new TypeError("Must be between 0 and 63: "+i)};Yp.decode=function(i){var e=65,t=90,n=97,s=122,r=48,o=57,a=43,l=47,h=26,c=52;return e<=i&&i<=t?i-e:n<=i&&i<=s?i-n+h:r<=i&&i<=o?i-r+c:i==a?62:i==l?63:-1};var cw=Yp,Gp=5,uw=1<<Gp,fw=uw-1,dw=uw;function yL(i){return i<0?(-i<<1)+1:(i<<1)+0}function vL(i){var e=(i&1)===1,t=i>>1;return e?-t:t}Qc.encode=function(e){var t="",n,s=yL(e);do n=s&fw,s>>>=Gp,s>0&&(n|=dw),t+=cw.encode(n);while(s>0);return t};Qc.decode=function(e,t,n){var s=e.length,r=0,o=0,a,l;do{if(t>=s)throw new Error("Expected more digits in base 64 VLQ value.");if(l=cw.decode(e.charCodeAt(t++)),l===-1)throw new Error("Invalid base64 digit: "+e.charAt(t-1));a=!!(l&dw),l&=fw,r=r+(l<<o),o+=Gp}while(a);n.value=vL(r),n.rest=t};var ao={};(function(i){function e(Q,M,V){if(M in Q)return Q[M];if(arguments.length===3)return V;throw new Error('"'+M+'" is a required argument.')}i.getArg=e;var t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function s(Q){var M=Q.match(t);return M?{scheme:M[1],auth:M[2],host:M[3],port:M[4],path:M[5]}:null}i.urlParse=s;function r(Q){var M="";return Q.scheme&&(M+=Q.scheme+":"),M+="//",Q.auth&&(M+=Q.auth+"@"),Q.host&&(M+=Q.host),Q.port&&(M+=":"+Q.port),Q.path&&(M+=Q.path),M}i.urlGenerate=r;var o=32;function a(Q){var M=[];return function(V){for(var B=0;B<M.length;B++)if(M[B].input===V){var q=M[0];return M[0]=M[B],M[B]=q,M[0].result}var ee=Q(V);return M.unshift({input:V,result:ee}),M.length>o&&M.pop(),ee}}var l=a(function(M){var V=M,B=s(M);if(B){if(!B.path)return M;V=B.path}for(var q=i.isAbsolute(V),ee=[],K=0,H=0;;)if(K=H,H=V.indexOf("/",K),H===-1){ee.push(V.slice(K));break}else for(ee.push(V.slice(K,H));H<V.length&&V[H]==="/";)H++;for(var X,Y=0,H=ee.length-1;H>=0;H--)X=ee[H],X==="."?ee.splice(H,1):X===".."?Y++:Y>0&&(X===""?(ee.splice(H+1,Y),Y=0):(ee.splice(H,2),Y--));return V=ee.join("/"),V===""&&(V=q?"/":"."),B?(B.path=V,r(B)):V});i.normalize=l;function h(Q,M){Q===""&&(Q="."),M===""&&(M=".");var V=s(M),B=s(Q);if(B&&(Q=B.path||"/"),V&&!V.scheme)return B&&(V.scheme=B.scheme),r(V);if(V||M.match(n))return M;if(B&&!B.host&&!B.path)return B.host=M,r(B);var q=M.charAt(0)==="/"?M:l(Q.replace(/\/+$/,"")+"/"+M);return B?(B.path=q,r(B)):q}i.join=h,i.isAbsolute=function(Q){return Q.charAt(0)==="/"||t.test(Q)};function c(Q,M){Q===""&&(Q="."),Q=Q.replace(/\/$/,"");for(var V=0;M.indexOf(Q+"/")!==0;){var B=Q.lastIndexOf("/");if(B<0||(Q=Q.slice(0,B),Q.match(/^([^\/]+:\/)?\/*$/)))return M;++V}return Array(V+1).join("../")+M.substr(Q.length+1)}i.relative=c;var f=function(){var Q=Object.create(null);return!("__proto__"in Q)}();function p(Q){return Q}function g(Q){return v(Q)?"$"+Q:Q}i.toSetString=f?p:g;function y(Q){return v(Q)?Q.slice(1):Q}i.fromSetString=f?p:y;function v(Q){if(!Q)return!1;var M=Q.length;if(M<9||Q.charCodeAt(M-1)!==95||Q.charCodeAt(M-2)!==95||Q.charCodeAt(M-3)!==111||Q.charCodeAt(M-4)!==116||Q.charCodeAt(M-5)!==111||Q.charCodeAt(M-6)!==114||Q.charCodeAt(M-7)!==112||Q.charCodeAt(M-8)!==95||Q.charCodeAt(M-9)!==95)return!1;for(var V=M-10;V>=0;V--)if(Q.charCodeAt(V)!==36)return!1;return!0}function w(Q,M,V){var B=E(Q.source,M.source);return B!==0||(B=Q.originalLine-M.originalLine,B!==0)||(B=Q.originalColumn-M.originalColumn,B!==0||V)||(B=Q.generatedColumn-M.generatedColumn,B!==0)||(B=Q.generatedLine-M.generatedLine,B!==0)?B:E(Q.name,M.name)}i.compareByOriginalPositions=w;function k(Q,M,V){var B;return B=Q.originalLine-M.originalLine,B!==0||(B=Q.originalColumn-M.originalColumn,B!==0||V)||(B=Q.generatedColumn-M.generatedColumn,B!==0)||(B=Q.generatedLine-M.generatedLine,B!==0)?B:E(Q.name,M.name)}i.compareByOriginalPositionsNoSource=k;function T(Q,M,V){var B=Q.generatedLine-M.generatedLine;return B!==0||(B=Q.generatedColumn-M.generatedColumn,B!==0||V)||(B=E(Q.source,M.source),B!==0)||(B=Q.originalLine-M.originalLine,B!==0)||(B=Q.originalColumn-M.originalColumn,B!==0)?B:E(Q.name,M.name)}i.compareByGeneratedPositionsDeflated=T;function $(Q,M,V){var B=Q.generatedColumn-M.generatedColumn;return B!==0||V||(B=E(Q.source,M.source),B!==0)||(B=Q.originalLine-M.originalLine,B!==0)||(B=Q.originalColumn-M.originalColumn,B!==0)?B:E(Q.name,M.name)}i.compareByGeneratedPositionsDeflatedNoLine=$;function E(Q,M){return Q===M?0:Q===null?1:M===null?-1:Q>M?1:-1}function _(Q,M){var V=Q.generatedLine-M.generatedLine;return V!==0||(V=Q.generatedColumn-M.generatedColumn,V!==0)||(V=E(Q.source,M.source),V!==0)||(V=Q.originalLine-M.originalLine,V!==0)||(V=Q.originalColumn-M.originalColumn,V!==0)?V:E(Q.name,M.name)}i.compareByGeneratedPositionsInflated=_;function N(Q){return JSON.parse(Q.replace(/^\)]}'[^\n]*\n/,""))}i.parseSourceMapInput=N;function z(Q,M,V){if(M=M||"",Q&&(Q[Q.length-1]!=="/"&&M[0]!=="/"&&(Q+="/"),M=Q+M),V){var B=s(V);if(!B)throw new Error("sourceMapURL could not be parsed");if(B.path){var q=B.path.lastIndexOf("/");q>=0&&(B.path=B.path.substring(0,q+1))}M=h(r(B),M)}return l(M)}i.computeSourceURL=z})(ao);var qp={},Hp=ao,Kp=Object.prototype.hasOwnProperty,qs=typeof Map<"u";function Gn(){this._array=[],this._set=qs?new Map:Object.create(null)}Gn.fromArray=function(e,t){for(var n=new Gn,s=0,r=e.length;s<r;s++)n.add(e[s],t);return n};Gn.prototype.size=function(){return qs?this._set.size:Object.getOwnPropertyNames(this._set).length};Gn.prototype.add=function(e,t){var n=qs?e:Hp.toSetString(e),s=qs?this.has(e):Kp.call(this._set,n),r=this._array.length;(!s||t)&&this._array.push(e),s||(qs?this._set.set(e,r):this._set[n]=r)};Gn.prototype.has=function(e){if(qs)return this._set.has(e);var t=Hp.toSetString(e);return Kp.call(this._set,t)};Gn.prototype.indexOf=function(e){if(qs){var t=this._set.get(e);if(t>=0)return t}else{var n=Hp.toSetString(e);if(Kp.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')};Gn.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)};Gn.prototype.toArray=function(){return this._array.slice()};qp.ArraySet=Gn;var pw={},mw=ao;function xL(i,e){var t=i.generatedLine,n=e.generatedLine,s=i.generatedColumn,r=e.generatedColumn;return n>t||n==t&&r>=s||mw.compareByGeneratedPositionsInflated(i,e)<=0}function Rc(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}Rc.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)};Rc.prototype.add=function(e){xL(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))};Rc.prototype.toArray=function(){return this._sorted||(this._array.sort(mw.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};pw.MappingList=Rc;var wo=Qc,Ct=ao,nc=qp.ArraySet,SL=pw.MappingList;function ji(i){i||(i={}),this._file=Ct.getArg(i,"file",null),this._sourceRoot=Ct.getArg(i,"sourceRoot",null),this._skipValidation=Ct.getArg(i,"skipValidation",!1),this._sources=new nc,this._names=new nc,this._mappings=new SL,this._sourcesContents=null}ji.prototype._version=3;ji.fromSourceMap=function(e){var t=e.sourceRoot,n=new ji({file:e.file,sourceRoot:t});return e.eachMapping(function(s){var r={generated:{line:s.generatedLine,column:s.generatedColumn}};s.source!=null&&(r.source=s.source,t!=null&&(r.source=Ct.relative(t,r.source)),r.original={line:s.originalLine,column:s.originalColumn},s.name!=null&&(r.name=s.name)),n.addMapping(r)}),e.sources.forEach(function(s){var r=s;t!==null&&(r=Ct.relative(t,s)),n._sources.has(r)||n._sources.add(r);var o=e.sourceContentFor(s);o!=null&&n.setSourceContent(s,o)}),n};ji.prototype.addMapping=function(e){var t=Ct.getArg(e,"generated"),n=Ct.getArg(e,"original",null),s=Ct.getArg(e,"source",null),r=Ct.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,s,r),s!=null&&(s=String(s),this._sources.has(s)||this._sources.add(s)),r!=null&&(r=String(r),this._names.has(r)||this._names.add(r)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:s,name:r})};ji.prototype.setSourceContent=function(e,t){var n=e;this._sourceRoot!=null&&(n=Ct.relative(this._sourceRoot,n)),t!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Ct.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[Ct.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};ji.prototype.applySourceMap=function(e,t,n){var s=t;if(t==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);s=e.file}var r=this._sourceRoot;r!=null&&(s=Ct.relative(r,s));var o=new nc,a=new nc;this._mappings.unsortedForEach(function(l){if(l.source===s&&l.originalLine!=null){var h=e.originalPositionFor({line:l.originalLine,column:l.originalColumn});h.source!=null&&(l.source=h.source,n!=null&&(l.source=Ct.join(n,l.source)),r!=null&&(l.source=Ct.relative(r,l.source)),l.originalLine=h.line,l.originalColumn=h.column,h.name!=null&&(l.name=h.name))}var c=l.source;c!=null&&!o.has(c)&&o.add(c);var f=l.name;f!=null&&!a.has(f)&&a.add(f)},this),this._sources=o,this._names=a,e.sources.forEach(function(l){var h=e.sourceContentFor(l);h!=null&&(n!=null&&(l=Ct.join(n,l)),r!=null&&(l=Ct.relative(r,l)),this.setSourceContent(l,h))},this)};ji.prototype._validateMapping=function(e,t,n,s){if(t&&typeof t.line!="number"&&typeof t.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!t&&!n&&!s)){if(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:s}))}};ji.prototype._serializeMappings=function(){for(var e=0,t=1,n=0,s=0,r=0,o=0,a="",l,h,c,f,p=this._mappings.toArray(),g=0,y=p.length;g<y;g++){if(h=p[g],l="",h.generatedLine!==t)for(e=0;h.generatedLine!==t;)l+=";",t++;else if(g>0){if(!Ct.compareByGeneratedPositionsInflated(h,p[g-1]))continue;l+=","}l+=wo.encode(h.generatedColumn-e),e=h.generatedColumn,h.source!=null&&(f=this._sources.indexOf(h.source),l+=wo.encode(f-o),o=f,l+=wo.encode(h.originalLine-1-s),s=h.originalLine-1,l+=wo.encode(h.originalColumn-n),n=h.originalColumn,h.name!=null&&(c=this._names.indexOf(h.name),l+=wo.encode(c-r),r=c)),a+=l}return a};ji.prototype._generateSourcesContent=function(e,t){return e.map(function(n){if(!this._sourcesContents)return null;t!=null&&(n=Ct.relative(t,n));var s=Ct.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,s)?this._sourcesContents[s]:null},this)};ji.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e};ji.prototype.toString=function(){return JSON.stringify(this.toJSON())};hw.SourceMapGenerator=ji;var Lc={},gw={};(function(i){i.GREATEST_LOWER_BOUND=1,i.LEAST_UPPER_BOUND=2;function e(t,n,s,r,o,a){var l=Math.floor((n-t)/2)+t,h=o(s,r[l],!0);return h===0?l:h>0?n-l>1?e(l,n,s,r,o,a):a==i.LEAST_UPPER_BOUND?n<r.length?n:-1:l:l-t>1?e(t,l,s,r,o,a):a==i.LEAST_UPPER_BOUND?l:t<0?-1:t}i.search=function(n,s,r,o){if(s.length===0)return-1;var a=e(-1,s.length,n,s,r,o||i.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&r(s[a],s[a-1],!0)===0;)--a;return a}})(gw);var Ow={};function bL(i){function e(s,r,o){var a=s[r];s[r]=s[o],s[o]=a}function t(s,r){return Math.round(s+Math.random()*(r-s))}function n(s,r,o,a){if(o<a){var l=t(o,a),h=o-1;e(s,l,a);for(var c=s[a],f=o;f<a;f++)r(s[f],c,!1)<=0&&(h+=1,e(s,h,f));e(s,h+1,f);var p=h+1;n(s,r,o,p-1),n(s,r,p+1,a)}}return n}function wL(i){let e=bL.toString();return new Function(`return ${e}`)()(i)}let M0=new WeakMap;Ow.quickSort=function(i,e,t=0){let n=M0.get(e);n===void 0&&(n=wL(e),M0.set(e,n)),n(i,e,t,i.length-1)};var fe=ao,Jp=gw,Kr=qp.ArraySet,kL=Qc,wa=Ow.quickSort;function rt(i,e){var t=i;return typeof i=="string"&&(t=fe.parseSourceMapInput(i)),t.sections!=null?new sn(t,e):new Yt(t,e)}rt.fromSourceMap=function(i,e){return Yt.fromSourceMap(i,e)};rt.prototype._version=3;rt.prototype.__generatedMappings=null;Object.defineProperty(rt.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});rt.prototype.__originalMappings=null;Object.defineProperty(rt.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});rt.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return n===";"||n===","};rt.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")};rt.GENERATED_ORDER=1;rt.ORIGINAL_ORDER=2;rt.GREATEST_LOWER_BOUND=1;rt.LEAST_UPPER_BOUND=2;rt.prototype.eachMapping=function(e,t,n){var s=t||null,r=n||rt.GENERATED_ORDER,o;switch(r){case rt.GENERATED_ORDER:o=this._generatedMappings;break;case rt.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}for(var a=this.sourceRoot,l=e.bind(s),h=this._names,c=this._sources,f=this._sourceMapURL,p=0,g=o.length;p<g;p++){var y=o[p],v=y.source===null?null:c.at(y.source);v=fe.computeSourceURL(a,v,f),l({source:v,generatedLine:y.generatedLine,generatedColumn:y.generatedColumn,originalLine:y.originalLine,originalColumn:y.originalColumn,name:y.name===null?null:h.at(y.name)})}};rt.prototype.allGeneratedPositionsFor=function(e){var t=fe.getArg(e,"line"),n={source:fe.getArg(e,"source"),originalLine:t,originalColumn:fe.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var s=[],r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",fe.compareByOriginalPositions,Jp.LEAST_UPPER_BOUND);if(r>=0){var o=this._originalMappings[r];if(e.column===void 0)for(var a=o.originalLine;o&&o.originalLine===a;)s.push({line:fe.getArg(o,"generatedLine",null),column:fe.getArg(o,"generatedColumn",null),lastColumn:fe.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++r];else for(var l=o.originalColumn;o&&o.originalLine===t&&o.originalColumn==l;)s.push({line:fe.getArg(o,"generatedLine",null),column:fe.getArg(o,"generatedColumn",null),lastColumn:fe.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++r]}return s};Lc.SourceMapConsumer=rt;function Yt(i,e){var t=i;typeof i=="string"&&(t=fe.parseSourceMapInput(i));var n=fe.getArg(t,"version"),s=fe.getArg(t,"sources"),r=fe.getArg(t,"names",[]),o=fe.getArg(t,"sourceRoot",null),a=fe.getArg(t,"sourcesContent",null),l=fe.getArg(t,"mappings"),h=fe.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);o&&(o=fe.normalize(o)),s=s.map(String).map(fe.normalize).map(function(c){return o&&fe.isAbsolute(o)&&fe.isAbsolute(c)?fe.relative(o,c):c}),this._names=Kr.fromArray(r.map(String),!0),this._sources=Kr.fromArray(s,!0),this._absoluteSources=this._sources.toArray().map(function(c){return fe.computeSourceURL(o,c,e)}),this.sourceRoot=o,this.sourcesContent=a,this._mappings=l,this._sourceMapURL=e,this.file=h}Yt.prototype=Object.create(rt.prototype);Yt.prototype.consumer=rt;Yt.prototype._findSourceIndex=function(i){var e=i;if(this.sourceRoot!=null&&(e=fe.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);var t;for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==i)return t;return-1};Yt.fromSourceMap=function(e,t){var n=Object.create(Yt.prototype),s=n._names=Kr.fromArray(e._names.toArray(),!0),r=n._sources=Kr.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map(function(g){return fe.computeSourceURL(n.sourceRoot,g,t)});for(var o=e._mappings.toArray().slice(),a=n.__generatedMappings=[],l=n.__originalMappings=[],h=0,c=o.length;h<c;h++){var f=o[h],p=new yw;p.generatedLine=f.generatedLine,p.generatedColumn=f.generatedColumn,f.source&&(p.source=r.indexOf(f.source),p.originalLine=f.originalLine,p.originalColumn=f.originalColumn,f.name&&(p.name=s.indexOf(f.name)),l.push(p)),a.push(p)}return wa(n.__originalMappings,fe.compareByOriginalPositions),n};Yt.prototype._version=3;Object.defineProperty(Yt.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function yw(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}const qu=fe.compareByGeneratedPositionsDeflatedNoLine;function _0(i,e){let t=i.length,n=i.length-e;if(!(n<=1))if(n==2){let s=i[e],r=i[e+1];qu(s,r)>0&&(i[e]=r,i[e+1]=s)}else if(n<20)for(let s=e;s<t;s++)for(let r=s;r>e;r--){let o=i[r-1],a=i[r];if(qu(o,a)<=0)break;i[r-1]=a,i[r]=o}else wa(i,qu,e)}Yt.prototype._parseMappings=function(e,t){var n=1,s=0,r=0,o=0,a=0,l=0,h=e.length,c=0,f={},p=[],g=[],y,v,w,k;let T=0;for(;c<h;)if(e.charAt(c)===";")n++,c++,s=0,_0(g,T),T=g.length;else if(e.charAt(c)===",")c++;else{for(y=new yw,y.generatedLine=n,w=c;w<h&&!this._charIsMappingSeparator(e,w);w++);for(e.slice(c,w),v=[];c<w;)kL.decode(e,c,f),k=f.value,c=f.rest,v.push(k);if(v.length===2)throw new Error("Found a source, but no line and column");if(v.length===3)throw new Error("Found a source and line, but no column");if(y.generatedColumn=s+v[0],s=y.generatedColumn,v.length>1&&(y.source=a+v[1],a+=v[1],y.originalLine=r+v[2],r=y.originalLine,y.originalLine+=1,y.originalColumn=o+v[3],o=y.originalColumn,v.length>4&&(y.name=l+v[4],l+=v[4])),g.push(y),typeof y.originalLine=="number"){let E=y.source;for(;p.length<=E;)p.push(null);p[E]===null&&(p[E]=[]),p[E].push(y)}}_0(g,T),this.__generatedMappings=g;for(var $=0;$<p.length;$++)p[$]!=null&&wa(p[$],fe.compareByOriginalPositionsNoSource);this.__originalMappings=[].concat(...p)};Yt.prototype._findMapping=function(e,t,n,s,r,o){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[s]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[s]);return Jp.search(e,t,r,o)};Yt.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}};Yt.prototype.originalPositionFor=function(e){var t={generatedLine:fe.getArg(e,"line"),generatedColumn:fe.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",fe.compareByGeneratedPositionsDeflated,fe.getArg(e,"bias",rt.GREATEST_LOWER_BOUND));if(n>=0){var s=this._generatedMappings[n];if(s.generatedLine===t.generatedLine){var r=fe.getArg(s,"source",null);r!==null&&(r=this._sources.at(r),r=fe.computeSourceURL(this.sourceRoot,r,this._sourceMapURL));var o=fe.getArg(s,"name",null);return o!==null&&(o=this._names.at(o)),{source:r,line:fe.getArg(s,"originalLine",null),column:fe.getArg(s,"originalColumn",null),name:o}}}return{source:null,line:null,column:null,name:null}};Yt.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1};Yt.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var s=e;this.sourceRoot!=null&&(s=fe.relative(this.sourceRoot,s));var r;if(this.sourceRoot!=null&&(r=fe.urlParse(this.sourceRoot))){var o=s.replace(/^file:\/\//,"");if(r.scheme=="file"&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!r.path||r.path=="/")&&this._sources.has("/"+s))return this.sourcesContent[this._sources.indexOf("/"+s)]}if(t)return null;throw new Error('"'+s+'" is not in the SourceMap.')};Yt.prototype.generatedPositionFor=function(e){var t=fe.getArg(e,"source");if(t=this._findSourceIndex(t),t<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:fe.getArg(e,"line"),originalColumn:fe.getArg(e,"column")},s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",fe.compareByOriginalPositions,fe.getArg(e,"bias",rt.GREATEST_LOWER_BOUND));if(s>=0){var r=this._originalMappings[s];if(r.source===n.source)return{line:fe.getArg(r,"generatedLine",null),column:fe.getArg(r,"generatedColumn",null),lastColumn:fe.getArg(r,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};Lc.BasicSourceMapConsumer=Yt;function sn(i,e){var t=i;typeof i=="string"&&(t=fe.parseSourceMapInput(i));var n=fe.getArg(t,"version"),s=fe.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new Kr,this._names=new Kr;var r={line:-1,column:0};this._sections=s.map(function(o){if(o.url)throw new Error("Support for url field in sections not implemented.");var a=fe.getArg(o,"offset"),l=fe.getArg(a,"line"),h=fe.getArg(a,"column");if(l<r.line||l===r.line&&h<r.column)throw new Error("Section offsets must be ordered and non-overlapping.");return r=a,{generatedOffset:{generatedLine:l+1,generatedColumn:h+1},consumer:new rt(fe.getArg(o,"map"),e)}})}sn.prototype=Object.create(rt.prototype);sn.prototype.constructor=rt;sn.prototype._version=3;Object.defineProperty(sn.prototype,"sources",{get:function(){for(var i=[],e=0;e<this._sections.length;e++)for(var t=0;t<this._sections[e].consumer.sources.length;t++)i.push(this._sections[e].consumer.sources[t]);return i}});sn.prototype.originalPositionFor=function(e){var t={generatedLine:fe.getArg(e,"line"),generatedColumn:fe.getArg(e,"column")},n=Jp.search(t,this._sections,function(r,o){var a=r.generatedLine-o.generatedOffset.generatedLine;return a||r.generatedColumn-o.generatedOffset.generatedColumn}),s=this._sections[n];return s?s.consumer.originalPositionFor({line:t.generatedLine-(s.generatedOffset.generatedLine-1),column:t.generatedColumn-(s.generatedOffset.generatedLine===t.generatedLine?s.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}};sn.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})};sn.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var s=this._sections[n],r=s.consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')};sn.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(n.consumer._findSourceIndex(fe.getArg(e,"source"))!==-1){var s=n.consumer.generatedPositionFor(e);if(s){var r={line:s.line+(n.generatedOffset.generatedLine-1),column:s.column+(n.generatedOffset.generatedLine===s.line?n.generatedOffset.generatedColumn-1:0)};return r}}}return{line:null,column:null}};sn.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var s=this._sections[n],r=s.consumer._generatedMappings,o=0;o<r.length;o++){var a=r[o],l=s.consumer._sources.at(a.source);l=fe.computeSourceURL(s.consumer.sourceRoot,l,this._sourceMapURL),this._sources.add(l),l=this._sources.indexOf(l);var h=null;a.name&&(h=s.consumer._names.at(a.name),this._names.add(h),h=this._names.indexOf(h));var c={source:l,generatedLine:a.generatedLine+(s.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(s.generatedOffset.generatedLine===a.generatedLine?s.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:h};this.__generatedMappings.push(c),typeof c.originalLine=="number"&&this.__originalMappings.push(c)}wa(this.__generatedMappings,fe.compareByGeneratedPositionsDeflated),wa(this.__originalMappings,fe.compareByOriginalPositions)};Lc.IndexedSourceMapConsumer=sn;var CL=hw.SourceMapGenerator,sc=ao,$L=/(\r?\n)/,PL=10,lo="$$$isSourceNode$$$";function Ui(i,e,t,n,s){this.children=[],this.sourceContents={},this.line=i??null,this.column=e??null,this.source=t??null,this.name=s??null,this[lo]=!0,n!=null&&this.add(n)}Ui.fromStringWithSourceMap=function(e,t,n){var s=new Ui,r=e.split($L),o=0,a=function(){var p=y(),g=y()||"";return p+g;function y(){return o<r.length?r[o++]:void 0}},l=1,h=0,c=null;return t.eachMapping(function(p){if(c!==null)if(l<p.generatedLine)f(c,a()),l++,h=0;else{var g=r[o]||"",y=g.substr(0,p.generatedColumn-h);r[o]=g.substr(p.generatedColumn-h),h=p.generatedColumn,f(c,y),c=p;return}for(;l<p.generatedLine;)s.add(a()),l++;if(h<p.generatedColumn){var g=r[o]||"";s.add(g.substr(0,p.generatedColumn)),r[o]=g.substr(p.generatedColumn),h=p.generatedColumn}c=p},this),o<r.length&&(c&&f(c,a()),s.add(r.splice(o).join(""))),t.sources.forEach(function(p){var g=t.sourceContentFor(p);g!=null&&(n!=null&&(p=sc.join(n,p)),s.setSourceContent(p,g))}),s;function f(p,g){if(p===null||p.source===void 0)s.add(g);else{var y=n?sc.join(n,p.source):p.source;s.add(new Ui(p.originalLine,p.originalColumn,y,g,p.name))}}};Ui.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(t){this.add(t)},this);else if(e[lo]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};Ui.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else if(e[lo]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};Ui.prototype.walk=function(e){for(var t,n=0,s=this.children.length;n<s;n++)t=this.children[n],t[lo]?t.walk(e):t!==""&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})};Ui.prototype.join=function(e){var t,n,s=this.children.length;if(s>0){for(t=[],n=0;n<s-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this};Ui.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[lo]?n.replaceRight(e,t):typeof n=="string"?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this};Ui.prototype.setSourceContent=function(e,t){this.sourceContents[sc.toSetString(e)]=t};Ui.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][lo]&&this.children[t].walkSourceContents(e);for(var s=Object.keys(this.sourceContents),t=0,n=s.length;t<n;t++)e(sc.fromSetString(s[t]),this.sourceContents[s[t]])};Ui.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e};Ui.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new CL(e),s=!1,r=null,o=null,a=null,l=null;return this.walk(function(h,c){t.code+=h,c.source!==null&&c.line!==null&&c.column!==null?((r!==c.source||o!==c.line||a!==c.column||l!==c.name)&&n.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:t.line,column:t.column},name:c.name}),r=c.source,o=c.line,a=c.column,l=c.name,s=!0):s&&(n.addMapping({generated:{line:t.line,column:t.column}}),r=null,s=!1);for(var f=0,p=h.length;f<p;f++)h.charCodeAt(f)===PL?(t.line++,t.column=0,f+1===p?(r=null,s=!1):s&&n.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:t.line,column:t.column},name:c.name})):t.column++}),this.walkSourceContents(function(h,c){n.setSourceContent(h,c)}),{code:t.code,map:n}};var EL=Lc.SourceMapConsumer;let T0=[],Q0=[],ko=[];const Bl=i=>i.split("/").reduce((e,t)=>{if(t!==".")if(t===".."){if(e.pop()===void 0)throw new Error(`Unable to resolve path: ${i}`)}else e.push(t);return e},[]).join("/"),Hu=i=>["http://","https://"].find(e=>i.startsWith(e));async function AL(){const{code:i}=Ca();return(await(await T2({input:"/index.js",plugins:[{name:"fs-resolver",resolveId(n,s){if(["./","../"].find(r=>n.startsWith(r))){if(s){const r=s.split("/");return r.pop(),s=r.join("/"),Bl(s+"/"+n)}return Bl(n)}else if(n.startsWith("/")){if(s&&Hu(s)){const r=new URL(s);return Bl(r.origin+n)}return Bl(n)}else if(Hu(n))return n;return{id:n,external:!0}},async load(n){return Hu(n)?await(await fetch(n)).text():n==="/index.js"?i.content:null}}]})).generate({format:"iife",sourcemap:"inline",inlineDynamicImports:!0})).output[0].code}const R0=i=>{const e=i.match(/:(\d+):(\d+)(?![^\n]*:)/gm);if(e){const t=e[0].match(/:(\d+):(\d+)/);return t?{line:Number(t[1])-2,column:Number(t[2])}:void 0}else return},IL=Object.getPrototypeOf(async function(){}).constructor,L0=i=>new Promise(e=>window.setTimeout(e,i)),N0=i=>{let e=0;for(;!["<anonymous>","AsyncFunction"].find(t=>i[e].includes(t));)e++;return e};function ML(i){const e=atob(i),t=Uint8Array.from(e,n=>n.codePointAt(0));return new TextDecoder().decode(t)}const _L=i=>{const e=JSON.parse(ML(i.match(/\/\/# sourceMappingURL=data:application\/json;charset=utf-8;base64,([A-Za-z0-9+\/=]+)/)[1]));return new EL(e)};let Zn={value:null},qo={value:null},zr=null;async function vw(){try{return qo.value=await AL(),Zn.value=Ve.create({doc:qo.value}),zr=_L(qo.value),!0}catch(i){if(i.name!=="RollupError"||!i.cause)throw i;const e=i.cause;if(!e||!e.loc)throw e;return Ir({turtles:[],turtlePos:[0,0],error:{stack:[{line:e.loc.line,column:e.loc.column}],code:Ca().code.content,name:e.name??i.name,message:e.message.replace(/\((\d+):(\d+)(?![^\n]*:)\)/gm,"").trim()}}),!1}}async function xw(i=!1){const e=[];let t=null;if(!i&&!await vw())return;T0.forEach(clearInterval),Q0.forEach(clearTimeout),ko.forEach((y,v)=>{ko[v]=!1});const n=(y,v,...w)=>{const k=window.setInterval(y,v,...w);return T0.push(k),k},s=(y,v,...w)=>{const k=window.setTimeout(y,v,...w);return Q0.push(k),k},r=async(y,v=0)=>{let w=ko.length;for(ko.push(!0);ko[w];){const k=new Date,T=k.getTime();await y();const $=k.getTime()-T;$<v&&await L0(v-$)}},o=(y,...v)=>{console[y](...v);const w=new Error().stack.split(`
`),k=R0(w[N0(w)]),T=k&&zr.originalPositionFor(k);Ir({console:[...Ca().console,{type:y,pos:T,time:Number(new Date),values:v}]})},l={setTimeout:s,setInterval:n,loop:r,sleep:L0,Turtle:ba,createTurtle:y=>new ba(y),console:{log:(...y)=>o("log",...y),error:(...y)=>o("error",...y),warn:(...y)=>o("warn",...y)},...gL,lerp(y,v,w){return(1-w)*y+w*v},drawTurtles:(...y)=>{y.forEach(v=>e.push(v))},setDocDimensions(y,v){Ir({docDimensions:{width:y,height:v}})}},h=new Proxy(window,{get:(y,v)=>v in l?l[v]:y[v].bind(y)}),c={...l,global:h,globalThis:h,window:h},f=Object.keys(c),p=Object.values(c);let g;try{g=new IL(...f,"await (async "+qo.value.slice(1))}catch(y){debugger;throw y}Ir({console:[]});try{await g(...p)}catch(y){const v=y.stack?.split(`
`)??[];let w=v.length===0?0:N0(v),k=[];for(;w<v.length&&[0,1].map(E=>v[w+E]).every(E=>E&&(E.includes("AsyncFunction")||E.includes("eval at ")));){const E=v[w],_=R0(E);if(!_)break;k.push(_),w++}const T=E=>{const _=zr.originalPositionFor(E);return _.line===null?(console.warn("failed to map source position, incrementing column as workaround"),zr.originalPositionFor({...E,column:E.column+1})):_};t={stack:k.map(T),code:Ca().code.content,name:y.name,message:y.message}}Ir({turtles:e,turtlePos:e.at(-1)?.position??[0,0],error:t})}const $d={value:!0},Sw=(i,e)=>{if(!zr||!Zn.value){i.bundleState=void 0;return}[i.bundleFrom,i.bundleTo]=p_(i.from,i.to,e).map(t=>({...t,source:"index.js"})).map(t=>zr.generatedPositionFor(t)).map(t=>g_(t,Zn.value)),i.bundleState=new WeakRef(Zn.value)},bw=(i,e,t)=>{const n={from:i,to:e};return Sw(n,t),n},ww=(i,e)=>({span:i,update:e});async function kw(i,e){const t=e.state.update({changes:i.map(s=>({from:s.span.from,to:s.span.to,insert:s.update}))});if(e.dispatch(t),i.forEach(s=>{s.span.from=t.changes.mapPos(s.span.from,1),s.span.to=t.changes.mapPos(s.span.to,-1)}),$d.value||!Zn.value){await vw();return}console.log("attempting live update"),i.forEach(s=>s.span.bundleState?.deref()!==Zn.value&&Sw(s.span,e));const n=Zn.value.update({changes:i.map(s=>({from:s.span.bundleFrom,to:s.span.bundleTo,insert:s.update}))});Zn.value=n.state,i.forEach(s=>{s.span.bundleFrom=n.changes.mapPos(s.span.bundleFrom,1),s.span.bundleTo=n.changes.mapPos(s.span.bundleTo,-1)}),qo.value=Zn.value.doc.toString(),$d.value=!1}let Ku=!1;async function Cw(){Ku||(Ku=!0,xw(!0).then(()=>{Ku=!1}))}const TL="#2E3235",gn="#DDDDDD",Ho="#B9D2FF",Xl="#b0b0b0",QL="#e0e0e0",$w="#808080",Ju="#000000",RL="#A54543",Pw="#fc6d24",_s="#fda331",ef="#8abeb7",D0="#b5bd68",Co="#6fb3d2",$o="#cc99cc",LL="#6987AF",V0=Pw,B0="#292d30",zl=Ho+"30",NL=TL,tf=gn,DL="#202325",X0=gn,VL=he.theme({"&":{color:gn,backgroundColor:NL},".cm-content":{caretColor:X0},".cm-cursor, .cm-dropCursor":{borderLeftColor:X0},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:DL},".cm-panels":{backgroundColor:B0,color:Xl},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:Ho,outline:`1px solid ${Xl}`,color:Ju},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:QL,color:Ju},".cm-activeLine":{backgroundColor:zl},".cm-selectionMatch":{backgroundColor:zl},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${Xl}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:Ho,color:Ju},".cm-gutters":{borderRight:"1px solid #ffffff10",color:$w,backgroundColor:B0},".cm-activeLineGutter":{backgroundColor:zl},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:Ho},".cm-tooltip":{border:"none",backgroundColor:tf},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tf,borderBottomColor:tf},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:zl,color:Xl}}},{dark:!0}),BL=_a.define([{tag:D.keyword,color:_s},{tag:[D.name,D.deleted,D.character,D.propertyName,D.macroName],color:D0},{tag:[D.variableName],color:Co},{tag:[D.function(D.variableName)],color:_s},{tag:[D.labelName],color:Pw},{tag:[D.color,D.constant(D.name),D.standard(D.name)],color:_s},{tag:[D.definition(D.name),D.separator],color:$o},{tag:[D.brace],color:$o},{tag:[D.annotation],color:V0},{tag:[D.number,D.changed,D.annotation,D.modifier,D.self,D.namespace],color:_s},{tag:[D.typeName,D.className],color:Co},{tag:[D.operator,D.operatorKeyword],color:$o},{tag:[D.tagName],color:_s},{tag:[D.squareBracket],color:$o},{tag:[D.angleBracket],color:$o},{tag:[D.attributeName],color:Co},{tag:[D.regexp],color:_s},{tag:[D.quote],color:gn},{tag:[D.string],color:D0},{tag:D.link,color:LL,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[D.url,D.escape,D.special(D.string)],color:ef},{tag:[D.meta],color:RL},{tag:[D.comment],color:$w,fontStyle:"italic"},{tag:D.monospace,color:gn},{tag:D.strong,fontWeight:"bold",color:_s},{tag:D.emphasis,fontStyle:"italic",color:Co},{tag:D.strikethrough,textDecoration:"line-through"},{tag:D.heading,fontWeight:"bold",color:gn},{tag:D.special(D.heading1),fontWeight:"bold",color:gn},{tag:D.heading1,fontWeight:"bold",color:gn},{tag:[D.heading2,D.heading3,D.heading4],fontWeight:"bold",color:gn},{tag:[D.heading5,D.heading6],color:gn},{tag:[D.atom,D.bool,D.special(D.variableName)],color:ef},{tag:[D.processingInstruction,D.inserted],color:ef},{tag:[D.contentSeparator],color:Co},{tag:D.invalid,color:Ho,borderBottom:`1px dotted ${V0}`}]),XL=[VL,qx(BL)];var em=(i=>(i[i.Light=0]="Light",i[i.Dark=1]="Dark",i))(em||{});const zL=()=>typeof window>"u"?{theme:0,vimMode:!1}:{theme:Number(localStorage.getItem("colorTheme"))??window.matchMedia("(prefers-color-scheme: dark)")?1:0,vimMode:localStorage.getItem("vimMode")==="true"},Ew=i=>{document.body.dataset.theme=em[i]},Aw=tv(zL()),[Iw,,ka]=Aw;typeof window<"u"&&Ew(ka().theme);const[,ZL]=Aw,YN=(...i)=>{const e=ka().theme;ZL(...i);const t=ka();t.theme!==e&&Ew(t.theme),localStorage.setItem("colorTheme",t.theme.toString()),localStorage.setItem("vimMode",t.vimMode.toString())},Mw=i=>i===em.Dark?XL:[],_w=new Jr,UL=()=>_w.of(Mw(ka().theme));function GN(i){const{theme:e}=Iw(["theme"]);oc(()=>{i&&i.dispatch({effects:_w.reconfigure(Mw(e))})},[e])}function jL(i){var e=i.Pos;function t(u,d){var m=u.state.vim;if(!m||m.insertMode)return d.head;var O=m.sel.head;if(!O)return d.head;if(!(m.visualBlock&&d.head.line!=O.line))return d.from()==d.anchor&&!d.empty()&&d.head.line==O.line&&d.head.ch!=O.ch?new e(d.head.line,d.head.ch-1):d.head}function n(u,d,m){if(d.line===m.line&&d.ch>=m.ch-1){var O=u.getLine(d.line),S=O.charCodeAt(d.ch);55296<=S&&S<=55551&&(m.ch+=1)}return{start:d,end:m}}var s=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h",context:"normal"},{keys:"<Del>",type:"keyToKey",toKeys:"x",context:"normal"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B",context:"normal"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b",context:"normal"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"<C-r><character>",type:"action",action:"insertRegister",context:"insert",isEdit:!0},{keys:"<C-o>",type:"action",action:"oneNormalCommand",context:"insert"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],r=s.length,o=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"omap",shortName:"om"},{name:"noremap",shortName:"no"},{name:"nnoremap",shortName:"nn"},{name:"vnoremap",shortName:"vn"},{name:"inoremap",shortName:"ino"},{name:"onoremap",shortName:"ono"},{name:"unmap"},{name:"mapclear",shortName:"mapc"},{name:"nmapclear",shortName:"nmapc"},{name:"vmapclear",shortName:"vmapc"},{name:"imapclear",shortName:"imapc"},{name:"omapclear",shortName:"omapc"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"delete",shortName:"d"},{name:"join",shortName:"j"},{name:"normal",shortName:"norm"},{name:"global",shortName:"g"}];function a(u){u.setOption("disableInput",!0),u.setOption("showCursorWhenSelecting",!1),i.signal(u,"vim-mode-change",{mode:"normal"}),u.on("cursorActivity",Cm),Fe(u),i.on(u.getInputField(),"paste",w(u))}function l(u){u.setOption("disableInput",!1),u.off("cursorActivity",Cm),i.off(u.getInputField(),"paste",w(u)),u.state.vim=null,Ga&&clearTimeout(Ga)}function h(u,d){this==i.keyMap.vim&&(u.options.$customCursor=null,i.rmClass(u.getWrapperElement(),"cm-fat-cursor")),(!d||d.attach!=c)&&l(u)}function c(u,d){this==i.keyMap.vim&&(u.curOp&&(u.curOp.selectionChanged=!0),u.options.$customCursor=t,i.addClass(u.getWrapperElement(),"cm-fat-cursor")),(!d||d.attach!=c)&&a(u)}i.defineOption("vimMode",!1,function(u,d,m){d&&u.getOption("keyMap")!="vim"?u.setOption("keyMap","vim"):!d&&m!=i.Init&&/^vim/.test(u.getOption("keyMap"))&&u.setOption("keyMap","default")});function f(u,d){if(d){if(this[u])return this[u];var m=v(u);if(!m)return!1;var O=We.findKey(d,m);return typeof O=="function"&&i.signal(d,"vim-keypress",m),O}}var p={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A",CapsLock:""},g={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"},y={};"Left|Right|Up|Down|End|Home".split("|").concat(Object.keys(g)).forEach(function(u){y[(g[u]||"").toLowerCase()]=y[u.toLowerCase()]=u});function v(u){if(u.charAt(0)=="'")return u.charAt(1);var d=u.split(/-(?!$)/),m=d[d.length-1];if(d.length==1&&d[0].length==1)return!1;if(d.length==2&&d[0]=="Shift"&&m.length==1)return!1;for(var O=!1,S=0;S<d.length;S++){var b=d[S];b in p?d[S]=p[b]:O=!0,b in g&&(d[S]=g[b])}return O?(H(m)&&(d[d.length-1]=m.toLowerCase()),"<"+d.join("-")+">"):!1}function w(u){var d=u.state.vim;return d.onPasteFn||(d.onPasteFn=function(){d.insertMode||(u.setCursor(Mt(u.getCursor(),0,1)),ur.enterInsertMode(u,{},d))}),d.onPasteFn}var k=/[\d]/,T=[i.isWordChar,function(u){return u&&!i.isWordChar(u)&&!/\s/.test(u)}],$=[function(u){return/\S/.test(u)}];function E(u,d){for(var m=[],O=u;O<u+d;O++)m.push(String.fromCharCode(O));return m}var _=E(65,26),N=E(97,26),z=E(48,10),Q=[].concat(_,N,z,["<",">"]),M=[].concat(_,N,z,["-",'"',".",":","_","/","+"]),V;try{V=new RegExp("^[\\p{Lu}]$","u")}catch{V=/^[A-Z]$/}function B(u,d){return d>=u.firstLine()&&d<=u.lastLine()}function q(u){return/^[a-z]$/.test(u)}function ee(u){return"()[]{}".indexOf(u)!=-1}function K(u){return k.test(u)}function H(u){return V.test(u)}function X(u){return/^\s*$/.test(u)}function Y(u){return".?!".indexOf(u)!=-1}function te(u,d){for(var m=0;m<d.length;m++)if(d[m]==u)return!0;return!1}var le={};function de(u,d,m,O,S){if(d===void 0&&!S)throw Error("defaultValue is required unless callback is provided");if(m||(m="string"),le[u]={type:m,defaultValue:d,callback:S},O)for(var b=0;b<O.length;b++)le[O[b]]=le[u];d&&Se(u,d)}function Se(u,d,m,O){var S=le[u];O=O||{};var b=O.scope;if(!S)return new Error("Unknown option: "+u);if(S.type=="boolean"){if(d&&d!==!0)return new Error("Invalid argument: "+u+"="+d);d!==!1&&(d=!0)}S.callback?(b!=="local"&&S.callback(d,void 0),b!=="global"&&m&&S.callback(d,m)):(b!=="local"&&(S.value=S.type=="boolean"?!!d:d),b!=="global"&&m&&(m.state.vim.options[u]={value:d}))}function xe(u,d,m){var O=le[u];m=m||{};var S=m.scope;if(!O)return new Error("Unknown option: "+u);if(O.callback){var b=d&&O.callback(void 0,d);return S!=="global"&&b!==void 0?b:S!=="local"?O.callback():void 0}else{var b=S!=="global"&&d&&d.state.vim.options[u];return(b||S!=="local"&&O||{}).value}}de("filetype",void 0,"string",["ft"],function(u,d){if(d!==void 0)if(u===void 0){var m=d.getOption("mode");return m=="null"?"":m}else{var m=u==""?"null":u;d.setOption("mode",m)}});var Ee=function(){var u=100,d=-1,m=0,O=0,S=new Array(u);function b(A,L,R){var j=d%u,G=S[j];function U(re){var J=++d%u,ve=S[J];ve&&ve.clear(),S[J]=A.setBookmark(re)}if(G){var Z=G.find();Z&&!Ii(Z,L)&&U(L)}else U(L);U(R),m=d,O=d-u+1,O<0&&(O=0)}function C(A,L){d+=L,d>m?d=m:d<O&&(d=O);var R=S[(u+d)%u];if(R&&!R.find()){var j=L>0?1:-1,G,U=A.getCursor();do if(d+=j,R=S[(u+d)%u],R&&(G=R.find())&&!Ii(U,G))break;while(d<m&&d>O)}return R}function I(A,L){var R=d,j=C(A,L);return d=R,j&&j.find()}return{cachedCursor:void 0,add:b,find:I,move:C}},Ue=function(u){return u?{changes:u.changes,expectCursorActivityForChange:u.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};function Ie(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=Ue()}Ie.prototype={exitMacroRecordMode:function(){var u=ie.macroModeState;u.onRecordingDone&&u.onRecordingDone(),u.onRecordingDone=void 0,u.isRecording=!1},enterMacroRecordMode:function(u,d){var m=ie.registerController.getRegister(d);if(m){if(m.clear(),this.latestRegister=d,u.openDialog){var O=Jn("span",{class:"cm-vim-message"},"recording @"+d);this.onRecordingDone=u.openDialog(O,null,{bottom:!0})}this.isRecording=!0}}};function Fe(u){return u.state.vim||(u.state.vim={inputState:new Hn,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeReturn:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),u.state.vim}var ie;function Je(){ie={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:Ee(),macroModeState:new Ie,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new Gt({}),searchHistoryController:new Es,exCommandHistoryController:new Es};for(var u in le){var d=le[u];d.value=d.defaultValue}}var Qe,We={enterVimMode:a,leaveVimMode:l,buildKeyMap:function(){},getRegisterController:function(){return ie.registerController},resetVimGlobalState_:Je,getVimGlobalState_:function(){return ie},maybeInitVimState_:Fe,suppressErrorLogging:!1,InsertModeKey:Uc,map:function(u,d,m){Yi.map(u,d,m)},unmap:function(u,d){return Yi.unmap(u,d)},noremap:function(u,d,m){Yi.map(u,d,m,!0)},mapclear:function(u){var d=s.length,m=r,O=s.slice(0,d-m);if(s=s.slice(d-m),u)for(var S=O.length-1;S>=0;S--){var b=O[S];if(u!==b.context)if(b.context)this._mapCommand(b);else{var C=["normal","insert","visual"];for(var I in C)if(C[I]!==u){var A={};for(var L in b)A[L]=b[L];A.context=C[I],this._mapCommand(A)}}}},setOption:Se,getOption:xe,defineOption:de,defineEx:function(u,d,m){if(!d)d=u;else if(u.indexOf(d)!==0)throw new Error('(Vim.defineEx) "'+d+'" is not a prefix of "'+u+'", command not registered');bm[u]=m,Yi.commandMap_[d]={name:u,shortName:d,type:"api"}},handleKey:function(u,d,m){var O=this.findKey(u,d,m);if(typeof O=="function")return O()},multiSelectHandleKey:_k,findKey:function(u,d,m){var O=Fe(u);function S(){var L=ie.macroModeState;if(L.isRecording){if(d=="q")return L.exitMacroRecordMode(),wt(u),!0;m!="mapping"&&Ak(L,d)}}function b(){if(d=="<Esc>"){if(O.visualMode)on(u);else if(O.insertMode)es(u);else return;return wt(u),!0}}function C(){if(b())return!0;O.inputState.keyBuffer.push(d);var L=O.inputState.keyBuffer.join(""),R=d.length==1,j=Qn.matchCommand(L,s,O.inputState,"insert"),G=O.inputState.changeQueue;if(j.type=="none")return wt(u),!1;if(j.type=="partial"){if(Qe&&window.clearTimeout(Qe),Qe=R&&window.setTimeout(function(){O.insertMode&&O.inputState.keyBuffer.length&&wt(u)},xe("insertModeEscKeysTimeout")),R){var U=u.listSelections();(!G||G.removed.length!=U.length)&&(G=O.inputState.changeQueue=new Nc),G.inserted+=d;for(var Z=0;Z<U.length;Z++){var re=Oi(U[Z].anchor,U[Z].head),J=Kn(U[Z].anchor,U[Z].head),ve=u.getRange(re,u.state.overwrite?Mt(J,0,1):J);G.removed[Z]=(G.removed[Z]||"")+ve}}return!R}if(Qe&&window.clearTimeout(Qe),j.command&&G){for(var U=u.listSelections(),Z=0;Z<U.length;Z++){var be=U[Z].head;u.replaceRange(G.removed[Z]||"",Mt(be,0,-G.inserted.length),be,"+input")}ie.macroModeState.lastInsertModeChanges.changes.pop()}return j.command||wt(u),j.command}function I(){if(S()||b())return!0;O.inputState.keyBuffer.push(d);var L=O.inputState.keyBuffer.join("");if(/^[1-9]\d*$/.test(L))return!0;var R=/^(\d*)(.*)$/.exec(L);if(!R)return wt(u),!1;var j=O.visualMode?"visual":"normal",G=R[2]||R[1];O.inputState.operatorShortcut&&O.inputState.operatorShortcut.slice(-1)==G&&(G=O.inputState.operatorShortcut);var U=Qn.matchCommand(G,s,O.inputState,j);return U.type=="none"?(wt(u),!1):U.type=="partial"?!0:U.type=="clear"?(wt(u),!0):(O.inputState.keyBuffer.length=0,R=/^(\d*)(.*)$/.exec(L),R[1]&&R[1]!="0"&&O.inputState.pushRepeatDigit(R[1]),U.command)}var A;return O.insertMode?A=C():A=I(),A===!1?!O.insertMode&&d.length===1?function(){return!0}:void 0:A===!0?function(){return!0}:function(){return u.operation(function(){u.curOp.isVimOp=!0;try{A.type=="keyToKey"?Ai(u,A.toKeys,A):Qn.processCommand(u,O,A)}catch(L){throw u.state.vim=void 0,Fe(u),We.suppressErrorLogging||console.log(L),L}return!0})}},handleEx:function(u,d){Yi.processCommand(u,d)},defineMotion:Ua,defineAction:Yw,defineOperator:Dc,mapCommand:Pk,_mapCommand:wm,defineRegister:cr,exitVisualMode:on,exitInsertMode:es},Xt=[],rn=!1;function Ai(u,d,m){if(m){if(Xt.indexOf(m)!=-1)return;Xt.push(m),rn=m.noremap}try{for(var O=Fe(u),S=/<(?:[CSMA]-)*\w+>|./gi,b;b=S.exec(d);){var C=b[0],I=O.insertMode,A=We.handleKey(u,C,"mapping");if(!A&&I&&O.insertMode){if(C[0]=="<"){var R=C.toLowerCase().slice(1,-1),L=R.split("-"),R=L.pop();if(R=="lt")C="<";else if(R=="space")C=" ";else if(R=="cr")C=`
`;else if(y.hasOwnProperty(R)){C=y[R],Am(u,C);continue}else C=C[0],S.lastIndex=b.index+1}u.replaceSelection(C)}}}finally{rn=!1,Xt.length=0}}function Hn(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null,this.changeQueue=null}Hn.prototype.pushRepeatDigit=function(u){this.operator?this.motionRepeat=this.motionRepeat.concat(u):this.prefixRepeat=this.prefixRepeat.concat(u)},Hn.prototype.getRepeat=function(){var u=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(u=1,this.prefixRepeat.length>0&&(u*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(u*=parseInt(this.motionRepeat.join(""),10))),u};function wt(u,d){u.state.vim.inputState=new Hn,i.signal(u,"vim-command-done",d)}function Nc(){this.removed=[],this.inserted=""}function gi(u,d,m){this.clear(),this.keyBuffer=[u||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!d,this.blockwise=!!m}gi.prototype={setText:function(u,d,m){this.keyBuffer=[u||""],this.linewise=!!d,this.blockwise=!!m},pushText:function(u,d){d&&(this.linewise||this.keyBuffer.push(`
`),this.linewise=!0),this.keyBuffer.push(u)},pushInsertModeChanges:function(u){this.insertModeChanges.push(Ue(u))},pushSearchQuery:function(u){this.searchQueries.push(u)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}};function cr(u,d){var m=ie.registerController.registers;if(!u||u.length!=1)throw Error("Register name must be 1 character");if(m[u])throw Error("Register already defined "+u);m[u]=d,M.push(u)}function Gt(u){this.registers=u,this.unnamedRegister=u['"']=new gi,u["."]=new gi,u[":"]=new gi,u["/"]=new gi,u["+"]=new gi}Gt.prototype={pushText:function(u,d,m,O,S){if(u!=="_"){O&&m.charAt(m.length-1)!==`
`&&(m+=`
`);var b=this.isValidRegister(u)?this.getRegister(u):null;if(!b){switch(d){case"yank":this.registers[0]=new gi(m,O,S);break;case"delete":case"change":m.indexOf(`
`)==-1?this.registers["-"]=new gi(m,O):(this.shiftNumericRegisters_(),this.registers[1]=new gi(m,O));break}this.unnamedRegister.setText(m,O,S);return}var C=H(u);C?b.pushText(m,O):b.setText(m,O,S),u==="+"&&navigator.clipboard.writeText(m),this.unnamedRegister.setText(b.toString(),O)}},getRegister:function(u){return this.isValidRegister(u)?(u=u.toLowerCase(),this.registers[u]||(this.registers[u]=new gi),this.registers[u]):this.unnamedRegister},isValidRegister:function(u){return u&&te(u,M)},shiftNumericRegisters_:function(){for(var u=9;u>=2;u--)this.registers[u]=this.getRegister(""+(u-1))}};function Es(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}Es.prototype={nextMatch:function(u,d){var m=this.historyBuffer,O=d?-1:1;this.initialPrefix===null&&(this.initialPrefix=u);for(var S=this.iterator+O;d?S>=0:S<m.length;S+=O)for(var b=m[S],C=0;C<=b.length;C++)if(this.initialPrefix==b.substring(0,C))return this.iterator=S,b;if(S>=m.length)return this.iterator=m.length,this.initialPrefix;if(S<0)return u},pushInput:function(u){var d=this.historyBuffer.indexOf(u);d>-1&&this.historyBuffer.splice(d,1),u.length&&this.historyBuffer.push(u)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var Qn={matchCommand:function(u,d,m,O){var S=Gw(u,d,O,m);if(!S.full&&!S.partial)return{type:"none"};if(!S.full&&S.partial)return{type:"partial"};for(var b,C=0;C<S.full.length;C++){var I=S.full[C];b||(b=I)}if(b.keys.slice(-11)=="<character>"){var A=Hw(u);if(!A||A.length>1)return{type:"clear"};m.selectedCharacter=A}return{type:"full",command:b}},processCommand:function(u,d,m){switch(d.inputState.repeatOverride=m.repeatOverride,m.type){case"motion":this.processMotion(u,d,m);break;case"operator":this.processOperator(u,d,m);break;case"operatorMotion":this.processOperatorMotion(u,d,m);break;case"action":this.processAction(u,d,m);break;case"search":this.processSearch(u,d,m);break;case"ex":case"keyToEx":this.processEx(u,d,m);break}},processMotion:function(u,d,m){d.inputState.motion=m.motion,d.inputState.motionArgs=Fa(m.motionArgs),this.evalInput(u,d)},processOperator:function(u,d,m){var O=d.inputState;if(O.operator)if(O.operator==m.operator){O.motion="expandToLine",O.motionArgs={linewise:!0},this.evalInput(u,d);return}else wt(u);O.operator=m.operator,O.operatorArgs=Fa(m.operatorArgs),m.keys.length>1&&(O.operatorShortcut=m.keys),m.exitVisualBlock&&(d.visualBlock=!1,fr(u)),d.visualMode&&this.evalInput(u,d)},processOperatorMotion:function(u,d,m){var O=d.visualMode,S=Fa(m.operatorMotionArgs);S&&O&&S.visualLine&&(d.visualLine=!0),this.processOperator(u,d,m),O||this.processMotion(u,d,m)},processAction:function(u,d,m){var O=d.inputState,S=O.getRepeat(),b=!!S,C=Fa(m.actionArgs)||{};O.selectedCharacter&&(C.selectedCharacter=O.selectedCharacter),m.operator&&this.processOperator(u,d,m),m.motion&&this.processMotion(u,d,m),(m.motion||m.operator)&&this.evalInput(u,d),C.repeat=S||1,C.repeatIsExplicit=b,C.registerName=O.registerName,wt(u),d.lastMotion=null,m.isEdit&&this.recordLastEdit(d,O,m),ur[m.action](u,C,d)},processSearch:function(u,d,m){if(!u.getSearchCursor)return;var O=m.searchArgs.forward,S=m.searchArgs.wholeWordOnly;an(u).setReversed(!O);var b=O?"/":"?",C=an(u).getQuery(),I=u.getScrollInfo();function A(J,ve,be){ie.searchHistoryController.pushInput(J),ie.searchHistoryController.reset();try{co(u,J,ve,be)}catch{Ye(u,"Invalid regex: "+J),wt(u);return}Qn.processMotion(u,d,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:m.searchArgs.toJumplist}})}function L(J){u.scrollTo(I.left,I.top),A(J,!0,!0);var ve=ie.macroModeState;ve.isRecording&&Mk(ve,J)}function R(J,ve,be){var Oe=i.keyName(J),et,qt;Oe=="Up"||Oe=="Down"?(et=Oe=="Up",qt=J.target?J.target.selectionEnd:0,ve=ie.searchHistoryController.nextMatch(ve,et)||"",be(ve),qt&&J.target&&(J.target.selectionEnd=J.target.selectionStart=Math.min(qt,J.target.value.length))):Oe!="Left"&&Oe!="Right"&&Oe!="Ctrl"&&Oe!="Alt"&&Oe!="Shift"&&ie.searchHistoryController.reset();var pt;try{pt=co(u,ve,!0,!0)}catch{}pt?u.scrollIntoView(vm(u,!O,pt),30):(zc(u),u.scrollTo(I.left,I.top))}function j(J,ve,be){var Oe=i.keyName(J);Oe=="Esc"||Oe=="Ctrl-C"||Oe=="Ctrl-["||Oe=="Backspace"&&ve==""?(ie.searchHistoryController.pushInput(ve),ie.searchHistoryController.reset(),co(u,C),zc(u),u.scrollTo(I.left,I.top),i.e_stop(J),wt(u),be(),u.focus()):Oe=="Up"||Oe=="Down"?i.e_stop(J):Oe=="Ctrl-U"&&(i.e_stop(J),be(""))}switch(m.searchArgs.querySrc){case"prompt":var G=ie.macroModeState;if(G.isPlaying){var re=G.replaySearchQueries.shift();A(re,!0,!1)}else Ya(u,{onClose:L,prefix:b,desc:"(JavaScript regexp)",onKeyUp:R,onKeyDown:j});break;case"wordUnderCursor":var U=Wa(u,!1,!1,!1,!0),Z=!0;if(U||(U=Wa(u,!1,!1,!1,!1),Z=!1),!U)return;var re=u.getLine(U.start.line).substring(U.start.ch,U.end.ch);Z&&S?re="\\b"+re+"\\b":re=Kw(re),ie.jumpList.cachedCursor=u.getCursor(),u.setCursor(U.start),A(re,!0,!1);break}},processEx:function(u,d,m){function O(b){ie.exCommandHistoryController.pushInput(b),ie.exCommandHistoryController.reset(),Yi.processCommand(u,b),u.state.vim&&wt(u)}function S(b,C,I){var A=i.keyName(b),L,R;(A=="Esc"||A=="Ctrl-C"||A=="Ctrl-["||A=="Backspace"&&C=="")&&(ie.exCommandHistoryController.pushInput(C),ie.exCommandHistoryController.reset(),i.e_stop(b),wt(u),I(),u.focus()),A=="Up"||A=="Down"?(i.e_stop(b),L=A=="Up",R=b.target?b.target.selectionEnd:0,C=ie.exCommandHistoryController.nextMatch(C,L)||"",I(C),R&&b.target&&(b.target.selectionEnd=b.target.selectionStart=Math.min(R,b.target.value.length))):A=="Ctrl-U"?(i.e_stop(b),I("")):A!="Left"&&A!="Right"&&A!="Ctrl"&&A!="Alt"&&A!="Shift"&&ie.exCommandHistoryController.reset()}m.type=="keyToEx"?Yi.processCommand(u,m.exArgs.input):d.visualMode?Ya(u,{onClose:O,prefix:":",value:"'<,'>",onKeyDown:S,selectValueOnOpen:!1}):Ya(u,{onClose:O,prefix:":",onKeyDown:S})},evalInput:function(u,d){var m=d.inputState,O=m.motion,S=m.motionArgs||{},b=m.operator,C=m.operatorArgs||{},I=m.registerName,A=d.sel,L=Ge(d.visualMode?ti(u,A.head):u.getCursor("head")),R=Ge(d.visualMode?ti(u,A.anchor):u.getCursor("anchor")),j=Ge(L),G=Ge(R),U,Z,re;if(b&&this.recordLastEdit(d,m),m.repeatOverride!==void 0?re=m.repeatOverride:re=m.getRepeat(),re>0&&S.explicitRepeat?S.repeatIsExplicit=!0:(S.noRepeat||!S.explicitRepeat&&re===0)&&(re=1,S.repeatIsExplicit=!1),m.selectedCharacter&&(S.selectedCharacter=C.selectedCharacter=m.selectedCharacter),S.repeat=re,wt(u),O){var J=Wi[O](u,L,S,d,m);if(d.lastMotion=Wi[O],!J)return;if(S.toJumplist){var ve=ie.jumpList,be=ve.cachedCursor;be?(om(u,be,J),delete ve.cachedCursor):om(u,L,J)}J instanceof Array?(Z=J[0],U=J[1]):U=J,U||(U=Ge(L)),d.visualMode?(d.visualBlock&&U.ch===1/0||(U=ti(u,U,j)),Z&&(Z=ti(u,Z)),Z=Z||G,A.anchor=Z,A.head=U,fr(u),Ln(u,d,"<",dt(Z,U)?Z:U),Ln(u,d,">",dt(Z,U)?U:Z)):b||(U=ti(u,U,j),u.setCursor(U.line,U.ch))}if(b){if(C.lastSel){Z=G;var Oe=C.lastSel,et=Math.abs(Oe.head.line-Oe.anchor.line),qt=Math.abs(Oe.head.ch-Oe.anchor.ch);Oe.visualLine?U=new e(G.line+et,G.ch):Oe.visualBlock?U=new e(G.line+et,G.ch+qt):Oe.head.line==Oe.anchor.line?U=new e(G.line,G.ch+qt):U=new e(G.line+et,G.ch),d.visualMode=!0,d.visualLine=Oe.visualLine,d.visualBlock=Oe.visualBlock,A=d.sel={anchor:Z,head:U},fr(u)}else d.visualMode&&(C.lastSel={anchor:Ge(A.anchor),head:Ge(A.head),visualBlock:d.visualBlock,visualLine:d.visualLine});var pt,Vt,Ne,Xe,ii;if(d.visualMode){pt=Oi(A.head,A.anchor),Vt=Kn(A.head,A.anchor),Ne=d.visualLine||C.linewise,Xe=d.visualBlock?"block":Ne?"line":"char";var _t=n(u,pt,Vt);if(ii=Bc(u,{anchor:_t.start,head:_t.end},Xe),Ne){var Tt=ii.ranges;if(Xe=="block")for(var ts=0;ts<Tt.length;ts++)Tt[ts].head.ch=zt(u,Tt[ts].head.line);else Xe=="line"&&(Tt[0].head=new e(Tt[0].head.line+1,0))}}else{if(pt=Ge(Z||G),Vt=Ge(U||j),dt(Vt,pt)){var Tk=pt;pt=Vt,Vt=Tk}Ne=S.linewise||C.linewise,Ne?rk(u,pt,Vt):S.forward&&sk(u,pt,Vt),Xe="char";var Qk=!S.inclusive||Ne,_t=n(u,pt,Vt);ii=Bc(u,{anchor:_t.start,head:_t.end},Xe,Qk)}u.setSelections(ii.ranges,ii.primary),d.lastMotion=null,C.repeat=re,C.registerName=I,C.linewise=Ne;var Fc=ho[b](u,C,ii.ranges,G,U);d.visualMode&&on(u,Fc!=null),Fc&&u.setCursor(Fc)}},recordLastEdit:function(u,d,m){var O=ie.macroModeState;O.isPlaying||(u.lastEditInputState=d,u.lastEditActionCommand=m,O.lastInsertModeChanges.changes=[],O.lastInsertModeChanges.expectCursorActivityForChange=!1,O.lastInsertModeChanges.visualBlock=u.visualBlock?u.sel.head.line-u.sel.anchor.line:0)}},Wi={moveToTopLine:function(u,d,m){var O=Zc(u).top+m.repeat-1;return new e(O,Rn(u.getLine(O)))},moveToMiddleLine:function(u){var d=Zc(u),m=Math.floor((d.top+d.bottom)*.5);return new e(m,Rn(u.getLine(m)))},moveToBottomLine:function(u,d,m){var O=Zc(u).bottom-m.repeat+1;return new e(O,Rn(u.getLine(O)))},expandToLine:function(u,d,m){var O=d;return new e(O.line+m.repeat-1,1/0)},findNext:function(u,d,m){var O=an(u),S=O.getQuery();if(S){var b=!m.forward;return b=O.isReversed()?!b:b,ym(u,S),vm(u,b,S,m.repeat)}},findAndSelectNextInclusive:function(u,d,m,O,S){var b=an(u),C=b.getQuery();if(C){var I=!m.forward;I=b.isReversed()?!I:I;var A=kk(u,I,C,m.repeat,O);if(A){if(S.operator)return A;var L=A[0],R=new e(A[1].line,A[1].ch-1);if(O.visualMode){(O.visualLine||O.visualBlock)&&(O.visualLine=!1,O.visualBlock=!1,i.signal(u,"vim-mode-change",{mode:"visual",subMode:""}));var j=O.sel.anchor;if(j)return b.isReversed()?m.forward?[j,L]:[j,R]:m.forward?[j,R]:[j,L]}else O.visualMode=!0,O.visualLine=!1,O.visualBlock=!1,i.signal(u,"vim-mode-change",{mode:"visual",subMode:""});return I?[R,L]:[L,R]}}},goToMark:function(u,d,m,O){var S=qa(u,O,m.selectedCharacter);return S?m.linewise?{line:S.line,ch:Rn(u.getLine(S.line))}:S:null},moveToOtherHighlightedEnd:function(u,d,m,O){if(O.visualBlock&&m.sameLine){var S=O.sel;return[ti(u,new e(S.anchor.line,S.head.ch)),ti(u,new e(S.head.line,S.anchor.ch))]}else return[O.sel.head,O.sel.anchor]},jumpToMark:function(u,d,m,O){for(var S=d,b=0;b<m.repeat;b++){var C=S;for(var I in O.marks)if(q(I)){var A=O.marks[I].find(),L=m.forward?dt(A,C):dt(C,A);if(!L&&!(m.linewise&&A.line==C.line)){var R=Ii(C,S),j=m.forward?im(C,A,S):im(S,A,C);(R||j)&&(S=A)}}}return m.linewise&&(S=new e(S.line,Rn(u.getLine(S.line)))),S},moveByCharacters:function(u,d,m){var O=d,S=m.repeat,b=m.forward?O.ch+S:O.ch-S;return new e(O.line,b)},moveByLines:function(u,d,m,O){var S=d,b=S.ch;switch(O.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:b=O.lastHPos;break;default:O.lastHPos=b}var C=m.repeat+(m.repeatOffset||0),I=m.forward?S.line+C:S.line-C,A=u.firstLine(),L=u.lastLine(),R=u.findPosV(S,m.forward?C:-C,"line",O.lastHSPos),j=m.forward?R.line>I:R.line<I;return j&&(I=R.line,b=R.ch),I<A&&S.line==A?this.moveToStartOfLine(u,d,m,O):I>L&&S.line==L?hm(u,d,m,O,!0):(m.toFirstChar&&(b=Rn(u.getLine(I)),O.lastHPos=b),O.lastHSPos=u.charCoords(new e(I,b),"div").left,new e(I,b))},moveByDisplayLines:function(u,d,m,O){var S=d;switch(O.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:O.lastHSPos=u.charCoords(S,"div").left}var b=m.repeat,C=u.findPosV(S,m.forward?b:-b,"line",O.lastHSPos);if(C.hitSide)if(m.forward)var I=u.charCoords(C,"div"),A={top:I.top+8,left:O.lastHSPos},C=u.coordsChar(A,"div");else{var L=u.charCoords(new e(u.firstLine(),0),"div");L.left=O.lastHSPos,C=u.coordsChar(L,"div")}return O.lastHPos=C.ch,C},moveByPage:function(u,d,m){var O=d,S=m.repeat;return u.findPosV(O,m.forward?S:-S,"page")},moveByParagraph:function(u,d,m){var O=m.forward?1:-1;return cm(u,d,m.repeat,O)},moveBySentence:function(u,d,m){var O=m.forward?1:-1;return dk(u,d,m.repeat,O)},moveByScroll:function(u,d,m,O){var S=u.getScrollInfo(),b=null,C=m.repeat;C||(C=S.clientHeight/(2*u.defaultTextHeight()));var I=u.charCoords(d,"local");if(m.repeat=C,b=Wi.moveByDisplayLines(u,d,m,O),!b)return null;var A=u.charCoords(b,"local");return u.scrollTo(null,S.top+A.top-I.top),b},moveByWords:function(u,d,m){return ck(u,d,m.repeat,!!m.forward,!!m.wordEnd,!!m.bigWord)},moveTillCharacter:function(u,d,m){var O=m.repeat,S=Xc(u,O,m.forward,m.selectedCharacter,d),b=m.forward?-1:1;return am(b,m),S?(S.ch+=b,S):null},moveToCharacter:function(u,d,m){var O=m.repeat;return am(0,m),Xc(u,O,m.forward,m.selectedCharacter,d)||d},moveToSymbol:function(u,d,m){var O=m.repeat;return lk(u,O,m.forward,m.selectedCharacter)||d},moveToColumn:function(u,d,m,O){var S=m.repeat;return O.lastHPos=S-1,O.lastHSPos=u.charCoords(d,"div").left,uk(u,S)},moveToEol:function(u,d,m,O){return hm(u,d,m,O,!1)},moveToFirstNonWhiteSpaceCharacter:function(u,d){var m=d;return new e(m.line,Rn(u.getLine(m.line)))},moveToMatchedSymbol:function(u,d){for(var m=d,O=m.line,S=m.ch,b=u.getLine(O),C;S<b.length;S++)if(C=b.charAt(S),C&&ee(C)){var I=u.getTokenTypeAt(new e(O,S+1));if(I!=="string"&&I!=="comment")break}if(S<b.length){var A=S==="<"||S===">"?/[(){}[\]<>]/:/[(){}[\]]/,L=u.findMatchingBracket(new e(O,S),{bracketRegex:A});return L.to}else return m},moveToStartOfLine:function(u,d){return new e(d.line,0)},moveToLineOrEdgeOfDocument:function(u,d,m){var O=m.forward?u.lastLine():u.firstLine();return m.repeatIsExplicit&&(O=m.repeat-u.getOption("firstLineNumber")),new e(O,Rn(u.getLine(O)))},moveToStartOfDisplayLine:function(u){return u.execCommand("goLineLeft"),u.getCursor()},moveToEndOfDisplayLine:function(u){u.execCommand("goLineRight");var d=u.getCursor();return d.sticky=="before"&&d.ch--,d},textObjectManipulation:function(u,d,m,O){var S={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},b={"'":!0,'"':!0,"`":!0},C=m.selectedCharacter;C=="b"?C="(":C=="B"&&(C="{");var I=!m.textObjectInner,A,L;if(S[C]){if(L=!0,A=fm(u,d,C,I),!A){var R=u.getSearchCursor(new RegExp("\\"+C,"g"),d);R.find()&&(A=fm(u,R.from(),C,I))}}else if(b[C])L=!0,A=pk(u,d,C,I);else if(C==="W")A=Wa(u,I,!I,!0);else if(C==="w")A=Wa(u,I,!I,!1);else if(C==="p")if(A=cm(u,d,m.repeat,0,I),m.linewise=!0,O.visualMode)O.visualLine||(O.visualLine=!0);else{var j=O.inputState.operatorArgs;j&&(j.linewise=!0),A.end.line--}else if(C==="t")A=ok(u,d,I);else if(C==="s"){var G=u.getLine(d.line);d.ch>0&&Y(G[d.ch])&&(d.ch-=1);var U=um(u,d,m.repeat,1,I),Z=um(u,d,m.repeat,-1,I);X(u.getLine(Z.line)[Z.ch])&&X(u.getLine(U.line)[U.ch-1])&&(Z={line:Z.line,ch:Z.ch+1}),A={start:Z,end:U}}return A?u.state.vim.visualMode?ik(u,A.start,A.end,L):[A.start,A.end]:null},repeatLastCharacterSearch:function(u,d,m){var O=ie.lastCharacterSearch,S=m.repeat,b=m.forward===O.forward,C=(O.increment?1:0)*(b?-1:1);u.moveH(-C,"char"),m.inclusive=!!b;var I=Xc(u,S,b,O.selectedCharacter);return I?(I.ch+=C,I):(u.moveH(C,"char"),d)}};function Ua(u,d){Wi[u]=d}function ja(u,d){for(var m=[],O=0;O<d;O++)m.push(u);return m}var ho={change:function(u,d,m){var O,S,b=u.state.vim,C=m[0].anchor,I=m[0].head;if(b.visualMode)if(d.fullLine)I.ch=Number.MAX_VALUE,I.line--,u.setSelection(C,I),S=u.getSelection(),u.replaceSelection(""),O=C;else{S=u.getSelection();var G=ja("",m.length);u.replaceSelections(G),O=Oi(m[0].head,m[0].anchor)}else{S=u.getRange(C,I);var A=b.lastEditInputState||{};if(A.motion=="moveByWords"&&!X(S)){var L=/\s+$/.exec(S);L&&A.motionArgs&&A.motionArgs.forward&&(I=Mt(I,0,-L[0].length),S=S.slice(0,-L[0].length))}var R=new e(C.line-1,Number.MAX_VALUE),j=u.firstLine()==u.lastLine();I.line>u.lastLine()&&d.linewise&&!j?u.replaceRange("",R,I):u.replaceRange("",C,I),d.linewise&&(j||(u.setCursor(R),i.commands.newlineAndIndent(u)),C.ch=Number.MAX_VALUE),O=C}ie.registerController.pushText(d.registerName,"change",S,d.linewise,m.length>1),ur.enterInsertMode(u,{head:O},u.state.vim)},delete:function(u,d,m){var O,S,b=u.state.vim;if(b.visualBlock){S=u.getSelection();var A=ja("",m.length);u.replaceSelections(A),O=Oi(m[0].head,m[0].anchor)}else{var C=m[0].anchor,I=m[0].head;d.linewise&&I.line!=u.firstLine()&&C.line==u.lastLine()&&C.line==I.line-1&&(C.line==u.firstLine()?C.ch=0:C=new e(C.line-1,zt(u,C.line-1))),S=u.getRange(C,I),u.replaceRange("",C,I),O=C,d.linewise&&(O=Wi.moveToFirstNonWhiteSpaceCharacter(u,C))}return ie.registerController.pushText(d.registerName,"delete",S,d.linewise,b.visualBlock),ti(u,O)},indent:function(u,d,m){var O=u.state.vim;if(u.indentMore)for(var S=O.visualMode?d.repeat:1,b=0;b<S;b++)d.indentRight?u.indentMore():u.indentLess();else{var C=m[0].anchor.line,I=O.visualBlock?m[m.length-1].anchor.line:m[0].head.line,S=O.visualMode?d.repeat:1;d.linewise&&I--;for(var A=C;A<=I;A++)for(var b=0;b<S;b++)u.indentLine(A,d.indentRight)}return Wi.moveToFirstNonWhiteSpaceCharacter(u,m[0].anchor)},indentAuto:function(u,d,m){return u.execCommand("indentAuto"),Wi.moveToFirstNonWhiteSpaceCharacter(u,m[0].anchor)},changeCase:function(u,d,m,O,S){for(var b=u.getSelections(),C=[],I=d.toLower,A=0;A<b.length;A++){var L=b[A],R="";if(I===!0)R=L.toLowerCase();else if(I===!1)R=L.toUpperCase();else for(var j=0;j<L.length;j++){var G=L.charAt(j);R+=H(G)?G.toLowerCase():G.toUpperCase()}C.push(R)}return u.replaceSelections(C),d.shouldMoveCursor?S:!u.state.vim.visualMode&&d.linewise&&m[0].anchor.line+1==m[0].head.line?Wi.moveToFirstNonWhiteSpaceCharacter(u,O):d.linewise?O:Oi(m[0].anchor,m[0].head)},yank:function(u,d,m,O){var S=u.state.vim,b=u.getSelection(),C=S.visualMode?Oi(S.sel.anchor,S.sel.head,m[0].head,m[0].anchor):O;return ie.registerController.pushText(d.registerName,"yank",b,d.linewise,S.visualBlock),C}};function Dc(u,d){ho[u]=d}var ur={jumpListWalk:function(u,d,m){if(!m.visualMode){var O=d.repeat,S=d.forward,b=ie.jumpList,C=b.move(u,S?O:-O),I=C?C.find():void 0;I=I||u.getCursor(),u.setCursor(I)}},scroll:function(u,d,m){if(!m.visualMode){var O=d.repeat||1,S=u.defaultTextHeight(),b=u.getScrollInfo().top,C=S*O,I=d.forward?b+C:b-C,A=Ge(u.getCursor()),L=u.charCoords(A,"local");if(d.forward)I>L.top?(A.line+=(I-L.top)/S,A.line=Math.ceil(A.line),u.setCursor(A),L=u.charCoords(A,"local"),u.scrollTo(null,L.top)):u.scrollTo(null,I);else{var R=I+u.getScrollInfo().clientHeight;R<L.bottom?(A.line-=(L.bottom-R)/S,A.line=Math.floor(A.line),u.setCursor(A),L=u.charCoords(A,"local"),u.scrollTo(null,L.bottom-u.getScrollInfo().clientHeight)):u.scrollTo(null,I)}}},scrollToCursor:function(u,d){var m=u.getCursor().line,O=u.charCoords(new e(m,0),"local"),S=u.getScrollInfo().clientHeight,b=O.top;switch(d.position){case"center":b=O.bottom-S/2;break;case"bottom":var C=new e(m,u.getLine(m).length-1),I=u.charCoords(C,"local"),A=I.bottom-b;b=b-S+A;break}u.scrollTo(null,b)},replayMacro:function(u,d,m){var O=d.selectedCharacter,S=d.repeat,b=ie.macroModeState;for(O=="@"?O=b.latestRegister:b.latestRegister=O;S--;)Ek(u,m,b,O)},enterMacroRecordMode:function(u,d){var m=ie.macroModeState,O=d.selectedCharacter;ie.registerController.isValidRegister(O)&&m.enterMacroRecordMode(u,O)},toggleOverwrite:function(u){u.state.overwrite?(u.toggleOverwrite(!1),u.setOption("keyMap","vim-insert"),i.signal(u,"vim-mode-change",{mode:"insert"})):(u.toggleOverwrite(!0),u.setOption("keyMap","vim-replace"),i.signal(u,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(u,d,m){if(!u.getOption("readOnly")){m.insertMode=!0,m.insertModeRepeat=d&&d.repeat||1;var O=d?d.insertAt:null,S=m.sel,b=d.head||u.getCursor("head"),C=u.listSelections().length;if(O=="eol")b=new e(b.line,zt(u,b.line));else if(O=="bol")b=new e(b.line,0);else if(O=="charAfter"){var I=n(u,b,Mt(b,0,1));b=I.end}else if(O=="firstNonBlank"){var I=n(u,b,Wi.moveToFirstNonWhiteSpaceCharacter(u,b));b=I.end}else if(O=="startOfSelectedArea"){if(!m.visualMode)return;m.visualBlock?(b=new e(Math.min(S.head.line,S.anchor.line),Math.min(S.head.ch,S.anchor.ch)),C=Math.abs(S.head.line-S.anchor.line)+1):S.head.line<S.anchor.line?b=S.head:b=new e(S.anchor.line,0)}else if(O=="endOfSelectedArea"){if(!m.visualMode)return;m.visualBlock?(b=new e(Math.min(S.head.line,S.anchor.line),Math.max(S.head.ch,S.anchor.ch)+1),C=Math.abs(S.head.line-S.anchor.line)+1):S.head.line>=S.anchor.line?b=Mt(S.head,0,1):b=new e(S.anchor.line,0)}else if(O=="inplace"){if(m.visualMode)return}else O=="lastEdit"&&(b=xm(u)||b);u.setOption("disableInput",!1),d&&d.replace?(u.toggleOverwrite(!0),u.setOption("keyMap","vim-replace"),i.signal(u,"vim-mode-change",{mode:"replace"})):(u.toggleOverwrite(!1),u.setOption("keyMap","vim-insert"),i.signal(u,"vim-mode-change",{mode:"insert"})),ie.macroModeState.isPlaying||(u.on("change",km),m.insertEnd&&m.insertEnd.clear(),m.insertEnd=u.setBookmark(b,{insertLeft:!0}),i.on(u.getInputField(),"keydown",Pm)),m.visualMode&&on(u),sm(u,b,C)}},toggleVisualMode:function(u,d,m){var O=d.repeat,S=u.getCursor(),b;if(m.visualMode)m.visualLine^d.linewise||m.visualBlock^d.blockwise?(m.visualLine=!!d.linewise,m.visualBlock=!!d.blockwise,i.signal(u,"vim-mode-change",{mode:"visual",subMode:m.visualLine?"linewise":m.visualBlock?"blockwise":""}),fr(u)):on(u);else{m.visualMode=!0,m.visualLine=!!d.linewise,m.visualBlock=!!d.blockwise,b=ti(u,new e(S.line,S.ch+O-1));var C=n(u,S,b);m.sel={anchor:C.start,head:C.end},i.signal(u,"vim-mode-change",{mode:"visual",subMode:m.visualLine?"linewise":m.visualBlock?"blockwise":""}),fr(u),Ln(u,m,"<",Oi(S,b)),Ln(u,m,">",Kn(S,b))}},reselectLastSelection:function(u,d,m){var O=m.lastSelection;if(m.visualMode&&rm(u,m),O){var S=O.anchorMark.find(),b=O.headMark.find();if(!S||!b)return;m.sel={anchor:S,head:b},m.visualMode=!0,m.visualLine=O.visualLine,m.visualBlock=O.visualBlock,fr(u),Ln(u,m,"<",Oi(S,b)),Ln(u,m,">",Kn(S,b)),i.signal(u,"vim-mode-change",{mode:"visual",subMode:m.visualLine?"linewise":m.visualBlock?"blockwise":""})}},joinLines:function(u,d,m){var O,S;if(m.visualMode){if(O=u.getCursor("anchor"),S=u.getCursor("head"),dt(S,O)){var b=S;S=O,O=b}S.ch=zt(u,S.line)-1}else{var C=Math.max(d.repeat,2);O=u.getCursor(),S=ti(u,new e(O.line+C-1,1/0))}for(var I=0,A=O.line;A<S.line;A++){I=zt(u,O.line);var L="",R=0;if(!d.keepSpaces){var j=u.getLine(O.line+1);R=j.search(/\S/),R==-1?R=j.length:L=" "}u.replaceRange(L,new e(O.line,I),new e(O.line+1,R))}var G=ti(u,new e(O.line,I));m.visualMode&&on(u,!1),u.setCursor(G)},newLineAndEnterInsertMode:function(u,d,m){m.insertMode=!0;var O=Ge(u.getCursor());if(O.line===u.firstLine()&&!d.after)u.replaceRange(`
`,new e(u.firstLine(),0)),u.setCursor(u.firstLine(),0);else{O.line=d.after?O.line:O.line-1,O.ch=zt(u,O.line),u.setCursor(O);var S=i.commands.newlineAndIndentContinueComment||i.commands.newlineAndIndent;S(u)}this.enterInsertMode(u,{repeat:d.repeat},m)},paste:function(u,d,m){var O=ie.registerController.getRegister(d.registerName);if(d.registerName==="+")navigator.clipboard.readText().then(b=>{this.continuePaste(u,d,m,b,O)});else{var S=O.toString();this.continuePaste(u,d,m,S,O)}},continuePaste:function(u,d,m,O,S){var b=Ge(u.getCursor());if(O){if(d.matchIndent){var C=u.getOption("tabSize"),I=function(_t){var Tt=_t.split("	").length-1,ts=_t.split(" ").length-1;return Tt*C+ts*1},A=u.getLine(u.getCursor().line),L=I(A.match(/^\s*/)[0]),R=O.replace(/\n$/,""),j=O!==R,G=I(O.match(/^\s*/)[0]),O=R.replace(/^\s*/gm,function(_t){var Tt=L+(I(_t)-G);if(Tt<0)return"";if(u.getOption("indentWithTabs")){var ts=Math.floor(Tt/C);return Array(ts+1).join("	")}else return Array(Tt+1).join(" ")});O+=j?`
`:""}if(d.repeat>1)var O=Array(d.repeat+1).join(O);var U=S.linewise,Z=S.blockwise;if(Z){O=O.split(`
`),U&&O.pop();for(var re=0;re<O.length;re++)O[re]=O[re]==""?" ":O[re];b.ch+=d.after?1:0,b.ch=Math.min(zt(u,b.line),b.ch)}else U?m.visualMode?O=m.visualLine?O.slice(0,-1):`
`+O.slice(0,O.length-1)+`
`:d.after?(O=`
`+O.slice(0,O.length-1),b.ch=zt(u,b.line)):b.ch=0:b.ch+=d.after?1:0;var J;if(m.visualMode){m.lastPastedText=O;var ve,be=tk(u,m),Oe=be[0],et=be[1],qt=u.getSelection(),pt=u.listSelections(),Vt=new Array(pt.length).join("1").split("1");m.lastSelection&&(ve=m.lastSelection.headMark.find()),ie.registerController.unnamedRegister.setText(qt),Z?(u.replaceSelections(Vt),et=new e(Oe.line+O.length-1,Oe.ch),u.setCursor(Oe),nm(u,et),u.replaceSelections(O),J=Oe):m.visualBlock?(u.replaceSelections(Vt),u.setCursor(Oe),u.replaceRange(O,Oe,Oe),J=Oe):(u.replaceRange(O,Oe,et),J=u.posFromIndex(u.indexFromPos(Oe)+O.length-1)),ve&&(m.lastSelection.headMark=u.setBookmark(ve)),U&&(J.ch=0)}else if(Z){u.setCursor(b);for(var re=0;re<O.length;re++){var Ne=b.line+re;Ne>u.lastLine()&&u.replaceRange(`
`,new e(Ne,0));var Xe=zt(u,Ne);Xe<b.ch&&Jw(u,Ne,b.ch)}u.setCursor(b),nm(u,new e(b.line+O.length-1,b.ch)),u.replaceSelections(O),J=b}else if(u.replaceRange(O,b),U){var Ne=d.after?b.line+1:b.line;J=new e(Ne,Rn(u.getLine(Ne)))}else J=Ge(b),/\n/.test(O)||(J.ch+=O.length-(d.after?1:0));m.visualMode&&on(u,!1),u.setCursor(J)}},undo:function(u,d){u.operation(function(){tm(u,i.commands.undo,d.repeat)(),u.setCursor(ti(u,u.getCursor("start")))})},redo:function(u,d){tm(u,i.commands.redo,d.repeat)()},setRegister:function(u,d,m){m.inputState.registerName=d.selectedCharacter},insertRegister:function(u,d,m){var O=d.selectedCharacter,S=ie.registerController.getRegister(O),b=S&&S.toString();b&&u.replaceSelection(b)},oneNormalCommand:function(u,d,m){es(u,!0),m.insertModeReturn=!0,i.on(u,"vim-command-done",function O(){m.visualMode||(m.insertModeReturn&&(m.insertModeReturn=!1,m.insertMode||ur.enterInsertMode(u,{},m)),i.off(u,"vim-command-done",O))})},setMark:function(u,d,m){var O=d.selectedCharacter;Ln(u,m,O,u.getCursor())},replace:function(u,d,m){var O=d.selectedCharacter,S=u.getCursor(),b,C,I=u.listSelections();if(m.visualMode)S=u.getCursor("start"),C=u.getCursor("end");else{var A=u.getLine(S.line);b=S.ch+d.repeat,b>A.length&&(b=A.length),C=new e(S.line,b)}var L=n(u,S,C);if(S=L.start,C=L.end,O==`
`)m.visualMode||u.replaceRange("",S,C),(i.commands.newlineAndIndentContinueComment||i.commands.newlineAndIndent)(u);else{var R=u.getRange(S,C);if(R=R.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,O),R=R.replace(/[^\n]/g,O),m.visualBlock){var j=new Array(u.getOption("tabSize")+1).join(" ");R=u.getSelection(),R=R.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,O),R=R.replace(/\t/g,j).replace(/[^\n]/g,O).split(`
`),u.replaceSelections(R)}else u.replaceRange(R,S,C);m.visualMode?(S=dt(I[0].anchor,I[0].head)?I[0].anchor:I[0].head,u.setCursor(S),on(u,!1)):u.setCursor(Mt(C,0,-1))}},incrementNumberToken:function(u,d){for(var m=u.getCursor(),O=u.getLine(m.line),S=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi,b,C,I,A;(b=S.exec(O))!==null&&(C=b.index,I=C+b[0].length,!(m.ch<I)););if(!(!d.backtrack&&I<=m.ch)){if(b){var L=b[2]||b[4],R=b[3]||b[5],j=d.increase?1:-1,G={"0b":2,0:8,"":10,"0x":16}[L.toLowerCase()],U=parseInt(b[1]+R,G)+j*d.repeat;A=U.toString(G);var Z=L?new Array(R.length-A.length+1+b[1].length).join("0"):"";A.charAt(0)==="-"?A="-"+L+Z+A.substr(1):A=L+Z+A;var re=new e(m.line,C),J=new e(m.line,I);u.replaceRange(A,re,J)}else return;u.setCursor(new e(m.line,C+A.length-1))}},repeatLastEdit:function(u,d,m){var O=m.lastEditInputState;if(O){var S=d.repeat;S&&d.repeatIsExplicit?m.lastEditInputState.repeatOverride=S:S=m.lastEditInputState.repeatOverride||S,Em(u,m,S,!1)}},indent:function(u,d){u.indentLine(u.getCursor().line,d.indentRight)},exitInsertMode:es};function Yw(u,d){ur[u]=d}function ti(u,d,m){var O=u.state.vim,S=O.insertMode||O.visualMode,b=Math.min(Math.max(u.firstLine(),d.line),u.lastLine()),C=u.getLine(b),I=C.length-1+ +!!S,A=Math.min(Math.max(0,d.ch),I),L=C.charCodeAt(A);if(56320<=L&&L<=57343){var R=1;m&&m.line==b&&m.ch>A&&(R=-1),A+=R,A>I&&(A-=2)}return new e(b,A)}function Fa(u){var d={};for(var m in u)u.hasOwnProperty(m)&&(d[m]=u[m]);return d}function Mt(u,d,m){return typeof d=="object"&&(m=d.ch,d=d.line),new e(u.line+d,u.ch+m)}function Gw(u,d,m,O){for(var S=O.operator,b,C=[],I=[],A=rn?d.length-r:0,L=A;L<d.length;L++){var R=d[L];m=="insert"&&R.context!="insert"||(R.context=="operatorPending"?!S:R.context&&R.context!=m)||O.operator&&R.type=="action"||!(b=qw(u,R.keys))||(b=="partial"&&C.push(R),b=="full"&&I.push(R))}return{partial:C.length&&C,full:I.length&&I}}function qw(u,d){if(d.slice(-11)=="<character>"){var m=d.length-11,O=u.slice(0,m),S=d.slice(0,m);return O==S&&u.length>m?"full":S.indexOf(O)==0?"partial":!1}else return u==d?"full":d.indexOf(u)==0?"partial":!1}function Hw(u){var d=/^.*(<[^>]+>)$/.exec(u),m=d?d[1]:u.slice(-1);if(m.length>1)switch(m){case"<CR>":m=`
`;break;case"<Space>":m=" ";break;default:m="";break}return m}function tm(u,d,m){return function(){for(var O=0;O<m;O++)d(u)}}function Ge(u){return new e(u.line,u.ch)}function Ii(u,d){return u.ch==d.ch&&u.line==d.line}function dt(u,d){return u.line<d.line||u.line==d.line&&u.ch<d.ch}function Oi(u,d){return arguments.length>2&&(d=Oi.apply(void 0,Array.prototype.slice.call(arguments,1))),dt(u,d)?u:d}function Kn(u,d){return arguments.length>2&&(d=Kn.apply(void 0,Array.prototype.slice.call(arguments,1))),dt(u,d)?d:u}function im(u,d,m){var O=dt(u,d),S=dt(d,m);return O&&S}function zt(u,d){return u.getLine(d).length}function Vc(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function Kw(u){return u.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function Jw(u,d,m){var O=zt(u,d),S=new Array(m-O+1).join(" ");u.setCursor(new e(d,O)),u.replaceRange(S,u.getCursor())}function nm(u,d){var m=[],O=u.listSelections(),S=Ge(u.clipPos(d)),b=!Ii(d,S),C=u.getCursor("head"),I=ek(O,C),A=Ii(O[I].head,O[I].anchor),L=O.length-1,R=L-I>I?L:0,j=O[R].anchor,G=Math.min(j.line,S.line),U=Math.max(j.line,S.line),Z=j.ch,re=S.ch,J=O[R].head.ch-Z,ve=re-Z;J>0&&ve<=0?(Z++,b||re--):J<0&&ve>=0?(Z--,A||re++):J<0&&ve==-1&&(Z--,re++);for(var be=G;be<=U;be++){var Oe={anchor:new e(be,Z),head:new e(be,re)};m.push(Oe)}return u.setSelections(m),d.ch=re,j.ch=Z,j}function sm(u,d,m){for(var O=[],S=0;S<m;S++){var b=Mt(d,S,0);O.push({anchor:b,head:b})}u.setSelections(O,0)}function ek(u,d,m){for(var O=0;O<u.length;O++){var S=m!="head"&&Ii(u[O].anchor,d),b=m!="anchor"&&Ii(u[O].head,d);if(S||b)return O}return-1}function tk(u,d){var m=d.lastSelection,O=function(){var b=u.listSelections(),C=b[0],I=b[b.length-1],A=dt(C.anchor,C.head)?C.anchor:C.head,L=dt(I.anchor,I.head)?I.head:I.anchor;return[A,L]},S=function(){var b=u.getCursor(),C=u.getCursor(),I=m.visualBlock;if(I){var A=I.width,L=I.height;C=new e(b.line+L,b.ch+A);for(var R=[],j=b.line;j<C.line;j++){var G=new e(j,b.ch),U=new e(j,C.ch),Z={anchor:G,head:U};R.push(Z)}u.setSelections(R)}else{var re=m.anchorMark.find(),J=m.headMark.find(),ve=J.line-re.line,be=J.ch-re.ch;C={line:C.line+ve,ch:ve?C.ch:be+C.ch},m.visualLine&&(b=new e(b.line,0),C=new e(C.line,zt(u,C.line))),u.setSelection(b,C)}return[b,C]};return d.visualMode?O():S()}function rm(u,d){var m=d.sel.anchor,O=d.sel.head;d.lastPastedText&&(O=u.posFromIndex(u.indexFromPos(m)+d.lastPastedText.length),d.lastPastedText=null),d.lastSelection={anchorMark:u.setBookmark(m),headMark:u.setBookmark(O),anchor:Ge(m),head:Ge(O),visualMode:d.visualMode,visualLine:d.visualLine,visualBlock:d.visualBlock}}function ik(u,d,m,O){var S=u.state.vim.sel,b=O?d:S.head,C=O?d:S.anchor,I;return dt(m,d)&&(I=m,m=d,d=I),dt(b,C)?(b=Oi(d,b),C=Kn(C,m)):(C=Oi(d,C),b=Kn(b,m),b=Mt(b,0,-1),b.ch==-1&&b.line!=u.firstLine()&&(b=new e(b.line-1,zt(u,b.line-1)))),[C,b]}function fr(u,d,S){var O=u.state.vim;d=d||O.sel;var S=S||O.visualLine?"line":O.visualBlock?"block":"char",b=Bc(u,d,S);u.setSelections(b.ranges,b.primary)}function Bc(u,d,m,O){var S=Ge(d.head),b=Ge(d.anchor);if(m=="char"){var C=!O&&!dt(d.head,d.anchor)?1:0,I=dt(d.head,d.anchor)?1:0;return S=Mt(d.head,0,C),b=Mt(d.anchor,0,I),{ranges:[{anchor:b,head:S}],primary:0}}else if(m=="line"){if(dt(d.head,d.anchor))S.ch=0,b.ch=zt(u,b.line);else{b.ch=0;var A=u.lastLine();S.line>A&&(S.line=A),S.ch=zt(u,S.line)}return{ranges:[{anchor:b,head:S}],primary:0}}else if(m=="block"){var L=Math.min(b.line,S.line),R=b.ch,j=Math.max(b.line,S.line),G=S.ch;R<G?G+=1:R+=1;for(var U=j-L+1,Z=S.line==L?0:U-1,re=[],J=0;J<U;J++)re.push({anchor:new e(L+J,R),head:new e(L+J,G)});return{ranges:re,primary:Z}}}function nk(u){var d=u.getCursor("head");return u.getSelection().length==1&&(d=Oi(d,u.getCursor("anchor"))),d}function on(u,d){var m=u.state.vim;d!==!1&&u.setCursor(ti(u,m.sel.head)),rm(u,m),m.visualMode=!1,m.visualLine=!1,m.visualBlock=!1,m.insertMode||i.signal(u,"vim-mode-change",{mode:"normal"})}function sk(u,d,m){var O=u.getRange(d,m);if(/\n\s*$/.test(O)){var S=O.split(`
`);S.pop();for(var b,b=S.pop();S.length>0&&b&&X(b);b=S.pop())m.line--,m.ch=0;b?(m.line--,m.ch=zt(u,m.line)):m.ch=0}}function rk(u,d,m){d.ch=0,m.ch=0,m.line++}function Rn(u){if(!u)return 0;var d=u.search(/\S/);return d==-1?u.length:d}function Wa(u,d,m,O,S){var b=nk(u),C=u.getLine(b.line),I=b.ch,A=S?T[0]:$[0];if(m&&/\s/.test(C.charAt(I)))A=function(U){return/\s/.test(U)};else{for(;!A(C.charAt(I));)if(I++,I>=C.length)return null;O?A=$[0]:(A=T[0],A(C.charAt(I))||(A=T[1]))}for(var L=I,R=I;A(C.charAt(L))&&L<C.length;)L++;for(;A(C.charAt(R))&&R>=0;)R--;if(R++,d){for(var j=L;/\s/.test(C.charAt(L))&&L<C.length;)L++;if(j==L){for(var G=R;/\s/.test(C.charAt(R-1))&&R>0;)R--;R||(R=G)}}return{start:new e(b.line,R),end:new e(b.line,L)}}function ok(u,d,m){var O=d;if(!i.findMatchingTag||!i.findEnclosingTag)return{start:O,end:O};var S=i.findMatchingTag(u,d)||i.findEnclosingTag(u,d);return!S||!S.open||!S.close?{start:O,end:O}:m?{start:S.open.from,end:S.close.to}:{start:S.open.to,end:S.close.from}}function om(u,d,m){Ii(d,m)||ie.jumpList.add(u,d,m)}function am(u,d){ie.lastCharacterSearch.increment=u,ie.lastCharacterSearch.forward=d.forward,ie.lastCharacterSearch.selectedCharacter=d.selectedCharacter}var ak={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},lm={bracket:{isComplete:function(u){if(u.nextCh===u.symb){if(u.depth++,u.depth>=1)return!0}else u.nextCh===u.reverseSymb&&u.depth--;return!1}},section:{init:function(u){u.curMoveThrough=!0,u.symb=(u.forward?"]":"[")===u.symb?"{":"}"},isComplete:function(u){return u.index===0&&u.nextCh===u.symb}},comment:{isComplete:function(u){var d=u.lastCh==="*"&&u.nextCh==="/";return u.lastCh=u.nextCh,d}},method:{init:function(u){u.symb=u.symb==="m"?"{":"}",u.reverseSymb=u.symb==="{"?"}":"{"},isComplete:function(u){return u.nextCh===u.symb}},preprocess:{init:function(u){u.index=0},isComplete:function(u){if(u.nextCh==="#"){var d=u.lineText.match(/^#(\w+)/)[1];if(d==="endif"){if(u.forward&&u.depth===0)return!0;u.depth++}else if(d==="if"){if(!u.forward&&u.depth===0)return!0;u.depth--}if(d==="else"&&u.depth===0)return!0}return!1}}};function lk(u,d,m,O){var S=Ge(u.getCursor()),b=m?1:-1,C=m?u.lineCount():-1,I=S.ch,A=S.line,L=u.getLine(A),R={lineText:L,nextCh:L.charAt(I),lastCh:null,index:I,symb:O,reverseSymb:(m?{")":"(","}":"{"}:{"(":")","{":"}"})[O],forward:m,depth:0,curMoveThrough:!1},j=ak[O];if(!j)return S;var G=lm[j].init,U=lm[j].isComplete;for(G&&G(R);A!==C&&d;){if(R.index+=b,R.nextCh=R.lineText.charAt(R.index),!R.nextCh){if(A+=b,R.lineText=u.getLine(A)||"",b>0)R.index=0;else{var Z=R.lineText.length;R.index=Z>0?Z-1:0}R.nextCh=R.lineText.charAt(R.index)}U(R)&&(S.line=A,S.ch=R.index,d--)}return R.nextCh||R.curMoveThrough?new e(A,R.index):S}function hk(u,d,m,O,S){var b=d.line,C=d.ch,I=u.getLine(b),A=m?1:-1,L=O?$:T;if(S&&I==""){if(b+=A,I=u.getLine(b),!B(u,b))return null;C=m?0:I.length}for(;;){if(S&&I=="")return{from:0,to:0,line:b};for(var R=A>0?I.length:-1,j=R,G=R;C!=R;){for(var U=!1,Z=0;Z<L.length&&!U;++Z)if(L[Z](I.charAt(C))){for(j=C;C!=R&&L[Z](I.charAt(C));)C+=A;if(G=C,U=j!=G,j==d.ch&&b==d.line&&G==j+A)continue;return{from:Math.min(j,G+1),to:Math.max(j,G),line:b}}U||(C+=A)}if(b+=A,!B(u,b))return null;I=u.getLine(b),C=A>0?0:I.length}}function ck(u,d,m,O,S,b){var C=Ge(d),I=[];(O&&!S||!O&&S)&&m++;for(var A=!(O&&S),L=0;L<m;L++){var R=hk(u,d,O,b,A);if(!R){var j=zt(u,u.lastLine());I.push(O?{line:u.lastLine(),from:j,to:j}:{line:0,from:0,to:0});break}I.push(R),d=new e(R.line,O?R.to-1:R.from)}var G=I.length!=m,U=I[0],Z=I.pop();return O&&!S?(!G&&(U.from!=C.ch||U.line!=C.line)&&(Z=I.pop()),new e(Z.line,Z.from)):O&&S?new e(Z.line,Z.to-1):!O&&S?(!G&&(U.to!=C.ch||U.line!=C.line)&&(Z=I.pop()),new e(Z.line,Z.to)):new e(Z.line,Z.from)}function hm(u,d,m,O,S){var b=d,C=new e(b.line+m.repeat-1,1/0),I=u.clipPos(C);return I.ch--,S||(O.lastHPos=1/0,O.lastHSPos=u.charCoords(I,"div").left),C}function Xc(u,d,m,O,S){for(var b=S||u.getCursor(),C=b.ch,I,A=0;A<d;A++){var L=u.getLine(b.line);if(I=fk(C,L,O,m,!0),I==-1)return null;C=I}return new e(u.getCursor().line,I)}function uk(u,d){var m=u.getCursor().line;return ti(u,new e(m,d-1))}function Ln(u,d,m,O){te(m,Q)&&(d.marks[m]&&d.marks[m].clear(),d.marks[m]=u.setBookmark(O))}function fk(u,d,m,O,S){var b;return O?(b=d.indexOf(m,u+1),b!=-1&&!S&&(b-=1)):(b=d.lastIndexOf(m,u-1),b!=-1&&!S&&(b+=1)),b}function cm(u,d,m,O,S){var b=d.line,C=u.firstLine(),I=u.lastLine(),A,L,R=b;function j(J){return!u.getLine(J)}function G(J,ve,be){return be?j(J)!=j(J+ve):!j(J)&&j(J+ve)}if(O){for(;C<=R&&R<=I&&m>0;)G(R,O)&&m--,R+=O;return new e(R,0)}var U=u.state.vim;if(U.visualLine&&G(b,1,!0)){var Z=U.sel.anchor;G(Z.line,-1,!0)&&(!S||Z.line!=b)&&(b+=1)}var re=j(b);for(R=b;R<=I&&m;R++)G(R,1,!0)&&(!S||j(R)!=re)&&m--;for(L=new e(R,0),R>I&&!re?re=!0:S=!1,R=b;R>C&&!((!S||j(R)==re||R==b)&&G(R,-1,!0));R--);return A=new e(R,0),{start:A,end:L}}function um(u,d,m,O,S){function b(L){L.pos+L.dir<0||L.pos+L.dir>=L.line.length?L.line=null:L.pos+=L.dir}function C(L,R,j,G){var U=L.getLine(R),Z={line:U,ln:R,pos:j,dir:G};if(Z.line==="")return{ln:Z.ln,pos:Z.pos};var re=Z.pos;for(b(Z);Z.line!==null;){if(re=Z.pos,Y(Z.line[Z.pos]))if(S){for(b(Z);Z.line!==null&&X(Z.line[Z.pos]);)re=Z.pos,b(Z);return{ln:Z.ln,pos:re+1}}else return{ln:Z.ln,pos:Z.pos+1};b(Z)}return{ln:Z.ln,pos:re+1}}function I(L,R,j,G){var U=L.getLine(R),Z={line:U,ln:R,pos:j,dir:G};if(Z.line==="")return{ln:Z.ln,pos:Z.pos};var re=Z.pos;for(b(Z);Z.line!==null;){if(!X(Z.line[Z.pos])&&!Y(Z.line[Z.pos]))re=Z.pos;else if(Y(Z.line[Z.pos]))return S?X(Z.line[Z.pos+1])?{ln:Z.ln,pos:Z.pos+1}:{ln:Z.ln,pos:re}:{ln:Z.ln,pos:re};b(Z)}return Z.line=U,S&&X(Z.line[Z.pos])?{ln:Z.ln,pos:Z.pos}:{ln:Z.ln,pos:re}}for(var A={ln:d.line,pos:d.ch};m>0;)O<0?A=I(u,A.ln,A.pos,O):A=C(u,A.ln,A.pos,O),m--;return new e(A.ln,A.pos)}function dk(u,d,m,O){function S(A,L){if(L.pos+L.dir<0||L.pos+L.dir>=L.line.length){if(L.ln+=L.dir,!B(A,L.ln)){L.line=null,L.ln=null,L.pos=null;return}L.line=A.getLine(L.ln),L.pos=L.dir>0?0:L.line.length-1}else L.pos+=L.dir}function b(A,L,R,j){var J=A.getLine(L),G=J==="",U={line:J,ln:L,pos:R,dir:j},Z={ln:U.ln,pos:U.pos},re=U.line==="";for(S(A,U);U.line!==null;){if(Z.ln=U.ln,Z.pos=U.pos,U.line===""&&!re)return{ln:U.ln,pos:U.pos};if(G&&U.line!==""&&!X(U.line[U.pos]))return{ln:U.ln,pos:U.pos};Y(U.line[U.pos])&&!G&&(U.pos===U.line.length-1||X(U.line[U.pos+1]))&&(G=!0),S(A,U)}var J=A.getLine(Z.ln);Z.pos=0;for(var ve=J.length-1;ve>=0;--ve)if(!X(J[ve])){Z.pos=ve;break}return Z}function C(A,L,R,j){var re=A.getLine(L),G={line:re,ln:L,pos:R,dir:j},U={ln:G.ln,pos:null},Z=G.line==="";for(S(A,G);G.line!==null;){if(G.line===""&&!Z)return U.pos!==null?U:{ln:G.ln,pos:G.pos};if(Y(G.line[G.pos])&&U.pos!==null&&!(G.ln===U.ln&&G.pos+1===U.pos))return U;G.line!==""&&!X(G.line[G.pos])&&(Z=!1,U={ln:G.ln,pos:G.pos}),S(A,G)}var re=A.getLine(U.ln);U.pos=0;for(var J=0;J<re.length;++J)if(!X(re[J])){U.pos=J;break}return U}for(var I={ln:d.line,pos:d.ch};m>0;)O<0?I=C(u,I.ln,I.pos,O):I=b(u,I.ln,I.pos,O),m--;return new e(I.ln,I.pos)}function fm(u,d,m,O){var S=d,b,C,I={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[m],A={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[m],L=u.getLine(S.line).charAt(S.ch),R=L===A?1:0;if(b=u.scanForBracket(new e(S.line,S.ch+R),-1,void 0,{bracketRegex:I}),C=u.scanForBracket(new e(S.line,S.ch+R),1,void 0,{bracketRegex:I}),!b||!C)return null;if(b=b.pos,C=C.pos,b.line==C.line&&b.ch>C.ch||b.line>C.line){var j=b;b=C,C=j}return O?C.ch+=1:b.ch+=1,{start:b,end:C}}function pk(u,d,m,O){var S=Ge(d),b=u.getLine(S.line),C=b.split(""),I,A,L,R,j=C.indexOf(m);if(S.ch<j)S.ch=j;else if(j<S.ch&&C[S.ch]==m){var G=/string/.test(u.getTokenTypeAt(Mt(d,0,1))),U=/string/.test(u.getTokenTypeAt(d)),Z=G&&!U;Z||(A=S.ch,--S.ch)}if(C[S.ch]==m&&!A)I=S.ch+1;else for(L=S.ch;L>-1&&!I;L--)C[L]==m&&(I=L+1);if(I&&!A)for(L=I,R=C.length;L<R&&!A;L++)C[L]==m&&(A=L);return!I||!A?{start:S,end:S}:(O&&(--I,++A),{start:new e(S.line,I),end:new e(S.line,A)})}de("pcre",!0,"boolean");function dm(){}dm.prototype={getQuery:function(){return ie.query},setQuery:function(u){ie.query=u},getOverlay:function(){return this.searchOverlay},setOverlay:function(u){this.searchOverlay=u},isReversed:function(){return ie.isReversed},setReversed:function(u){ie.isReversed=u},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(u){this.annotate=u}};function an(u){var d=u.state.vim;return d.searchState_||(d.searchState_=new dm)}function mk(u){return pm(u,"/")}function gk(u){return mm(u,"/")}function pm(u,d){var m=mm(u,d)||[];if(!m.length)return[];var O=[];if(m[0]===0){for(var S=0;S<m.length;S++)typeof m[S]=="number"&&O.push(u.substring(m[S]+1,m[S+1]));return O}}function mm(u,d){d||(d="/");for(var m=!1,O=[],S=0;S<u.length;S++){var b=u.charAt(S);!m&&b==d&&O.push(S),m=!m&&b=="\\"}return O}function Ok(u){for(var d="|(){",m="}",O=!1,S=[],b=-1;b<u.length;b++){var C=u.charAt(b)||"",I=u.charAt(b+1)||"",A=I&&d.indexOf(I)!=-1;O?((C!=="\\"||!A)&&S.push(C),O=!1):C==="\\"?(O=!0,I&&m.indexOf(I)!=-1&&(A=!0),(!A||I==="\\")&&S.push(C)):(S.push(C),A&&I!=="\\"&&S.push("\\"))}return S.join("")}var gm={"\\n":`
`,"\\r":"\r","\\t":"	"};function yk(u){for(var d=!1,m=[],O=-1;O<u.length;O++){var S=u.charAt(O)||"",b=u.charAt(O+1)||"";gm[S+b]?(m.push(gm[S+b]),O++):d?(m.push(S),d=!1):S==="\\"?(d=!0,K(b)||b==="$"?m.push("$"):b!=="/"&&b!=="\\"&&m.push("\\")):(S==="$"&&m.push("$"),m.push(S),b==="/"&&m.push("\\"))}return m.join("")}var Om={"\\/":"/","\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	","\\&":"&"};function vk(u){for(var d=new i.StringStream(u),m=[];!d.eol();){for(;d.peek()&&d.peek()!="\\";)m.push(d.next());var O=!1;for(var S in Om)if(d.match(S,!0)){O=!0,m.push(Om[S]);break}O||m.push(d.next())}return m.join("")}function xk(u,d,m){var O=ie.registerController.getRegister("/");if(O.setText(u),u instanceof RegExp)return u;var S=gk(u),b,C;if(!S.length)b=u;else{b=u.substring(0,S[0]);var I=u.substring(S[0]);C=I.indexOf("i")!=-1}if(!b)return null;xe("pcre")||(b=Ok(b)),m&&(d=/^[^A-Z]*$/.test(b));var A=new RegExp(b,d||C?"im":"m");return A}function Jn(u){typeof u=="string"&&(u=document.createElement(u));for(var d,m=1;m<arguments.length;m++)if(d=arguments[m])if(typeof d!="object"&&(d=document.createTextNode(d)),d.nodeType)u.appendChild(d);else for(var O in d)Object.prototype.hasOwnProperty.call(d,O)&&(O[0]==="$"?u.style[O.slice(1)]=d[O]:u.setAttribute(O,d[O]));return u}function Ye(u,d){var m=Jn("div",{$color:"red",$whiteSpace:"pre",class:"cm-vim-message"},d);u.openNotification?u.openNotification(m,{bottom:!0,duration:5e3}):alert(m.innerText)}function Sk(u,d){return Jn("div",{$display:"flex"},Jn("span",{$fontFamily:"monospace",$whiteSpace:"pre",$flex:1},u,Jn("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false",$width:"100%"})),d&&Jn("span",{$color:"#888"},d))}function Ya(u,d){var m=Sk(d.prefix,d.desc);if(u.openDialog)u.openDialog(m,d.onClose,{onKeyDown:d.onKeyDown,onKeyUp:d.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:d.value});else{var O="";typeof d.prefix!="string"&&d.prefix&&(O+=d.prefix.textContent),d.desc&&(O+=" "+d.desc),d.onClose(prompt(O,""))}}function bk(u,d){if(u instanceof RegExp&&d instanceof RegExp){for(var m=["global","multiline","ignoreCase","source"],O=0;O<m.length;O++){var S=m[O];if(u[S]!==d[S])return!1}return!0}return!1}function co(u,d,m,O){if(d){var S=an(u),b=xk(d,!!m,!!O);if(b)return ym(u,b),bk(b,S.getQuery())||S.setQuery(b),b}}function wk(u){if(u.source.charAt(0)=="^")var d=!0;return{token:function(m){if(d&&!m.sol()){m.skipToEnd();return}var O=m.match(u,!1);if(O)return O[0].length==0?(m.next(),"searching"):!m.sol()&&(m.backUp(1),!u.exec(m.next()+O[0]))?(m.next(),null):(m.match(u),"searching");for(;!m.eol()&&(m.next(),!m.match(u,!1)););},query:u}}var Ga=0;function ym(u,d){clearTimeout(Ga),Ga=setTimeout(function(){if(u.state.vim){var m=an(u),O=m.getOverlay();(!O||d!=O.query)&&(O&&u.removeOverlay(O),O=wk(d),u.addOverlay(O),u.showMatchesOnScrollbar&&(m.getScrollbarAnnotate()&&m.getScrollbarAnnotate().clear(),m.setScrollbarAnnotate(u.showMatchesOnScrollbar(d))),m.setOverlay(O))}},50)}function vm(u,d,m,O){return O===void 0&&(O=1),u.operation(function(){for(var S=u.getCursor(),b=u.getSearchCursor(m,S),C=0;C<O;C++){var I=b.find(d);if(C==0&&I&&Ii(b.from(),S)){var A=d?b.from():b.to();I=b.find(d),I&&!I[0]&&Ii(b.from(),A)&&u.getLine(A.line).length==A.ch&&(I=b.find(d))}if(!I&&(b=u.getSearchCursor(m,d?new e(u.lastLine()):new e(u.firstLine(),0)),!b.find(d)))return}return b.from()})}function kk(u,d,m,O,S){return O===void 0&&(O=1),u.operation(function(){var b=u.getCursor(),C=u.getSearchCursor(m,b),I=C.find(!d);!S.visualMode&&I&&Ii(C.from(),b)&&C.find(!d);for(var A=0;A<O;A++)if(I=C.find(d),!I&&(C=u.getSearchCursor(m,d?new e(u.lastLine()):new e(u.firstLine(),0)),!C.find(d)))return;return[C.from(),C.to()]})}function zc(u){var d=an(u);u.removeOverlay(an(u).getOverlay()),d.setOverlay(null),d.getScrollbarAnnotate()&&(d.getScrollbarAnnotate().clear(),d.setScrollbarAnnotate(null))}function Ck(u,d,m){return typeof u!="number"&&(u=u.line),d instanceof Array?te(u,d):typeof m=="number"?u>=d&&u<=m:u==d}function Zc(u){var d=u.getScrollInfo(),m=6,O=10,S=u.coordsChar({left:0,top:m+d.top},"local"),b=d.clientHeight-O+d.top,C=u.coordsChar({left:0,top:b},"local");return{top:S.line,bottom:C.line}}function qa(u,d,m){if(m=="'"||m=="`")return ie.jumpList.find(u,-1)||new e(0,0);if(m==".")return xm(u);var O=d.marks[m];return O&&O.find()}function xm(u){if(u.getLastEditEnd)return u.getLastEditEnd();for(var d=u.doc.history.done,m=d.length;m--;)if(d[m].changes)return Ge(d[m].changes[0].to)}var Sm=function(){this.buildCommandMap_()};Sm.prototype={processCommand:function(u,d,m){var O=this;u.operation(function(){u.curOp.isVimOp=!0,O._processCommand(u,d,m)})},_processCommand:function(u,d,m){var O=u.state.vim,S=ie.registerController.getRegister(":"),b=S.toString(),C=new i.StringStream(d);S.setText(d);var I=m||{};I.input=d;try{this.parseInput_(u,C,I)}catch(j){throw Ye(u,j.toString()),j}O.visualMode&&on(u);var A,L;if(!I.commandName)I.line!==void 0&&(L="move");else if(A=this.matchCommand_(I.commandName),A){if(L=A.name,A.excludeFromCommandHistory&&S.setText(b),this.parseCommandArgs_(C,I,A),A.type=="exToKey"){for(var R=0;R<A.toKeys.length;R++)We.handleKey(u,A.toKeys[R],"mapping");return}else if(A.type=="exToEx"){this.processCommand(u,A.toInput);return}}if(!L){Ye(u,'Not an editor command ":'+d+'"');return}try{bm[L](u,I),(!A||!A.possiblyAsync)&&I.callback&&I.callback()}catch(j){throw Ye(u,j.toString()),j}},parseInput_:function(u,d,m){d.eatWhile(":"),d.eat("%")?(m.line=u.firstLine(),m.lineEnd=u.lastLine()):(m.line=this.parseLineSpec_(u,d),m.line!==void 0&&d.eat(",")&&(m.lineEnd=this.parseLineSpec_(u,d))),m.line==null?u.state.vim.visualMode?(m.selectionLine=qa(u,u.state.vim,"<")?.line,m.selectionLineEnd=qa(u,u.state.vim,">")?.line):m.selectionLine=u.getCursor().line:(m.selectionLine=m.line,m.selectionLineEnd=m.lineEnd);var O=d.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return O?m.commandName=O[1]:m.commandName=d.match(/.*/)[0],m},parseLineSpec_:function(u,d){var m=d.match(/^(\d+)/);if(m)return parseInt(m[1],10)-1;switch(d.next()){case".":return this.parseLineSpecOffset_(d,u.getCursor().line);case"$":return this.parseLineSpecOffset_(d,u.lastLine());case"'":var O=d.next(),S=qa(u,u.state.vim,O);if(!S)throw new Error("Mark not set");return this.parseLineSpecOffset_(d,S.line);case"-":case"+":return d.backUp(1),this.parseLineSpecOffset_(d,u.getCursor().line);default:d.backUp(1);return}},parseLineSpecOffset_:function(u,d){var m=u.match(/^([+-])?(\d+)/);if(m){var O=parseInt(m[2],10);m[1]=="-"?d-=O:d+=O}return d},parseCommandArgs_:function(u,d,m){if(!u.eol()){d.argString=u.match(/.*/)[0];var O=m.argDelimiter||/\s+/,S=Vc(d.argString).split(O);S.length&&S[0]&&(d.args=S)}},matchCommand_:function(u){for(var d=u.length;d>0;d--){var m=u.substring(0,d);if(this.commandMap_[m]){var O=this.commandMap_[m];if(O.name.indexOf(u)===0)return O}}return null},buildCommandMap_:function(){this.commandMap_={};for(var u=0;u<o.length;u++){var d=o[u],m=d.shortName||d.name;this.commandMap_[m]=d}},map:function(u,d,m,O){if(u!=":"&&u.charAt(0)==":"){if(m)throw Error("Mode not supported for ex mappings");var S=u.substring(1);d!=":"&&d.charAt(0)==":"?this.commandMap_[S]={name:S,type:"exToEx",toInput:d.substring(1),user:!0}:this.commandMap_[S]={name:S,type:"exToKey",toKeys:d,user:!0}}else if(d!=":"&&d.charAt(0)==":"){var b={keys:u,type:"keyToEx",exArgs:{input:d.substring(1)}};m&&(b.context=m),s.unshift(b)}else{var b={keys:u,type:"keyToKey",toKeys:d,noremap:O};m&&(b.context=m),s.unshift(b)}},unmap:function(u,d){if(u!=":"&&u.charAt(0)==":"){if(d)throw Error("Mode not supported for ex mappings");var m=u.substring(1);if(this.commandMap_[m]&&this.commandMap_[m].user)return delete this.commandMap_[m],!0}else for(var O=u,S=0;S<s.length;S++)if(O==s[S].keys&&s[S].context===d)return s.splice(S,1),!0}};var bm={colorscheme:function(u,d){if(!d.args||d.args.length<1){Ye(u,u.getOption("theme"));return}u.setOption("theme",d.args[0])},map:function(u,d,m,O){var S=d.args;if(!S||S.length<2){u&&Ye(u,"Invalid mapping: "+d.input);return}Yi.map(S[0],S[1],m,O)},imap:function(u,d){this.map(u,d,"insert")},nmap:function(u,d){this.map(u,d,"normal")},vmap:function(u,d){this.map(u,d,"visual")},omap:function(u,d){this.map(u,d,"operatorPending")},noremap:function(u,d){this.map(u,d,void 0,!0)},inoremap:function(u,d){this.map(u,d,"insert",!0)},nnoremap:function(u,d){this.map(u,d,"normal",!0)},vnoremap:function(u,d){this.map(u,d,"visual",!0)},onoremap:function(u,d){this.map(u,d,"operatorPending",!0)},unmap:function(u,d,m){var O=d.args;(!O||O.length<1||!Yi.unmap(O[0],m))&&u&&Ye(u,"No such mapping: "+d.input)},mapclear:function(u,d){We.mapclear()},imapclear:function(u,d){We.mapclear("insert")},nmapclear:function(u,d){We.mapclear("normal")},vmapclear:function(u,d){We.mapclear("visual")},omapclear:function(u,d){We.mapclear("operatorPending")},move:function(u,d){Qn.processCommand(u,u.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:d.line+1})},set:function(u,d){var m=d.args,O=d.setCfg||{};if(!m||m.length<1){u&&Ye(u,"Invalid mapping: "+d.input);return}var S=m[0].split("="),b=S[0],C=S[1],I=!1;if(b.charAt(b.length-1)=="?"){if(C)throw Error("Trailing characters: "+d.argString);b=b.substring(0,b.length-1),I=!0}C===void 0&&b.substring(0,2)=="no"&&(b=b.substring(2),C=!1);var A=le[b]&&le[b].type=="boolean";if(A&&C==null&&(C=!0),!A&&C===void 0||I){var L=xe(b,u,O);L instanceof Error?Ye(u,L.message):L===!0||L===!1?Ye(u," "+(L?"":"no")+b):Ye(u,"  "+b+"="+L)}else{var R=Se(b,C,u,O);R instanceof Error&&Ye(u,R.message)}},setlocal:function(u,d){d.setCfg={scope:"local"},this.set(u,d)},setglobal:function(u,d){d.setCfg={scope:"global"},this.set(u,d)},registers:function(u,d){var m=d.args,O=ie.registerController.registers,S=`----------Registers----------

`;if(m){var b;m=m.join("");for(var I=0;I<m.length;I++)if(b=m.charAt(I),!!ie.registerController.isValidRegister(b)){var A=O[b]||new gi;S+='"'+b+"    "+A.toString()+`
`}}else for(var b in O){var C=O[b].toString();C.length&&(S+='"'+b+"    "+C+`
`)}Ye(u,S)},sort:function(u,d){var m,O,S,b,C;function I(){if(d.argString){var Ne=new i.StringStream(d.argString);if(Ne.eat("!")&&(m=!0),Ne.eol())return;if(!Ne.eatSpace())return"Invalid arguments";var Xe=Ne.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!Xe&&!Ne.eol())return"Invalid arguments";if(Xe[1]){O=Xe[1].indexOf("i")!=-1,S=Xe[1].indexOf("u")!=-1;var ii=Xe[1].indexOf("d")!=-1||Xe[1].indexOf("n")!=-1&&1,_t=Xe[1].indexOf("x")!=-1&&1,Tt=Xe[1].indexOf("o")!=-1&&1;if(ii+_t+Tt>1)return"Invalid arguments";b=ii&&"decimal"||_t&&"hex"||Tt&&"octal"}Xe[2]&&(C=new RegExp(Xe[2].substr(1,Xe[2].length-2),O?"i":""))}}var A=I();if(A){Ye(u,A+": "+d.argString);return}var L=d.line||u.firstLine(),R=d.lineEnd||d.line||u.lastLine();if(L==R)return;var j=new e(L,0),G=new e(R,zt(u,R)),U=u.getRange(j,G).split(`
`),Z=C||(b=="decimal"?/(-?)([\d]+)/:b=="hex"?/(-?)(?:0x)?([0-9a-f]+)/i:b=="octal"?/([0-7]+)/:null),re=b=="decimal"?10:b=="hex"?16:b=="octal"?8:null,J=[],ve=[];if(b||C)for(var be=0;be<U.length;be++){var Oe=C?U[be].match(C):null;Oe&&Oe[0]!=""?J.push(Oe):!C&&Z.exec(U[be])?J.push(U[be]):ve.push(U[be])}else ve=U;function et(Ne,Xe){if(m){var ii;ii=Ne,Ne=Xe,Xe=ii}O&&(Ne=Ne.toLowerCase(),Xe=Xe.toLowerCase());var _t=b&&Z.exec(Ne),Tt=b&&Z.exec(Xe);return _t?(_t=parseInt((_t[1]+_t[2]).toLowerCase(),re),Tt=parseInt((Tt[1]+Tt[2]).toLowerCase(),re),_t-Tt):Ne<Xe?-1:1}function qt(Ne,Xe){if(m){var ii;ii=Ne,Ne=Xe,Xe=ii}return O&&(Ne[0]=Ne[0].toLowerCase(),Xe[0]=Xe[0].toLowerCase()),Ne[0]<Xe[0]?-1:1}if(J.sort(C?qt:et),C)for(var be=0;be<J.length;be++)J[be]=J[be].input;else b||ve.sort(et);if(U=m?J.concat(ve):ve.concat(J),S){var pt=U,Vt;U=[];for(var be=0;be<pt.length;be++)pt[be]!=Vt&&U.push(pt[be]),Vt=pt[be]}u.replaceRange(U.join(`
`),j,G)},vglobal:function(u,d){this.global(u,d)},normal:function(u,d){var m=d.argString&&d.argString.trimStart();if(!m){Ye(u,"Argument is required.");return}var O=d.line;if(typeof O=="number")for(var S=isNaN(d.lineEnd)?O:d.lineEnd,b=O;b<=S;b++)u.setCursor(b,0),Ai(u,d.argString.trimStart()),u.state.vim.insertMode&&es(u,!0);else Ai(u,d.argString.trimStart()),u.state.vim.insertMode&&es(u,!0)},global:function(u,d){var m=d.argString;if(!m){Ye(u,"Regular Expression missing from global");return}var O=d.commandName[0]==="v";m[0]==="!"&&d.commandName[0]==="g"&&(O=!0,m=m.slice(1));var S=d.line!==void 0?d.line:u.firstLine(),b=d.lineEnd||d.line||u.lastLine(),C=mk(m),I=m,A;if(C.length&&(I=C[0],A=C.slice(1,C.length).join("/")),I)try{co(u,I,!0,!0)}catch{Ye(u,"Invalid regex: "+I);return}for(var L=an(u).getQuery(),R=[],j=S;j<=b;j++){var G=u.getLine(j),U=L.test(G);U!==O&&R.push(A?u.getLineHandle(j):G)}if(!A){Ye(u,R.join(`
`));return}var Z=0,re=function(){if(Z<R.length){var J=R[Z++],ve=u.getLineNumber(J);if(ve==null){re();return}var be=ve+1+A;Yi.processCommand(u,be,{callback:re})}else u.releaseLineHandles&&u.releaseLineHandles()};re()},substitute:function(u,d){if(!u.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var m=d.argString,O=m?pm(m,m[0]):[],S,b="",C,I,A,L=!1,R=!1;if(O.length)S=O[0],xe("pcre")&&S!==""&&(S=new RegExp(S).source),b=O[1],b!==void 0&&(xe("pcre")?b=vk(b.replace(/([^\\])&/g,"$1$$&")):b=yk(b),ie.lastSubstituteReplacePart=b),C=O[2]?O[2].split(" "):[];else if(m&&m.length){Ye(u,"Substitutions should be of the form :s/pattern/replace/");return}if(C&&(I=C[0],A=parseInt(C[1]),I&&(I.indexOf("c")!=-1&&(L=!0),I.indexOf("g")!=-1&&(R=!0),xe("pcre")?S=S+"/"+I:S=S.replace(/\//g,"\\/")+"/"+I)),S)try{co(u,S,!0,!0)}catch{Ye(u,"Invalid regex: "+S);return}if(b=b||ie.lastSubstituteReplacePart,b===void 0){Ye(u,"No previous substitute regular expression");return}var j=an(u),G=j.getQuery(),U=d.line!==void 0?d.line:u.getCursor().line,Z=d.lineEnd||U;U==u.firstLine()&&Z==u.lastLine()&&(Z=1/0),A&&(U=Z,Z=U+A-1);var re=ti(u,new e(U,0)),J=u.getSearchCursor(G,re);$k(u,L,R,U,Z,J,G,b,d.callback)},redo:i.commands.redo,undo:i.commands.undo,write:function(u){i.commands.save?i.commands.save(u):u.save&&u.save()},nohlsearch:function(u){zc(u)},yank:function(u){var d=Ge(u.getCursor()),m=d.line,O=u.getLine(m);ie.registerController.pushText("0","yank",O,!0,!0)},delete:function(u,d){var m=d.selectionLine,O=isNaN(d.selectionLineEnd)?m:d.selectionLineEnd;ho.delete(u,{linewise:!0},[{anchor:new e(m,0),head:new e(O+1,0)}])},join:function(u,d){var m=d.selectionLine,O=isNaN(d.selectionLineEnd)?m:d.selectionLineEnd;u.setCursor(new e(m,0)),ur.joinLines(u,{repeat:O-m},u.state.vim)},delmarks:function(u,d){if(!d.argString||!Vc(d.argString)){Ye(u,"Argument required");return}for(var m=u.state.vim,O=new i.StringStream(Vc(d.argString));!O.eol();){O.eatSpace();var S=O.pos;if(!O.match(/[a-zA-Z]/,!1)){Ye(u,"Invalid argument: "+d.argString.substring(S));return}var b=O.next();if(O.match("-",!0)){if(!O.match(/[a-zA-Z]/,!1)){Ye(u,"Invalid argument: "+d.argString.substring(S));return}var C=b,I=O.next();if(q(C)&&q(I)||H(C)&&H(I)){var A=C.charCodeAt(0),L=I.charCodeAt(0);if(A>=L){Ye(u,"Invalid argument: "+d.argString.substring(S));return}for(var R=0;R<=L-A;R++){var j=String.fromCharCode(A+R);delete m.marks[j]}}else{Ye(u,"Invalid argument: "+C+"-");return}}else delete m.marks[b]}}},Yi=new Sm;function $k(u,d,m,O,S,b,C,I,A){u.state.vim.exMode=!0;var L=!1,R,j,G;function U(){u.operation(function(){for(;!L;)Z(),J();ve()})}function Z(){var Oe=u.getRange(b.from(),b.to()),et=Oe.replace(C,I),qt=b.to().line;b.replace(et),j=b.to().line,S+=j-qt,G=j<qt}function re(){var Oe=R&&Ge(b.to()),et=b.findNext();return et&&!et[0]&&Oe&&Ii(b.from(),Oe)&&(et=b.findNext()),et}function J(){for(;re()&&Ck(b.from(),O,S);)if(!(!m&&b.from().line==j&&!G)){u.scrollIntoView(b.from(),30),u.setSelection(b.from(),b.to()),R=b.from(),L=!1;return}L=!0}function ve(Oe){if(Oe&&Oe(),u.focus(),R){u.setCursor(R);var et=u.state.vim;et.exMode=!1,et.lastHPos=et.lastHSPos=R.ch}A&&A()}function be(Oe,et,qt){i.e_stop(Oe);var pt=i.keyName(Oe);switch(pt){case"Y":Z(),J();break;case"N":J();break;case"A":var Vt=A;A=void 0,u.operation(U),A=Vt;break;case"L":Z();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":ve(qt);break}return L&&ve(qt),!0}if(J(),L){Ye(u,"No matches for "+C.source);return}if(!d){U(),A&&A();return}Ya(u,{prefix:Jn("span","replace with ",Jn("strong",I)," (y/n/a/q/l)"),onKeyDown:be})}i.keyMap.vim={attach:c,detach:h,call:f};function es(u,d){var m=u.state.vim,O=ie.macroModeState,S=ie.registerController.getRegister("."),b=O.isPlaying,C=O.lastInsertModeChanges;b||(u.off("change",km),m.insertEnd&&m.insertEnd.clear(),m.insertEnd=null,i.off(u.getInputField(),"keydown",Pm)),!b&&m.insertModeRepeat>1&&(Em(u,m,m.insertModeRepeat-1,!0),m.lastEditInputState.repeatOverride=m.insertModeRepeat),delete m.insertModeRepeat,m.insertMode=!1,d||u.setCursor(u.getCursor().line,u.getCursor().ch-1),u.setOption("keyMap","vim"),u.setOption("disableInput",!0),u.toggleOverwrite(!1),S.setText(C.changes.join("")),i.signal(u,"vim-mode-change",{mode:"normal"}),O.isRecording&&Ik(O)}function wm(u){s.unshift(u)}function Pk(u,d,m,O,S){var b={keys:u,type:d};b[d]=m,b[d+"Args"]=O;for(var C in S)b[C]=S[C];wm(b)}de("insertModeEscKeysTimeout",200,"number"),i.keyMap["vim-insert"]={fallthrough:["default"],attach:c,detach:h,call:f},i.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:c,detach:h};function Ek(u,d,m,O){var S=ie.registerController.getRegister(O);if(O==":"){S.keyBuffer[0]&&Yi.processCommand(u,S.keyBuffer[0]),m.isPlaying=!1;return}var b=S.keyBuffer,C=0;m.isPlaying=!0,m.replaySearchQueries=S.searchQueries.slice(0);for(var I=0;I<b.length;I++)for(var A=b[I],L,R;A;)if(L=/<\w+-.+?>|<\w+>|./.exec(A),R=L[0],A=A.substring(L.index+R.length),We.handleKey(u,R,"macro"),d.insertMode){var j=S.insertModeChanges[C++].changes;ie.macroModeState.lastInsertModeChanges.changes=j,Im(u,j,1),es(u)}m.isPlaying=!1}function Ak(u,d){if(!u.isPlaying){var m=u.latestRegister,O=ie.registerController.getRegister(m);O&&O.pushText(d)}}function Ik(u){if(!u.isPlaying){var d=u.latestRegister,m=ie.registerController.getRegister(d);m&&m.pushInsertModeChanges&&m.pushInsertModeChanges(u.lastInsertModeChanges)}}function Mk(u,d){if(!u.isPlaying){var m=u.latestRegister,O=ie.registerController.getRegister(m);O&&O.pushSearchQuery&&O.pushSearchQuery(d)}}function km(u,d){var m=ie.macroModeState,O=m.lastInsertModeChanges;if(!m.isPlaying)for(var S=u.state.vim;d;){if(O.expectCursorActivityForChange=!0,O.ignoreCount>1)O.ignoreCount--;else if(d.origin=="+input"||d.origin=="paste"||d.origin===void 0){var b=u.listSelections().length;b>1&&(O.ignoreCount=b);var C=d.text.join(`
`);if(O.maybeReset&&(O.changes=[],O.maybeReset=!1),C)if(u.state.overwrite&&!/\n/.test(C))O.changes.push([C]);else{if(C.length>1){var I=S&&S.insertEnd&&S.insertEnd.find(),A=u.getCursor();if(I&&I.line==A.line){var L=I.ch-A.ch;L>0&&L<C.length&&(O.changes.push([C,L]),C="")}}C&&O.changes.push(C)}}d=d.next}}function Cm(u){var d=u.state.vim;if(d.insertMode){var m=ie.macroModeState;if(m.isPlaying)return;var O=m.lastInsertModeChanges;O.expectCursorActivityForChange?O.expectCursorActivityForChange=!1:(O.maybeReset=!0,d.insertEnd&&d.insertEnd.clear(),d.insertEnd=u.setBookmark(u.getCursor(),{insertLeft:!0}))}else u.curOp.isVimOp||$m(u,d)}function $m(u,d){var m=u.getCursor("anchor"),O=u.getCursor("head");if(d.visualMode&&!u.somethingSelected()?on(u,!1):!d.visualMode&&!d.insertMode&&u.somethingSelected()&&(d.visualMode=!0,d.visualLine=!1,i.signal(u,"vim-mode-change",{mode:"visual"})),d.visualMode){var S=dt(O,m)?0:-1,b=dt(O,m)?-1:0;O=Mt(O,0,S),m=Mt(m,0,b),d.sel={anchor:m,head:O},Ln(u,d,"<",Oi(O,m)),Ln(u,d,">",Kn(O,m))}else d.insertMode||(d.lastHPos=u.getCursor().ch)}function Uc(u){this.keyName=u}function Pm(u){var d=ie.macroModeState,m=d.lastInsertModeChanges,O=i.keyName(u);if(!O)return;function S(){return m.maybeReset&&(m.changes=[],m.maybeReset=!1),m.changes.push(new Uc(O)),!0}(O.indexOf("Delete")!=-1||O.indexOf("Backspace")!=-1)&&i.lookupKey(O,"vim-insert",S)}function Em(u,d,m,O){var S=ie.macroModeState;S.isPlaying=!0;var b=!!d.lastEditActionCommand,C=d.inputState;function I(){b?Qn.processAction(u,d,d.lastEditActionCommand):Qn.evalInput(u,d)}function A(R){if(S.lastInsertModeChanges.changes.length>0){R=d.lastEditActionCommand?R:1;var j=S.lastInsertModeChanges;Im(u,j.changes,R)}}if(d.inputState=d.lastEditInputState,b&&d.lastEditActionCommand.interlaceInsertRepeat)for(var L=0;L<m;L++)I(),A(1);else O||I(),A(m);d.inputState=C,d.insertMode&&!O&&es(u),S.isPlaying=!1}function Am(u,d){i.lookupKey(d,"vim-insert",function(O){return typeof O=="string"?i.commands[O](u):O(u),!0})}function Im(u,d,m){var O=u.getCursor("head"),S=ie.macroModeState.lastInsertModeChanges.visualBlock;S&&(sm(u,O,S+1),m=u.listSelections().length,u.setCursor(O));for(var b=0;b<m;b++){S&&u.setCursor(Mt(O,b,0));for(var C=0;C<d.length;C++){var I=d[C];if(I instanceof Uc)Am(u,I.keyName);else if(typeof I=="string")u.replaceSelection(I);else{var A=u.getCursor(),L=Mt(A,0,I[0].length-(I[1]||0));u.replaceRange(I[0],A,I[1]?A:L),u.setCursor(L)}}}S&&u.setCursor(Mt(O,0,1))}function jc(u){var d=new u.constructor;return Object.keys(u).forEach(function(m){if(m!="insertEnd"){var O=u[m];Array.isArray(O)?O=O.slice():O&&typeof O=="object"&&O.constructor!=Object&&(O=jc(O)),d[m]=O}}),u.sel&&(d.sel={head:u.sel.head&&Ge(u.sel.head),anchor:u.sel.anchor&&Ge(u.sel.anchor)}),d}function _k(u,d,m){var O=!1,S=We.maybeInitVimState_(u),b=S.visualBlock||S.wasInVisualBlock,C=u.isInMultiSelectMode();if(S.wasInVisualBlock&&!C?S.wasInVisualBlock=!1:C&&S.visualBlock&&(S.wasInVisualBlock=!0),d=="<Esc>"&&!S.insertMode&&!S.visualMode&&C&&S.status=="<Esc>")wt(u);else if(b||!C||u.inVirtualSelectionMode)O=We.handleKey(u,d,m);else{var I=jc(S),A=S.inputState.changeQueueList||[];u.operation(function(){u.curOp.isVimOp=!0;var L=0;u.forEachSelection(function(){u.state.vim.inputState.changeQueue=A[L];var R=u.getCursor("head"),j=u.getCursor("anchor"),G=dt(R,j)?0:-1,U=dt(R,j)?-1:0;R=Mt(R,0,G),j=Mt(j,0,U),u.state.vim.sel.head=R,u.state.vim.sel.anchor=j,O=We.handleKey(u,d,m),u.virtualSelection&&(A[L]=u.state.vim.inputState.changeQueue,u.state.vim=jc(I)),L++}),u.curOp.cursorActivity&&!O&&(u.curOp.cursorActivity=!1),u.state.vim=S,S.inputState.changeQueueList=A,S.inputState.changeQueue=null},!0)}return O&&!S.visualMode&&!S.insert&&S.visualMode!=u.somethingSelected()&&$m(u,S),O}return Je(),We}function ni(i,e){var t=e.ch,n=e.line+1;n<1&&(n=1,t=0),n>i.lines&&(n=i.lines,t=Number.MAX_VALUE);var s=i.line(n);return Math.min(s.from+Math.max(0,t),s.to)}function Ri(i,e){let t=i.lineAt(e);return{line:t.number-1,ch:e-t.from}}class rc{constructor(e,t){this.line=e,this.ch=t}}function Tw(i,e,t){if(i.addEventListener)i.addEventListener(e,t,!1);else{var n=i._handlers||(i._handlers={});n[e]=(n[e]||[]).concat(t)}}function Qw(i,e,t){if(i.removeEventListener)i.removeEventListener(e,t,!1);else{var n=i._handlers,s=n&&n[e];if(s){var r=s.indexOf(t);r>-1&&(n[e]=s.slice(0,r).concat(s.slice(r+1)))}}}function Rw(i,e,...t){var n,s=(n=i._handlers)===null||n===void 0?void 0:n[e];if(s)for(var r=0;r<s.length;++r)s[r](...t)}function z0(i,...e){if(i)for(var t=0;t<i.length;++t)i[t](...e)}var FL={Return:"CR",Backspace:"BS",Delete:"Del",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"CR"," ":"Space"},Lw={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1,AltGraph:1,Dead:1,Unidentified:1};let Pd;try{Pd=new RegExp("[\\w\\p{Alphabetic}\\p{Number}_]","u")}catch{Pd=/[\w]/}function Vo(i,e){var t=i.cm6,n="input.type.compose";if(i.curOp&&(i.curOp.lastChange||(n="input.type.compose.start")),e.annotations)try{e.annotations.some(function(s){s.value=="input"&&(s.value=n)})}catch(s){console.error(s)}else e.userEvent=n;return t.dispatch(e)}function Z0(i,e){var t;i.curOp&&(i.curOp.$changeStart=void 0),(e?ip:Ih)(i.cm6);let n=(t=i.curOp)===null||t===void 0?void 0:t.$changeStart;n!=null&&i.cm6.dispatch({selection:{anchor:n}})}var WL={};class Te{constructor(e){this.state={},this.marks=Object.create(null),this.$mid=0,this.options={},this._handlers={},this.$lastChangeEndOffset=0,this.virtualSelection=null,this.cm6=e,this.onChange=this.onChange.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this)}openDialog(e,t,n){return GL(this,e,t,n)}openNotification(e,t){return YL(this,e,t)}on(e,t){Tw(this,e,t)}off(e,t){Qw(this,e,t)}signal(e,t,n){Rw(this,e,t,n)}indexFromPos(e){return ni(this.cm6.state.doc,e)}posFromIndex(e){return Ri(this.cm6.state.doc,e)}foldCode(e){let t=this.cm6,n=t.state.selection.ranges,s=this.cm6.state.doc,r=ni(s,e),o=F.create([F.range(r,r)],0).ranges;t.state.selection.ranges=o,jx(t),t.state.selection.ranges=n}firstLine(){return 0}lastLine(){return this.cm6.state.doc.lines-1}lineCount(){return this.cm6.state.doc.lines}setCursor(e,t){typeof e=="object"&&(t=e.ch,e=e.line);var n=ni(this.cm6.state.doc,{line:e,ch:t});this.cm6.dispatch({selection:{anchor:n}},{scrollIntoView:!this.curOp}),this.curOp&&!this.curOp.isVimOp&&this.onBeforeEndOperation()}getCursor(e){var t=this.cm6.state.selection.main,n=e=="head"||!e?t.head:e=="anchor"?t.anchor:e=="start"?t.from:e=="end"?t.to:null;if(n==null)throw new Error("Invalid cursor type");return this.posFromIndex(n)}listSelections(){var e=this.cm6.state.doc;return this.cm6.state.selection.ranges.map(t=>({anchor:Ri(e,t.anchor),head:Ri(e,t.head)}))}setSelections(e,t){var n=this.cm6.state.doc,s=e.map(r=>F.range(ni(n,r.anchor),ni(n,r.head)));this.cm6.dispatch({selection:F.create(s,t)})}setSelection(e,t,n){var s=this.cm6.state.doc,r=[F.range(ni(s,e),ni(s,t))];this.cm6.dispatch({selection:F.create(r,0)}),n&&n.origin=="*mouse"&&this.onBeforeEndOperation()}getLine(e){var t=this.cm6.state.doc;return e<0||e>=t.lines?"":this.cm6.state.doc.line(e+1).text}getLineHandle(e){return this.$lineHandleChanges||(this.$lineHandleChanges=[]),{row:e,index:this.indexFromPos(new rc(e,0))}}getLineNumber(e){var t=this.$lineHandleChanges;if(!t)return null;for(var n=e.index,s=0;s<t.length;s++)if(n=t[s].changes.mapPos(n,1,Dt.TrackAfter),n==null)return null;var r=this.posFromIndex(n);return r.ch==0?r.line:null}releaseLineHandles(){this.$lineHandleChanges=void 0}getRange(e,t){var n=this.cm6.state.doc;return this.cm6.state.sliceDoc(ni(n,e),ni(n,t))}replaceRange(e,t,n){n||(n=t);var s=this.cm6.state.doc,r=ni(s,t),o=ni(s,n);Vo(this,{changes:{from:r,to:o,insert:e}})}replaceSelection(e){Vo(this,this.cm6.state.replaceSelection(e))}replaceSelections(e){var t=this.cm6.state.selection.ranges,n=t.map((s,r)=>({from:s.from,to:s.to,insert:e[r]||""}));Vo(this,{changes:n})}getSelection(){return this.getSelections().join(`
`)}getSelections(){var e=this.cm6;return e.state.selection.ranges.map(t=>e.state.sliceDoc(t.from,t.to))}somethingSelected(){return this.cm6.state.selection.ranges.some(e=>!e.empty)}getInputField(){return this.cm6.contentDOM}clipPos(e){var t=this.cm6.state.doc,n=e.ch,s=e.line+1;s<1&&(s=1,n=0),s>t.lines&&(s=t.lines,n=Number.MAX_VALUE);var r=t.line(s);return n=Math.min(Math.max(0,n),r.to-r.from),new rc(s-1,n)}getValue(){return this.cm6.state.doc.toString()}setValue(e){var t=this.cm6;return t.dispatch({changes:{from:0,to:t.state.doc.length,insert:e},selection:F.range(0,0)})}focus(){return this.cm6.focus()}blur(){return this.cm6.contentDOM.blur()}defaultTextHeight(){return this.cm6.defaultLineHeight}findMatchingBracket(e){var t=this.cm6.state,n=ni(t.doc,e),s=Bi(t,n+1,-1);return s&&s.end?{to:Ri(t.doc,s.end.from)}:(s=Bi(t,n,1),s&&s.end?{to:Ri(t.doc,s.end.from)}:{to:void 0})}scanForBracket(e,t,n,s){return KL(this,e,t,n,s)}indentLine(e,t){t?this.indentMore():this.indentLess()}indentMore(){op(this.cm6)}indentLess(){ap(this.cm6)}execCommand(e){e=="indentAuto"?Te.commands.indentAuto(this):e=="goLineLeft"?M1(this.cm6):e=="goLineRight"?(I1(this.cm6),BI(this.cm6)):console.log(e+" is not implemented")}setBookmark(e,t){var n=t?.insertLeft?1:-1,s=this.indexFromPos(e),r=new tN(this,s,n);return r}addOverlay({query:e}){let t=new cp({regexp:!0,search:e.source,caseSensitive:!/i/.test(e.flags)});if(t.valid){t.forVim=!0,this.cm6Query=t;let n=bs.of(t);return this.cm6.dispatch({effects:n}),t}}removeOverlay(e){if(!this.cm6Query)return;this.cm6Query.forVim=!1;let t=bs.of(this.cm6Query);this.cm6.dispatch({effects:t})}getSearchCursor(e,t){var n=this,s=null,r=null;t.ch==null&&(t.ch=Number.MAX_VALUE);var o=ni(n.cm6.state.doc,t),a=e.source.replace(/(\\.|{(?:\d+(?:,\d*)?|,\d+)})|[{}]/g,function(p,g){return g||"\\"+p});function l(p,g=0,y=p.length){return new hp(p,a,{ignoreCase:e.ignoreCase},g,y)}function h(p){var g=n.cm6.state.doc;if(p>g.length)return null;let y=l(g,p).next();return y.done?null:y.value}var c=1e4;function f(p,g){var y=n.cm6.state.doc;for(let v=1;;v++){let w=Math.max(p,g-v*c),k=l(y,w,g),T=null;for(;!k.next().done;)T=k.value;if(T&&(w==p||T.from>w+10))return T;if(w==p)return null}}return{findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(p){var g=n.cm6.state.doc;if(p){let y=s?s.from==s.to?s.to-1:s.from:o;s=f(0,y)}else{let y=s?s.from==s.to?s.to+1:s.to:o;s=h(y)}return r=s&&{from:Ri(g,s.from),to:Ri(g,s.to),match:s.match},s&&s.match},from:function(){return r?.from},to:function(){return r?.to},replace:function(p){s&&(Vo(n,{changes:{from:s.from,to:s.to,insert:p}}),s.to=s.from+p.length,r&&(r.to=Ri(n.cm6.state.doc,s.to)))}}}findPosV(e,t,n,s){let{cm6:r}=this;const o=r.state.doc;let a=n=="page"?r.dom.clientHeight:0;const l=ni(o,e);let h=F.range(l,l,s),c=Math.round(Math.abs(t));for(let p=0;p<c;p++)n=="page"?h=r.moveVertically(h,t>0,a):n=="line"&&(h=r.moveVertically(h,t>0));let f=Ri(o,h.head);return(t<0&&h.head==0&&s!=0&&e.line==0&&e.ch!=0||t>0&&h.head==o.length&&f.ch!=s&&e.line==f.line)&&(f.hitSide=!0),f}charCoords(e,t){var n=this.cm6.contentDOM.getBoundingClientRect(),s=ni(this.cm6.state.doc,e),r=this.cm6.coordsAtPos(s),o=-n.top;return{left:(r?.left||0)-n.left,top:(r?.top||0)+o,bottom:(r?.bottom||0)+o}}coordsChar(e,t){var n=this.cm6.contentDOM.getBoundingClientRect(),s=this.cm6.posAtCoords({x:e.left+n.left,y:e.top+n.top})||0;return Ri(this.cm6.state.doc,s)}getScrollInfo(){var e=this.cm6.scrollDOM;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight,width:e.scrollWidth,clientHeight:e.clientHeight,clientWidth:e.clientWidth}}scrollTo(e,t){e!=null&&(this.cm6.scrollDOM.scrollLeft=e),t!=null&&(this.cm6.scrollDOM.scrollTop=t)}scrollIntoView(e,t){if(e){var n=this.indexFromPos(e);this.cm6.dispatch({effects:he.scrollIntoView(n)})}else this.cm6.dispatch({scrollIntoView:!0,userEvent:"scroll"})}getWrapperElement(){return this.cm6.dom}getMode(){return{name:this.getOption("mode")}}setSize(e,t){this.cm6.dom.style.width=e+4+"px",this.cm6.dom.style.height=t+"px",this.refresh()}refresh(){this.cm6.measure()}destroy(){this.removeOverlay()}getLastEditEnd(){return this.posFromIndex(this.$lastChangeEndOffset)}onChange(e){this.$lineHandleChanges&&this.$lineHandleChanges.push(e);for(let n in this.marks)this.marks[n].update(e.changes);this.virtualSelection&&(this.virtualSelection.ranges=this.virtualSelection.ranges.map(n=>n.map(e.changes)));var t=this.curOp=this.curOp||{};e.changes.iterChanges((n,s,r,o,a)=>{(t.$changeStart==null||t.$changeStart>r)&&(t.$changeStart=r),this.$lastChangeEndOffset=o;var l={text:a.toJSON()};t.lastChange?t.lastChange.next=t.lastChange=l:t.lastChange=t.change=l},!0),t.changeHandlers||(t.changeHandlers=this._handlers.change&&this._handlers.change.slice())}onSelectionChange(){var e=this.curOp=this.curOp||{};e.cursorActivityHandlers||(e.cursorActivityHandlers=this._handlers.cursorActivity&&this._handlers.cursorActivity.slice()),this.curOp.cursorActivity=!0}operation(e){this.curOp||(this.curOp={$d:0}),this.curOp.$d++;try{var t=e()}finally{this.curOp&&(this.curOp.$d--,this.curOp.$d||this.onBeforeEndOperation())}return t}onBeforeEndOperation(){var e=this.curOp,t=!1;e&&(e.change&&z0(e.changeHandlers,this,e.change),e&&e.cursorActivity&&(z0(e.cursorActivityHandlers,this,null),e.isVimOp&&(t=!0)),this.curOp=null),t&&this.scrollIntoView()}moveH(e,t){if(t=="char"){var n=this.getCursor();this.setCursor(n.line,n.ch+e)}}setOption(e,t){switch(e){case"keyMap":this.state.keyMap=t;break}}getOption(e){switch(e){case"firstLineNumber":return 1;case"tabSize":return this.cm6.state.tabSize||4;case"readonly":return this.cm6.state.readOnly;case"indentWithTabs":return this.cm6.state.facet(er)=="	";case"indentUnit":return this.cm6.state.facet(er).length||2;case"keyMap":return this.state.keyMap||"vim"}}toggleOverwrite(e){this.state.overwrite=e}getTokenTypeAt(e){var t,n=this.indexFromPos(e),s=Lx(this.cm6.state,n),r=s?.resolve(n),o=((t=r?.type)===null||t===void 0?void 0:t.name)||"";return/comment/i.test(o)?"comment":/string/i.test(o)?"string":""}overWriteSelection(e){var t=this.cm6.state.doc,n=this.cm6.state.selection,s=n.ranges.map(r=>{if(r.empty){var o=r.to<t.length?t.sliceString(r.from,r.to+1):"";if(o&&!/\n/.test(o))return F.range(r.from,r.to+1)}return r});this.cm6.dispatch({selection:F.create(s,n.mainIndex)}),this.replaceSelection(e)}isInMultiSelectMode(){return this.cm6.state.selection.ranges.length>1}virtualSelectionMode(){return!!this.virtualSelection}forEachSelection(e){var t=this.cm6.state.selection;this.virtualSelection=F.create(t.ranges,t.mainIndex);for(var n=0;n<this.virtualSelection.ranges.length;n++){var s=this.virtualSelection.ranges[n];s&&(this.cm6.dispatch({selection:F.create([s])}),e(),this.virtualSelection.ranges[n]=this.cm6.state.selection.ranges[0])}this.cm6.dispatch({selection:this.virtualSelection}),this.virtualSelection=null}}Te.isMac=typeof navigator<"u"&&/Mac/.test(navigator.platform);Te.Pos=rc;Te.StringStream=uA;Te.commands={cursorCharLeft:function(i){sp(i.cm6)},redo:function(i){Z0(i,!1)},undo:function(i){Z0(i,!0)},newlineAndIndent:function(i){W1({state:i.cm6.state,dispatch:e=>Vo(i,e)})},indentAuto:function(i){G1(i.cm6)}};Te.defineOption=function(i,e,t){};Te.isWordChar=function(i){return Pd.test(i)};Te.keys=WL;Te.keyMap={};Te.addClass=function(){};Te.rmClass=function(){};Te.e_preventDefault=function(i){i.preventDefault()};Te.e_stop=function(i){var e,t;(e=i?.stopPropagation)===null||e===void 0||e.call(i),(t=i?.preventDefault)===null||t===void 0||t.call(i)};Te.keyName=function(i){var e=i.key;if(!Lw[e]){e=="Escape"&&(e="Esc"),e==" "&&(e="Space"),e.length>1&&(e=e.replace(/Numpad|Arrow/,"")),e.length==1&&(e=e.toUpperCase());var t="";return i.ctrlKey&&(t+="Ctrl-"),i.altKey&&(t+="Alt-"),(t||e.length>1)&&i.shiftKey&&(t+="Shift-"),t+=e,t}};Te.vimKey=function(e){var t=e.key;if(!Lw[t]){t.length>1&&t[0]=="n"&&(t=t.replace("Numpad","")),t=FL[t]||t;var n="";return e.ctrlKey&&(n+="C-"),e.altKey&&(n+="A-"),e.metaKey&&(n+="M-"),Te.isMac&&e.altKey&&!e.metaKey&&!e.ctrlKey&&(n=n.slice(2)),(n||t.length>1)&&e.shiftKey&&(n+="S-"),n+=t,n.length>1&&(n="<"+n+">"),n}};Te.lookupKey=function(e,t,n){var s=Te.keys[e];s&&n(s)};Te.on=Tw;Te.off=Qw;Te.signal=Rw;Te.findMatchingTag=JL;Te.findEnclosingTag=eN;function Nw(i,e,t){var n=document.createElement("div");return n.appendChild(e),n}function Dw(i,e){i.state.currentNotificationClose&&i.state.currentNotificationClose(),i.state.currentNotificationClose=e}function YL(i,e,t){Dw(i,a);var n=Nw(i,e,t&&t.bottom),s=!1,r,o=t&&typeof t.duration<"u"?t.duration:5e3;function a(){s||(s=!0,clearTimeout(r),n.remove(),Bw(i,n))}return n.onclick=function(l){l.preventDefault(),a()},Vw(i,n),o&&(r=setTimeout(a,o)),a}function Vw(i,e){var t=i.state.dialog;i.state.dialog=e,e&&t!==e&&(t&&t.contains(document.activeElement)&&i.focus(),t&&t.parentElement?t.parentElement.replaceChild(e,t):t&&t.remove(),Te.signal(i,"dialog"))}function Bw(i,e){i.state.dialog==e&&(i.state.dialog=null,Te.signal(i,"dialog"))}function GL(i,e,t,n){n||(n={}),Dw(i,void 0);var s=Nw(i,e,n.bottom),r=!1;Vw(i,s);function o(l){if(typeof l=="string")a.value=l;else{if(r)return;r=!0,Bw(i,s),i.state.dialog||i.focus(),n.onClose&&n.onClose(s)}}var a=s.getElementsByTagName("input")[0];return a&&(n.value&&(a.value=n.value,n.selectValueOnOpen!==!1&&a.select()),n.onInput&&Te.on(a,"input",function(l){n.onInput(l,a.value,o)}),n.onKeyUp&&Te.on(a,"keyup",function(l){n.onKeyUp(l,a.value,o)}),Te.on(a,"keydown",function(l){n&&n.onKeyDown&&n.onKeyDown(l,a.value,o)||(l.keyCode==13&&t(a.value),(l.keyCode==27||n.closeOnEnter!==!1&&l.keyCode==13)&&(a.blur(),Te.e_stop(l),o()))}),n.closeOnBlur!==!1&&Te.on(a,"blur",function(){setTimeout(function(){document.activeElement!==a&&o()})}),a.focus()),o}var qL={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function HL(i){return i&&i.bracketRegex||/[(){}[\]]/}function KL(i,e,t,n,s){for(var r=s&&s.maxScanLineLength||1e4,o=s&&s.maxScanLines||1e3,a=[],l=HL(s),h=t>0?Math.min(e.line+o,i.lastLine()+1):Math.max(i.firstLine()-1,e.line-o),c=e.line;c!=h;c+=t){var f=i.getLine(c);if(f){var p=t>0?0:f.length-1,g=t>0?f.length:-1;if(!(f.length>r))for(c==e.line&&(p=e.ch-(t<0?1:0));p!=g;p+=t){var y=f.charAt(p);if(l.test(y)){var v=qL[y];if(v&&v.charAt(1)==">"==t>0)a.push(y);else if(a.length)a.pop();else return{pos:new rc(c,p),ch:y}}}}}return c-t==(t>0?i.lastLine():i.firstLine())?!1:null}function JL(i,e){}function eN(i,e){var t,n,s=i.cm6.state,r=i.indexFromPos(e);if(r<s.doc.length){var o=s.sliceDoc(r,r+1);o=="<"&&r++}for(var a=Lx(s,r),l=a?.resolve(r)||null;l;){if(((t=l.firstChild)===null||t===void 0?void 0:t.type.name)=="OpenTag"&&((n=l.lastChild)===null||n===void 0?void 0:n.type.name)=="CloseTag")return{open:U0(s.doc,l.firstChild),close:U0(s.doc,l.lastChild)};l=l.parent}}function U0(i,e){return{from:Ri(i,e.from),to:Ri(i,e.to)}}class tN{constructor(e,t,n){this.cm=e,this.id=e.$mid++,this.offset=t,this.assoc=n,e.marks[this.id]=this}clear(){delete this.cm.marks[this.id]}find(){return this.offset==null?null:this.cm.posFromIndex(this.offset)}update(e){this.offset!=null&&(this.offset=e.mapPos(this.offset,this.assoc,Dt.TrackDel))}}class iN{constructor(e,t,n,s,r,o,a,l,h,c){this.left=e,this.top=t,this.height=n,this.fontFamily=s,this.fontSize=r,this.fontWeight=o,this.color=a,this.className=l,this.letter=h,this.partial=c}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",e.style.height=this.height+"px",e.style.lineHeight=this.height+"px",e.style.fontFamily=this.fontFamily,e.style.fontSize=this.fontSize,e.style.fontWeight=this.fontWeight,e.style.color=this.partial?"transparent":this.color,e.className=this.className,e.textContent=this.letter}eq(e){return this.left==e.left&&this.top==e.top&&this.height==e.height&&this.fontFamily==e.fontFamily&&this.fontSize==e.fontSize&&this.fontWeight==e.fontWeight&&this.color==e.color&&this.className==e.className&&this.letter==e.letter}}class nN{constructor(e,t){this.view=e,this.rangePieces=[],this.cursors=[],this.cm=t,this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration="1200ms"}update(e){(e.selectionSet||e.geometryChanged||e.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink")}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:e}=this.view,t=[];for(let n of e.selection.ranges){let s=n==e.selection.main,r=aN(this.cm,this.view,n,s);r&&t.push(r)}return{cursors:t}}drawSel({cursors:e}){if(e.length!=this.cursors.length||e.some((t,n)=>!t.eq(this.cursors[n]))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const n of e)this.cursorLayer.appendChild(n.draw())}else e.forEach((n,s)=>n.adjust(t[s]));this.cursors=e}}destroy(){this.cursorLayer.remove()}}const sN={".cm-vimMode .cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696",color:"transparent !important"}},rN=$s.highest(he.theme(sN));function oN(i){let e=i.scrollDOM.getBoundingClientRect();return{left:(i.textDirection==lt.LTR?e.left:e.right-i.scrollDOM.clientWidth)-i.scrollDOM.scrollLeft,top:e.top-i.scrollDOM.scrollTop}}function aN(i,e,t,n){let s=t.head,r=!1,o=1,a=i.state.vim;if(a&&(!a.insertMode||i.state.overwrite)){if(r=!0,a.visualBlock&&!n)return null;t.anchor<t.head&&s--,i.state.overwrite?o=.2:a.status&&(o=.5)}if(r){let h=s<e.state.doc.length&&e.state.sliceDoc(s,s+1);h&&/[\uDC00-\uDFFF]/.test(h)&&s>1&&(s--,h=e.state.sliceDoc(s,s+1));let c=e.coordsAtPos(s,1);if(!c)return null;let f=oN(e),p=e.domAtPos(s),g=p?p.node:e.contentDOM;for(;p&&p.node instanceof HTMLElement;)g=p.node,p={node:p.node.childNodes[p.offset],offset:0};if(!(g instanceof HTMLElement)){if(!g.parentNode)return null;g=g.parentNode}let y=getComputedStyle(g),v=c.left;if(!h||h==`
`||h=="\r")h=" ";else if(h=="	"){h=" ";var l=e.coordsAtPos(s+1,-1);l&&(v=l.left-(l.left-c.left)/parseInt(y.tabSize))}else/[\uD800-\uDBFF]/.test(h)&&s<e.state.doc.length-1&&(h+=e.state.sliceDoc(s+1,s+2));let w=c.bottom-c.top;return new iN(v-f.left,c.top-f.top+w*(1-o),w*o,y.fontFamily,y.fontSize,y.fontWeight,y.color,n?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",h,o!=1)}else return null}var lN=typeof navigator<"u"&&/linux/i.test(navigator.platform)&&/ Gecko\/\d+/.exec(navigator.userAgent);const Po=jL(Te),hN=250,cN=he.baseTheme({".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"0px 10px",fontFamily:"monospace",minHeight:"1.3em"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"inherit"},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"}}),uN=gt.fromClass(class{constructor(i){this.status="",this.query=null,this.decorations=ye.none,this.waitForCopy=!1,this.lastKeydown="",this.useNextTextInput=!1,this.view=i;const e=this.cm=new Te(i);Po.enterVimMode(this.cm),this.view.cm=this.cm,this.cm.state.vimPlugin=this,this.blockCursor=new nN(i,e),this.updateClass(),this.cm.on("vim-command-done",()=>{e.state.vim&&(e.state.vim.status=""),this.blockCursor.scheduleRedraw(),this.updateStatus()}),this.cm.on("vim-mode-change",t=>{e.state.vim.mode=t.mode,t.subMode&&(e.state.vim.mode+=" block"),e.state.vim.status="",this.blockCursor.scheduleRedraw(),this.updateClass(),this.updateStatus()}),this.cm.on("dialog",()=>{this.cm.state.statusbar?this.updateStatus():i.dispatch({effects:Xw.of(!!this.cm.state.dialog)})}),this.dom=document.createElement("span"),this.dom.style.cssText="position: absolute; right: 10px; top: 1px",this.statusButton=document.createElement("span"),this.statusButton.onclick=t=>{Po.handleKey(this.cm,"<Esc>","user"),this.cm.focus()},this.statusButton.style.cssText="cursor: pointer"}update(i){var e;if((i.viewportChanged||i.docChanged)&&this.query&&this.highlight(this.query),i.docChanged&&this.cm.onChange(i),i.selectionSet&&this.cm.onSelectionChange(),i.viewportChanged,this.cm.curOp&&!this.cm.curOp.isVimOp&&this.cm.onBeforeEndOperation(),i.transactions){for(let t of i.transactions)for(let n of t.effects)if(n.is(bs))if(!((e=n.value)===null||e===void 0?void 0:e.forVim))this.highlight(null);else{let r=n.value.create();this.highlight(r)}}this.blockCursor.update(i)}updateClass(){const i=this.cm.state;!i.vim||i.vim.insertMode&&!i.overwrite?this.view.scrollDOM.classList.remove("cm-vimMode"):this.view.scrollDOM.classList.add("cm-vimMode")}updateStatus(){let i=this.cm.state.statusbar,e=this.cm.state.vim;if(!i||!e)return;let t=this.cm.state.dialog;if(t)t.parentElement!=i&&(i.textContent="",i.appendChild(t));else{i.textContent="";var n=(e.mode||"normal").toUpperCase();e.insertModeReturn&&(n+="(C-O)"),this.statusButton.textContent=`--${n}--`,i.appendChild(this.statusButton)}this.dom.textContent=e.status,i.appendChild(this.dom)}destroy(){Po.leaveVimMode(this.cm),this.updateClass(),this.blockCursor.destroy(),delete this.view.cm}highlight(i){if(this.query=i,!i)return this.decorations=ye.none;let{view:e}=this,t=new Un;for(let n=0,s=e.visibleRanges,r=s.length;n<r;n++){let{from:o,to:a}=s[n];for(;n<r-1&&a>s[n+1].from-2*hN;)a=s[++n].to;i.highlight(e.state,o,a,(l,h)=>{t.add(l,h,dN)})}return this.decorations=t.finish()}handleKey(i,e){const t=Te.vimKey(i),n=this.cm;if(!t)return;let s=n.state.vim;if(!s)return;if(t=="<Esc>"&&!s.insertMode&&!s.visualMode&&this.query){const a=s.searchState_;a&&(n.removeOverlay(a.getOverlay()),a.setOverlay(null))}if(t==="<C-c>"&&!Te.isMac&&n.somethingSelected())return this.waitForCopy=!0,!0;s.status=(s.status||"")+t;let o=Po.multiSelectHandleKey(n,t,"user");return s=n.state.vim,!o&&s.insertMode&&n.state.overwrite&&(i.key&&i.key.length==1&&!/\n/.test(i.key)?(o=!0,n.overWriteSelection(i.key)):i.key=="Backspace"&&(o=!0,Te.commands.cursorCharLeft(n))),o&&(Te.signal(this.cm,"vim-keypress",t),i.preventDefault(),i.stopPropagation(),this.blockCursor.scheduleRedraw()),this.updateStatus(),!!o}},{eventHandlers:{copy:function(i,e){this.waitForCopy&&(this.waitForCopy=!1,Promise.resolve().then(()=>{var t=this.cm,n=t.state.vim;n&&(n.insertMode?t.setSelection(t.getCursor(),t.getCursor()):t.operation(()=>{t.curOp&&(t.curOp.isVimOp=!0),Po.handleKey(t,"<Esc>","user")}))}))},compositionstart:function(i,e){this.useNextTextInput=!0},keypress:function(i,e){this.lastKeydown=="Dead"&&this.handleKey(i,e)},keydown:function(i,e){this.lastKeydown=i.key,this.lastKeydown=="Unidentified"||this.lastKeydown=="Process"||this.lastKeydown=="Dead"?this.useNextTextInput=!0:(this.useNextTextInput=!1,this.handleKey(i,e))}},provide:()=>[he.inputHandler.of((i,e,t,n)=>{var s,r,o=ON(i);if(!o)return!1;var a=(s=o.state)===null||s===void 0?void 0:s.vim,l=o.state.vimPlugin;return a&&!a.insertMode&&!(!((r=o.curOp)===null||r===void 0)&&r.isVimOp)?(n==="\0\0"||(n.length==1&&l.useNextTextInput&&l.handleKey({key:n,preventDefault:()=>{},stopPropagation:()=>{}}),fN(i)),!0):!1})],decorations:i=>i.decorations});function fN(i){var e=i.scrollDOM.parentElement;if(e){if(lN){i.contentDOM.textContent="\0\0",i.contentDOM.dispatchEvent(new CustomEvent("compositionend"));return}var t=i.scrollDOM.nextSibling,n=window.getSelection(),s=n&&{anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset};i.scrollDOM.remove(),e.insertBefore(i.scrollDOM,t);try{s&&n&&(n.setPosition(s.anchorNode,s.anchorOffset),s.focusNode&&n.extend(s.focusNode,s.focusOffset))}catch(r){console.error(r)}i.focus(),i.contentDOM.dispatchEvent(new CustomEvent("compositionend"))}}const dN=ye.mark({class:"cm-searchMatch"}),Xw=$e.define(),pN=It.define({create:()=>!1,update(i,e){for(let t of e.effects)t.is(Xw)&&(i=t.value);return i},provide:i=>Js.from(i,e=>e?mN:null)});function mN(i){let e=document.createElement("div");e.className="cm-vim-panel";let t=i.cm;return t.state.dialog&&e.appendChild(t.state.dialog),{top:!1,dom:e}}function gN(i){let e=document.createElement("div");e.className="cm-vim-panel";let t=i.cm;return t.state.statusbar=e,t.state.vimPlugin.updateStatus(),{dom:e}}function zw(i={}){return[cN,uN,rN,i.status?Js.of(gN):pN]}function ON(i){return i.cm||null}const Zw=new Jr,yN=()=>Zw.of(ka().vimMode?zw():[]);function qN(i){const{vimMode:e}=Iw(["vimMode"]);oc(()=>{i&&i.dispatch({effects:Zw.reconfigure(e?zw():[])})},[e])}var Uw=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},j0=(i,e,t)=>(Uw(i,e,"read from private field"),t?t.call(i):e.get(i)),vN=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},xN=(i,e,t,n)=>(Uw(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t),Eo,F0;function W0(i){const e=[];for(const{from:t,to:n}of i.visibleRanges)St(i.state).iterate({from:t,to:n,enter:s=>{if(Qo(s.node,i)){const r=ye.mark({tagName:"span",class:"cm-number-scrubber",attributes:{"data-from":s.from,"data-to":s.to}});e.push(r.range(s.from,s.to))}}});return ye.set(e)}const SN=gt.fromClass((F0=class{constructor(i){vN(this,Eo,!1),this.num=0,this.sigfigs=0,this.updateSpan=null,this.decorations=W0(i)}get dragging(){return j0(this,Eo)}set dragging(i){const e=j0(this,Eo);xN(this,Eo,i),!i&&e&&xw()}update(i){(i.docChanged||i.viewportChanged)&&(this.decorations=W0(i.view))}},Eo=new WeakMap,F0),{decorations:i=>i.decorations,eventHandlers:{mousedown(i,e){const n=i.target.closest(".cm-number-scrubber");if(n){this.updateSpan=bw(Number(n.dataset.from),Number(n.dataset.to),e),this.dragging=!0;const s=e.state.doc.sliceString(this.updateSpan.from,this.updateSpan.to).replaceAll(" ","");this.num=Number(s),this.sigfigs=s.split(".")[1]?.length??0}},mouseup(i,e){this.dragging=!1},mousemove(i,e){if(!this.dragging||!this.updateSpan)return!1;if(i.buttons===0)return this.dragging=!1,!1;i.preventDefault(),i.stopPropagation(),this.num+=this.sigfigs?i.movementX*10**(-1*this.sigfigs):i.movementX;const t=this.num.toFixed(this.sigfigs);return kw([ww(this.updateSpan,t)],e).then(Cw),!0}}}),bN=he.baseTheme({"& .cm-errorLine":{position:"relative"},"& .cm-errorLine::before":{content:'""',backgroundColor:"rgba(255, 0, 0, 0.3)",position:"absolute",inset:0,zIndex:-1,borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},"& .cm-errorLine.cm-activeLineGutter::before":{zIndex:1}}),jw=$e.define({map:(i,e)=>({pos:i.pos===null?null:e.mapPos(i.pos)})}),wN=new class extends En{constructor(){super(...arguments),this.elementClass="cm-errorLine"}},Y0=It.define({create(){return Ze.empty},update(i,e){i=i.map(e.changes);for(const t of e.effects)t.is(jw)&&(i=t.value.pos===null?Ze.empty:Ze.of([wN.range(t.value.pos)]));return i}}),HN=(i,e)=>i.dispatch({effects:jw.of({pos:e})}),kN=()=>[bN,Y0,Cx.from(Y0)];var Fw={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(i){(function(){var e={}.hasOwnProperty;function t(){for(var n=[],s=0;s<arguments.length;s++){var r=arguments[s];if(r){var o=typeof r;if(o==="string"||o==="number")n.push(r);else if(Array.isArray(r)){if(r.length){var a=t.apply(null,r);a&&n.push(a)}}else if(o==="object"){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){n.push(r.toString());continue}for(var l in r)e.call(r,l)&&r[l]&&n.push(l)}}}return n.join(" ")}i.exports?(t.default=t,i.exports=t):window.classNames=t})()})(Fw);var CN=Fw.exports;const $N=OL(CN);var PN=0;function Ut(i,e,t,n,s,r){var o,a,l={};for(a in e)a=="ref"?o=e[a]:l[a]=e[a];var h={type:i,props:l,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--PN,__source:s,__self:r};if(typeof i=="function"&&(o=i.defaultProps))for(a in o)l[a]===void 0&&(l[a]=o[a]);return Jt.vnode&&Jt.vnode(h),h}function EN(i){return Ut("button",{class:$N(dr.button,i.variant==="secondary"?dr.secondary:i.variant==="accent"?dr.accent:i.variant==="ghost"?dr.ghost:"",i.loading?dr.loading:"",i.icon&&dr.icon,i.class??""),role:i.role??"button",type:i.type??"button",disabled:i.disabled||i.loading,onClick:()=>i.onClick?.(),...i.icon?{"aria-label":i["aria-label"]}:{},children:i.children})}function AN(i){return Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",className:i.className,children:[Ut("path",{d:"M15,21a3,3,0,0,1-3,3h-.1a5,5,0,1,0,0,2H12a5,5,0,0,0,5-5ZM7,28a3,3,0,1,1,3-3A3,3,0,0,1,7,28Z"}),Ut("rect",{x:"15",y:"13",width:"2",height:"6"}),Ut("path",{d:"M25,2a5,5,0,0,0-4.9,4H20a5,5,0,0,0-5,5h2a3,3,0,0,1,3-3h.1A5,5,0,1,0,25,2Zm0,8a3,3,0,1,1,3-3A3,3,0,0,1,25,10Z"})]})}function IN(i){return Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",className:i.className,children:Ut("polygon",{points:"24 9.4 22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4"})})}const MN=Ut("div",{children:"test"}),_N=(i,e)=>class extends _n{constructor(t){super(),this.props=t,this.id=Math.random()}eq(t){if(e)return e(this.props,t.props);for(const n in this.props)if(this.props[n]!==t.props[n])return!1;return!0}toDOM(t){const n=document.createElement("span");return console.log("render",this.props.yStart.from,this.id),_m(oh(i,{props:this.props,view:t}),n),n}updateDOM(t,n){return console.log("dom update!",this.props.yStart.from,this.id),_m(oh(i,{props:this.props,view:n}),t),!0}},[TN,QN]=ac(),RN=i=>i.replace(/\.?0+$/,""),LN=_N(({view:i,props:e})=>{const[t,n]=Lk(null),s=Tm(()=>Object.values(e).flat().map(a=>bw(a.from,a.to,i)),[]);oc(()=>{Object.values(e).flat().forEach((a,l)=>{s[l].from=a.from,s[l].to=a.to})},[e]),TN(()=>{n(null)},[]);const r=Nk(a=>{const l=Object.values(a).flat();kw(l.map((h,c)=>ww(s[c],RN(h.toFixed(3)))),i).then(Cw)},[]),o=Tm(()=>{const a=l=>Number(i.state.sliceDoc(l.from,l.to));return{yStart:a(e.yStart),p0:[a(e.p0[0]),a(e.p0[1])],p1:[a(e.p1[0]),a(e.p1[1])],yEnd:a(e.yEnd)}},[]);return Ut("span",{class:Ha.bezierWidget,children:[t!==null&&Ut("div",{class:Ha.bezierWidgetPopup,style:{top:t===0?"0":"100%"},children:Ut(MN,{initialValue:o,onChange:r,children:Ut("div",{class:Ha.bezierWidgetHeader,children:[Ut("h3",{children:"edit bezier"}),Ut(EN,{variant:"ghost",icon:!0,"aria-label":"close",onClick:()=>n(null),children:Ut(IN,{})})]})})}),Ut("button",{class:Ha.bezierWidgetBtn,onClick:a=>{if(t!==null){n(null);return}QN(null);const l=a.currentTarget.getBoundingClientRect();n(l.top>window.innerHeight/2?0:1)},children:[Ut(AN,{}),"bezierEasing"]})]})},(i,e)=>i.yStart.from===e.yStart.from&&i.p0[0].from===e.p0[0].from&&i.p0[1].from===e.p0[1].from&&i.p1[0].from===e.p1[0].from&&i.p1[1].from===e.p1[1].from&&i.yEnd.from===e.yEnd.from),nf=i=>{const e=[];if(!i.firstChild)return e;for(e.push(i=i.firstChild);i.nextSibling;)e.push(i=i.nextSibling);return e};function G0(i){const e=[];for(const{from:t,to:n}of i.visibleRanges)St(i.state).iterate({from:t,to:n,enter(s){if(s.name!=="CallExpression")return;let r=s.node.getChild("VariableName");if(r===null&&(r=s.node.getChild("MemberExpression").getChild("PropertyName")),r===null||i.state.doc.sliceString(r.from,r.to)!=="bezierEasing")return;const a=nf(s.node.getChild("ArgList")).filter(y=>!["(",")",","].includes(y.name)),l={};if(a.length!==4||(l.yStart=a[0],!Qo(l.yStart,i)))return;const h=a[1];if(h.name!=="ArrayExpression")return;const c=nf(h);if(c.length!==5||(l.p0=[c[1],c[3]],l.p0.find(y=>!Qo(y,i))))return;const f=a[2];if(f.name!=="ArrayExpression")return;const p=nf(f);if(p.length!==5||(l.p1=[p[1],p[3]],l.p1.find(y=>!Qo(y,i)))||(l.yEnd=a[3],!Qo(l.yEnd,i)))return;const g=ye.replace({widget:new LN(l)});e.push(g.range(r.from,r.to))}});return ye.set(e)}const NN=gt.fromClass(class{constructor(i){this.decorations=G0(i)}update(i){(i.docChanged||i.viewportChanged)&&(this.decorations=G0(i.view))}},{decorations:i=>i.decorations}),DN=d_.filter((i,e)=>![11,12].includes(e)),VN=he.theme({".cm-content":{fontFamily:"var(--font-mono)",fontSize:"14px"}}),BN=[DN,mI(),Aa.of([$M]),er.of("  "),VN,he.updateListener.of(i=>{const{code:e}=Ca();e.cmState=i.state,i.docChanged&&(e.content=i.state.doc.toString(),i.transactions.find(t=>t.annotation($t.userEvent)!==void 0)&&($d.value=!0),Kk())}),UL(),yN(),SN,kN(),NN],Ww=i=>Ve.create({extensions:BN,doc:i}),[KN,JN]=ac(),eD=(i,e)=>{const t=e.state.doc.line(i.line).from+i.column;e.dispatch({selection:{anchor:t,head:t},effects:he.scrollIntoView(t,{y:"center"})}),e.focus()},XN={inst:null,connected:!1,turtles:[],turtlePos:null,error:null,console:[],running:!1,docDimensions:{width:125,height:125},view:null},zN=`
// welcome to haxidraw!

const width = 125;
const height = 125;

setDocDimensions(width, height);

const testTurtle = createTurtle();

for (let i = 0; i < 86; i++) {
    testTurtle.forward(i);
    testTurtle.left(91);
}

testTurtle.translate(
  [width/2, height/2], 
  testTurtle.cc
);

drawTurtles(
    testTurtle
);
`.trim(),q0=(i=zN)=>({code:{content:i,cmState:Ww(i)},...XN});function tD(i){Ir({code:{content:i,cmState:Ww(i)}})}const H0=localStorage.getItem("cache"),[iD,Ir,Ca]=tv(H0?q0(H0):q0());export{EN as B,Ve as E,em as T,iD as a,Iw as b,$N as c,YN as d,GN as e,he as f,Ca as g,JN as h,eA as i,mI as j,qN as k,tD as l,q0 as m,KN as n,Ut as o,Ir as p,HN as q,xw as r,qx as s,UL as t,FN as u,eD as v};
